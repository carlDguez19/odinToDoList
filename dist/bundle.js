(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");if(o.length)for(var c=o.length-1;c>-1&&!t;)t=o[c--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"abbfad808c2786a6a2d4.png",n=e.p+"986e98635b18601755cf.png",o=e.p+"177a54134d0bd5aefd06.png",c=e.p+"edb755c23d1ebcf9c7a4.png",i=e.p+"c9c7160b568bb10d504c.png",r=(f(".projAdd"),f(".projRemove"),document.querySelector(".newProjectOverlay"));var l=function(e){const t=e.target.matches(".projEdit"),n=e.target.matches(".projRemove"),o=(e.target.matches(".projAdd"),f(".projectNameMain"));if(t){console.log("editButton clicked"),c=o.textContent,r.style.animation="projectSlideDown 1.5s forwards",f("#title").value=c,s(o);for(let e=0;e<m.length;e++)console.log(e+1+" "+m[e].title)}else if(n){console.log("removeButton clicked"),function(e){const t=f(".sidebarProject"),n=t.children;for(let o=0;o<n.length;o++)n[o].textContent==e&&t.removeChild(n[o])}(o.textContent),function(e){for(let t=0;t<m.length;t++)m[t].title==e&&m.splice(t,1)}(o.textContent),p();for(let e=0;e<m.length;e++)console.log(e+1+" "+m[e].title)}var c};function s(e){let t=0;for(let n=0;n<m.length;n++)if(t=n,m[n].title==e)return m[n]}const d=f(".projectSection");function a(e){const t=f(".sidebarProject");let n=document.createElement("span");n.textContent=e,n.classList.add("projectNameSidebar"),t.appendChild(n)}function u(e){p();const t=document.createElement("div"),n=document.createElement("ul");n.classList.add("todoUL");const r=document.createElement("input");r.type="checkbox",r.classList.add("projectCheckbox");const s=document.createElement("span");if(e.title.length>30){let t=e.title.slice(0,31);s.textContent=t+"..."}else s.textContent=e.title;s.classList.add("projectNameMain");const a=document.createElement("div"),u=document.createElement("div"),m=document.createElement("div"),f=document.createElement("div"),g=new Image;g.src=c,g.classList.add("projAdd");const h=new Image;h.src=i,h.classList.add("projEdit");const j=new Image;j.src=o,j.classList.add("projRemove"),u.appendChild(g),m.appendChild(h),f.appendChild(j),a.appendChild(u),a.appendChild(m),a.appendChild(f),a.classList.add("projectOptions"),t.appendChild(r),t.appendChild(s),t.appendChild(a),t.classList.add("project"),d.appendChild(t),d.appendChild(n),document.addEventListener("click",l)}function p(){for(document.removeEventListener("click",l);d.firstChild;)d.removeChild(d.firstChild)}let m=[];function f(e){return document.querySelector(e)}class g{constructor(e,t){this.title=e,this.description=t,this.toDos=[]}get title(){return this._title}get description(){return this._description}get toDoList(){return this._toDos}set title(e){this._title=e}set description(e){this._description=e}}const h=document.querySelector(".newProjectOverlay");function j(){document.getElementById("title").value="",document.getElementById("description").value=""}!function(){const e=document.querySelector(".menuContainer"),i=document.querySelector(".mainLogo"),r=document.querySelector(".menuClose"),l=document.querySelector(".createProj"),d=new Image;d.src=t,d.classList.add("main-menu-logo");const a=new Image;a.src=n,a.classList.add("main-logo");const p=new Image;p.src=o,p.classList.add("menuClose");const m=new Image;m.src=c,m.classList.add("addProjButton"),e.appendChild(d),i.appendChild(a),r.appendChild(p),l.appendChild(m);const f=document.querySelector(".sidebar-menu"),g=document.querySelector(".newProjectOverlay");e.addEventListener("click",(function(){f.style.animation="menuSlideOn 1.5s forwards"})),r.addEventListener("click",(function(){f.style.animation="menuSlideClose 1.5s forwards"})),l.addEventListener("click",(function(){f.style.animation="menuSlideClose 1.5s forwards",g.style.animation="projectSlideDown 1.5s forwards"})),f.addEventListener("click",(e=>{"SPAN"===e.target.tagName&&(console.log("the following is e.target.value"),console.log(e.target.textContent),u(s(e.target.textContent)))}))}(),function(){const e=document.querySelector(".closeButton"),t=document.querySelector(".submitButton");e.addEventListener("click",(function(){h.style.animation="projectSlideUp 1.5s forwards",j()})),t.addEventListener("click",(function(){h.style.animation="projectSlideUp 1.5s forwards";const e=function(){const e=document.getElementById("title").value;let t=document.getElementById("description").value;if(e){const n=new g(e,t);return m.push(n),n}!function(){const e=document.querySelector(".errorProjectOverlay");e.style.animation="projectSlideDown 1.5s forwards",setTimeout((function(){e.style.animation="projectSlideUp 1.5s forwards"}),2500),j(),h.style.animation="projectSlideDown 1.5s forwards"}()}();if(e){a(e.title),u(e);for(let e=0;e<m.length;e++)console.log(e+1+" "+m[e].title)}j()}))}(),u({title:"defaultProject",description:"This is a default project. You can also create your own :)"}),a("defaultProject"),m[0]={title:"defaultProject",description:"This is a default project. You can also create your own :)"}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVksK0JBQzlCLE1BQU11RSxFQWVkLFdBQ0ksTUFBTUMsRUFBYWhHLFNBQVNpRixlQUFlLFNBQVN4RCxNQUNwRCxJQUFJd0UsRUFBWWpHLFNBQVNpRixlQUFlLGVBQWV4RCxNQUV2RCxHQUFHdUUsRUFBVyxDQUVWLE1BQU1FLEVBQWMsSUFBSTdCLEVBQVEyQixFQUFZQyxHQUk1QyxPQUhBckUsRUFBUXVFLEtBQUtELEdBR05BLENBQ1gsRUFPSixXQUNJLE1BQU1FLEVBQWVwRyxTQUFTWSxjQUFjLHdCQUM1Q3dGLEVBQWE3RSxNQUFNQyxVQUFZLGlDQUMvQjZFLFlBQVcsV0FDUEQsRUFBYTdFLE1BQU1DLFVBQVksOEJBQ25DLEdBQUcsTUFDSHdELElBQ0FELEVBQVl4RCxNQUFNQyxVQUFZLGdDQUNsQyxDQWJROEUsRUFHUixDQS9CNkJDLEdBRXJCLEdBQUdSLEVBQWEsQ0FFWnRELEVBQW9Cc0QsRUFBYWxFLE9BQ2pDbUIsRUFBcUIrQyxHQUVyQixJQUFJLElBQUlwRSxFQUFJLEVBQUdBLEVBQUlDLEVBQVF2QixPQUFRc0IsSUFDL0JSLFFBQVFDLElBQUtPLEVBQUUsRUFBSSxJQUFLQyxFQUFRRCxHQUFHRSxNQUUzQyxDQUNBbUQsR0FDSixHQUNKLENDN0JBd0IsR0FDQXhELEVBQXFCLENBQUNuQixNQUFPLGlCQUFrQjBDLFlBQWEsK0RBQzVEOUIsRUFBb0Isa0JBQ3BCYixFQUFRLEdBQUssQ0FBQ0MsTUFBTyxpQkFBa0IwQyxZQUFhLDZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEV2ZW50TGlzdGVuZXJzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0RE9NLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9tZW51RXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RDbGFzcy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEZvcm0uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImltcG9ydCB7IGRxcyB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgcHJvakFyciB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgY2xlYXJNYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuLy9pbXBvcnQgeyBwcm9qT3ZlcmxheSB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuXG5jb25zdCBwcm9qVGFza0FkZCA9IGRxcyhcIi5wcm9qQWRkXCIpO1xuY29uc3QgcHJvalJlbUJ1dHRvbiA9IGRxcyhcIi5wcm9qUmVtb3ZlXCIpO1xuY29uc3QgcHJvak92ZXJsYXkxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RFTGlzdGVuZXJzKCl7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGVzdGVyaW5nKVxufTtcblxuZXhwb3J0IHZhciBfdGVzdGVyaW5nID0gZnVuY3Rpb24oZSl7XG4gICAgLy9nbyB0aHJvdWhnIGFycmF5IGNvbXBhcmluZyB0aXRsZVxuICAgICAgICAvL3doZW4gZm91bmQgZmlsbCBwcm9qZWN0Rm9ybSBhbmQgZHJvcCBmb3JtIGRvd24gZm9yIHVzZXJcbiAgICAgICAgLy9pZiBzdWJtaXQgdGhlbiByZXBsYWNlIGluZm8gd2l0aCBuZXcgaW5mb1xuICAgICAgICAvL2Vsc2UgaWYgY2FuY2VsIHRoZW4gbGVhdmUgcHJvamVjdCBhcyBpdCB3YXNcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImluIHByb2pFZGl0QnV0dG9uIGV2ZW50TGlzdGVuZXJcIik7XG4gICAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBlLnRhcmdldC5tYXRjaGVzKFwiLnByb2pFZGl0XCIpO1xuICAgICAgICBjb25zdCByZW1vdmVCdXR0b24gPSBlLnRhcmdldC5tYXRjaGVzKFwiLnByb2pSZW1vdmVcIik7XG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdXR0b24gPSBlLnRhcmdldC5tYXRjaGVzKFwiLnByb2pBZGRcIik7XG4gICAgICAgIGNvbnN0IGN1cnJUaXRsZSA9IGRxcyhcIi5wcm9qZWN0TmFtZU1haW5cIik7XG4gICAgICAgIGlmKGVkaXRCdXR0b24pey8vdGhpcyB3aWxsIGJlIGRvbmUgb25jZSAncmVtb3ZlJyBpcyBjb21wbGV0ZWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZWRpdEJ1dHRvbiBjbGlja2VkXCIpO1xuICAgICAgICAgICAgZWRpdEZvcm0oY3VyclRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kUHJvaiA9IGZpbmRQcm9qZWN0SW5BcnIoY3VyclRpdGxlKTsvL3RoaXMgd2lsbCBiZSBsZWZ0IHRpbGwgdGhlIGVuZFxuICAgICAgICAgICAgZm9yKGxldCBhID0gMDsgYSA8IHByb2pBcnIubGVuZ3RoOyBhKyspe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKChhKzEpKyBcIiBcIisgcHJvakFyclthXS50aXRsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2UgaWYocmVtb3ZlQnV0dG9uKXtcbiAgICAgICAgICAgIC8vY29uc3QgY3VyclRpdGxlID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZlQnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICAgICAgICByZW1vdmVQcm9qZWN0U2lkZShjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgcmVtb3ZlUHJvakFycihjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY2xlYXJNYWluKCk7XG4gICAgICAgICAgICAvL2NvbnN0IHNpZGVCYXIgPSBkcXMoXCIuc2lkZWJhci1tZW51XCIpO1xuICAgICAgICAgICAgLy9zaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVPbiAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgICAgIGZvcihsZXQgYSA9IDA7IGEgPCBwcm9qQXJyLmxlbmd0aDsgYSsrKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygoYSsxKSsgXCIgXCIrIHByb2pBcnJbYV0udGl0bGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihhZGRUYXNrQnV0dG9uKXtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByb2plY3RTaWRlKHByb2pOYW1lKXtcbiAgICBjb25zdCBzaWRlYmFyUHJvaiA9IGRxcyhcIi5zaWRlYmFyUHJvamVjdFwiKTtcbiAgICBjb25zdCBzaWRlYmFyUHJvakNoaWxkcmVuID0gc2lkZWJhclByb2ouY2hpbGRyZW47XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHNpZGViYXJQcm9qQ2hpbGRyZW4ubGVuZ3RoOyBpKyspe1xuICAgICAgICBpZihzaWRlYmFyUHJvakNoaWxkcmVuW2ldLnRleHRDb250ZW50ID09IHByb2pOYW1lKXtcbiAgICAgICAgICAgIHNpZGViYXJQcm9qLnJlbW92ZUNoaWxkKHNpZGViYXJQcm9qQ2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVQcm9qQXJyKHByb2pOYW1lKXtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvakFyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKHByb2pBcnJbaV0udGl0bGUgPT0gcHJvak5hbWUpe1xuICAgICAgICAgICAgcHJvakFyci5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGVkaXRGb3JtKHByb2plY3RUaXRsZSl7XG4gICAgcHJvak92ZXJsYXkxLnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHMnO1xuICAgIGNvbnN0IHRpdGxlSW4gPSBkcXMoXCIjdGl0bGVcIik7XG4gICAgdGl0bGVJbi52YWx1ZSA9IHByb2plY3RUaXRsZTtcblxuICAgIC8vYWRkIGV2ZW50TGlzdGVuZXIgZm9yIHN1Ym1pdCBhbmQgY2FuY2VsIGJ1dHRvbnMgb24gcHJvamVjdCBmb3JtXG4gICAgLy9ob3BlZnVsbHkgdGhleSB3aWxsIGRvIHNvbWV0aGluZyBkaWZmZXJlbnQ/Pz9cbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kUHJvamVjdEluQXJyKHRpdGxlKXsvL01JR0hUIE5PVCBORUVEIFRISVMgTUlHSFQgTk9UIE5FRUQgVEhJUyBNSUdIVCBOT1QgTkVFRCBUSElTXG4gICAgLy9jb25zb2xlLmxvZyhcImxvb2tpbmcgZm9yIHByb2plY3QgaW4gYXJyXCIpXG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvakFyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgaWYocHJvakFycltpXS50aXRsZSA9PSB0aXRsZSl7XG4gICAgICAgICAgICByZXR1cm4gcHJvakFycltpXTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgUmVtb3ZlIGZyb20gJy4uL3NyYy9pbWdzL2Nsb3NlLnBuZyc7XG5pbXBvcnQgQ3JlYXRlIGZyb20gJy4uL3NyYy9pbWdzL2FkZC5wbmcnO1xuaW1wb3J0IEVkaXQgZnJvbSAnLi4vc3JjL2ltZ3MvZWRpdC5wbmcnO1xuaW1wb3J0IHsgZHFzIH0gZnJvbSAnLi9tZW51RXZlbnRMaXN0ZW5lcnMnO1xuaW1wb3J0IHsgcHJvamVjdEVMaXN0ZW5lcnMgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG5pbXBvcnQgeyBfdGVzdGVyaW5nIH0gZnJvbSAnLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnMnO1xuXG5jb25zdCBtYWluU2VjID0gZHFzKFwiLnByb2plY3RTZWN0aW9uXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkUHJvamVjdFRvU2lkZWJhcihwcm9qZWN0VGl0bGUpe1xuICAgIGNvbnN0IHByb2pTaWRlID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGxldCBwcm9qVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgcHJvalRpdGxlLnRleHRDb250ZW50ID0gcHJvamVjdFRpdGxlO1xuICAgIHByb2pUaXRsZS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0TmFtZVNpZGViYXInKTtcbiAgICBwcm9qU2lkZS5hcHBlbmRDaGlsZChwcm9qVGl0bGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVByb2plY3RJbk1haW4ocHJvamVjdCl7XG4gICAgY2xlYXJNYWluKCk7XG4gICAgY29uc3QgcHJvakRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgdGFza1NlY1VMID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICB0YXNrU2VjVUwuY2xhc3NMaXN0LmFkZChcInRvZG9VTFwiKVxuICAgIFxuICAgIGNvbnN0IHByb2pDaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgcHJvakNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgcHJvakNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0Q2hlY2tib3hcIik7XG5cbiAgICBcbiAgICBjb25zdCBwcm9qTmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgaWYocHJvamVjdC50aXRsZS5sZW5ndGggPiAzMCl7XG4gICAgICAgIGxldCBtYWluTW9kUHJvalRpdGxlID0gcHJvamVjdC50aXRsZS5zbGljZSgwLDMxKTtcbiAgICAgICAgcHJvak5hbWVTcGFuLnRleHRDb250ZW50ID0gbWFpbk1vZFByb2pUaXRsZSArIFwiLi4uXCI7XG4gICAgfWVsc2V7XG4gICAgICAgIHByb2pOYW1lU3Bhbi50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG4gICAgfVxuICAgIHByb2pOYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdE5hbWVNYWluXCIpO1xuXG4gICAgXG4gICAgY29uc3QgYnV0dG9uQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIFxuICAgIGNvbnN0IGFkZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGVkaXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCByZW1vdmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGNvbnN0IGFkZEljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBhZGRJY29uLnNyYyA9IENyZWF0ZTtcbiAgICBhZGRJY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2pBZGQnKTtcblxuICAgIGNvbnN0IGVkaXRJY29uID0gbmV3IEltYWdlKCk7XG4gICAgZWRpdEljb24uc3JjID0gRWRpdDtcbiAgICBlZGl0SWNvbi5jbGFzc0xpc3QuYWRkKCdwcm9qRWRpdCcpO1xuXG4gICAgY29uc3QgcmVtSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIHJlbUljb24uc3JjID0gUmVtb3ZlO1xuICAgIHJlbUljb24uY2xhc3NMaXN0LmFkZCgncHJvalJlbW92ZScpO1xuXG4gICAgYWRkRGl2LmFwcGVuZENoaWxkKGFkZEljb24pO1xuICAgIGVkaXREaXYuYXBwZW5kQ2hpbGQoZWRpdEljb24pO1xuICAgIHJlbW92ZURpdi5hcHBlbmRDaGlsZChyZW1JY29uKTtcbiAgICBcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKGFkZERpdik7XG4gICAgYnV0dG9uQ29udC5hcHBlbmRDaGlsZChlZGl0RGl2KTtcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKHJlbW92ZURpdik7XG4gICAgYnV0dG9uQ29udC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdE9wdGlvbnNcIik7XG5cbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKHByb2pDaGVja2JveCk7XG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChwcm9qTmFtZVNwYW4pO1xuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQoYnV0dG9uQ29udCk7XG4gICAgcHJvakRpdi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFwiKTtcblxuICAgIG1haW5TZWMuYXBwZW5kQ2hpbGQocHJvakRpdik7XG4gICAgbWFpblNlYy5hcHBlbmRDaGlsZCh0YXNrU2VjVUwpO1xuICAgIFxuICAgIC8vY2FsbCBldmVudExpc3RlbmVyIGhlcmVcbiAgICBwcm9qZWN0RUxpc3RlbmVycygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJNYWluKCl7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGVzdGVyaW5nKTtcbiAgICB3aGlsZShtYWluU2VjLmZpcnN0Q2hpbGQpe1xuICAgICAgICBtYWluU2VjLnJlbW92ZUNoaWxkKG1haW5TZWMuZmlyc3RDaGlsZClcbiAgICB9XG59IiwiaW1wb3J0IE1lbnUgZnJvbSAnLi4vc3JjL2ltZ3MvbWVudS5wbmcnXG5pbXBvcnQgQnJhbmQgZnJvbSAnLi4vc3JjL2ltZ3MvV29ya2VyQW50c01vZC5wbmcnO1xuaW1wb3J0IENsb3NlIGZyb20gJy4uL3NyYy9pbWdzL2Nsb3NlLnBuZyc7XG5pbXBvcnQgQ3JlYXRlIGZyb20gJy4uL3NyYy9pbWdzL2FkZC5wbmcnO1xuaW1wb3J0IHsgZGlzcGxheVByb2plY3RJbk1haW4gfSBmcm9tICcuL3Byb2plY3RET00nO1xuaW1wb3J0IHsgZmluZFByb2plY3RJbkFyciB9IGZyb20gJy4vcHJvamVjdEV2ZW50TGlzdGVuZXJzJztcbi8vSSBORUVEIFRPIEFERCBBIEdMT0JBTCBWQVJJQUJMRSBBUlJBWSBUSEFUIFNUT1JFUyBBTEwgVEhFIFBST0pFQ1RTIEhFUkVcbmV4cG9ydCBsZXQgcHJvakFyciA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gZHFzKGMpe1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVudUV2ZW50TGlzdGVuKCl7XG4gICAgY29uc3QgbWVudUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudUNvbnRhaW5lclwiKTtcbiAgICBjb25zdCBtYWluTG9nb0NvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5Mb2dvXCIpO1xuICAgIGNvbnN0IGNsb3NlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51Q2xvc2VcIik7XG4gICAgY29uc3QgY3JlYXRlUHJvakNvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNyZWF0ZVByb2pcIik7XG4gICAgXG4gICAgY29uc3QgbWVudUljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBtZW51SWNvbi5zcmMgPSBNZW51O1xuICAgIG1lbnVJY29uLmNsYXNzTGlzdC5hZGQoJ21haW4tbWVudS1sb2dvJyk7XG5cbiAgICBjb25zdCBtYWluTG9nb0ltZyA9IG5ldyBJbWFnZSgpO1xuICAgIG1haW5Mb2dvSW1nLnNyYyA9IEJyYW5kO1xuICAgIG1haW5Mb2dvSW1nLmNsYXNzTGlzdC5hZGQoJ21haW4tbG9nbycpO1xuXG4gICAgY29uc3QgY2xvc2VJY29uID0gbmV3IEltYWdlKCk7XG4gICAgY2xvc2VJY29uLnNyYyA9IENsb3NlO1xuICAgIGNsb3NlSWNvbi5jbGFzc0xpc3QuYWRkKCdtZW51Q2xvc2UnKTtcblxuICAgIGNvbnN0IGNyZWF0ZVByb2pJY29uID0gbmV3IEltYWdlKCk7XG4gICAgY3JlYXRlUHJvakljb24uc3JjID0gQ3JlYXRlO1xuICAgIGNyZWF0ZVByb2pJY29uLmNsYXNzTGlzdC5hZGQoJ2FkZFByb2pCdXR0b24nKTtcblxuICAgIG1lbnVDb250YWluZXIuYXBwZW5kQ2hpbGQobWVudUljb24pO1xuICAgIG1haW5Mb2dvQ29udC5hcHBlbmRDaGlsZChtYWluTG9nb0ltZyk7XG4gICAgY2xvc2VDb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcbiAgICBjcmVhdGVQcm9qQ29udC5hcHBlbmRDaGlsZChjcmVhdGVQcm9qSWNvbik7XG5cbiAgICBjb25zdCBzaWRlQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW1lbnVcIik7XG4gICAgY29uc3QgcHJvak92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG4gICAgbWVudUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNpZGVCYXIuc3R5bGUuYW5pbWF0aW9uID0gJ21lbnVTbGlkZU9uIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIGNsb3NlQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlQ2xvc2UgMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgY3JlYXRlUHJvakNvbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiY3JlYXRlIHByb2plY3QgYnV0dG9uIGNsaWNrZWQhIVwiKTtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlQ2xvc2UgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIHNpZGVCYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZihlLnRhcmdldC50YWdOYW1lID09PSAnU1BBTicpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGUgZm9sbG93aW5nIGlzIGUudGFyZ2V0LnZhbHVlXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZS50YXJnZXQudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3QgZGlzcFByb2ogPSBmaW5kUHJvamVjdEluQXJyKGUudGFyZ2V0LnRleHRDb250ZW50KVxuICAgICAgICAgICAgZGlzcGxheVByb2plY3RJbk1haW4oZGlzcFByb2opO1xuICAgICAgICB9XG4gICAgfSk7XG59IiwiZXhwb3J0IGNsYXNzIFByb2plY3R7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uKXtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMudG9Eb3MgPSBbXTtcbiAgICB9XG4gICAgZ2V0IHRpdGxlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgZ2V0IHRvRG9MaXN0KCl7Ly9nZXQgYXJyYXkgdGhlbiBwdXNoIGEgdG9Eb1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9Eb3M7XG4gICAgfVxuXG4gICAgc2V0IHRpdGxlKG5ld1RpdGxlKXtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBuZXdUaXRsZTtcbiAgICB9XG4gICAgc2V0IGRlc2NyaXB0aW9uKG5ld0Rlc2Mpe1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IG5ld0Rlc2M7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RDbGFzc1wiO1xuaW1wb3J0IHsgcHJvakFyciB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgYWRkUHJvamVjdFRvU2lkZWJhciB9IGZyb20gXCIuL3Byb2plY3RET01cIjtcbmltcG9ydCB7IGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuLy9pbXBvcnQgeyBwcm9qZWN0RUxpc3RlbmVycyB9IGZyb20gXCIuL3Byb2plY3RFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgX3Rlc3RlcmluZyB9IGZyb20gXCIuL3Byb2plY3RFdmVudExpc3RlbmVyc1wiO1xuXG5jb25zdCBwcm9qT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0T3ZlcmxheVN0dWZmKCl7XG4gICAgLy9jb25zdCBwcm9qT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbiAgICAvL2J1dHRvbnNcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2VCdXR0b25cIik7XG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXRCdXR0b25cIik7XG5cbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgcHJvamVjdEZvcm1DbGVhcigpO1xuICAgIH0pXG4gICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInN1Ym1pdCBidXR0b24gY2xpY2tlZFwiKTtcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHMnO1xuICAgICAgICBjb25zdCBwcm9qZWN0UGFyYW0gPSBleHRyYWN0RGF0YUZvclByb2plY3QoKTtcbiAgICAgICAgLy9jcmVhdGVQcm9qZWN0RE9NKHByb2plY3RQYXJhbSk7Ly90aGlzIHdpbGwgYmUgaW4gcHJvamVjdERPTS5qcyBmaWxlXG4gICAgICAgIGlmKHByb2plY3RQYXJhbSl7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicHJvamVjdCBvYmogcmV0dXJuZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgYWRkUHJvamVjdFRvU2lkZWJhcihwcm9qZWN0UGFyYW0udGl0bGUpLy90aGlzIHdpbGwgYmUgaW4gcHJvamVjdERPTS5qcyBmaWxlXG4gICAgICAgICAgICBkaXNwbGF5UHJvamVjdEluTWFpbihwcm9qZWN0UGFyYW0pO1xuICAgICAgICAgICAgLy9wcm9qZWN0RUxpc3RlbmVycygpO1xuICAgICAgICAgICAgZm9yKGxldCBhID0gMDsgYSA8IHByb2pBcnIubGVuZ3RoOyBhKyspe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKChhKzEpKyBcIiBcIisgcHJvakFyclthXS50aXRsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZXh0cmFjdERhdGFGb3JQcm9qZWN0KCl7XG4gICAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWVcbiAgICBsZXQgZGVzY0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcblxuICAgIGlmKHRpdGxlSW5wdXQpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiZGV0ZWN0ZWQgdGl0bGVcIik7Ly9kZWJ1Z2dpbmdcbiAgICAgICAgY29uc3QgcHJvamVjdE1hZGUgPSBuZXcgUHJvamVjdCh0aXRsZUlucHV0LCBkZXNjSW5wdXQpO1xuICAgICAgICBwcm9qQXJyLnB1c2gocHJvamVjdE1hZGUpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKHByb2pBcnJbKHByb2pBcnIubGVuZ3RoKS0xXS50aXRsZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2cocHJvakFyclsocHJvakFyci5sZW5ndGgpLTFdLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RNYWRlO1xuICAgIH1lbHNle1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiTmVlZCBhIHRpdGxlIHRvIGNyZWF0ZSBhIHByb2plY3QhXCIpOy8vZGVidWdnaW5nXG4gICAgICAgIGRpc3BsYXlOZWVkVGl0bGUoKTsvLyBDQU4gSU5TRVJUIERPTSBNQU5JUFVMQVRJT04gVE8gU0hJRlQgRE9XTiBUSEUgRVJST1IgT1ZFUkxBWSA6KVxuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNwbGF5TmVlZFRpdGxlKCl7XG4gICAgY29uc3QgZXJyb3JPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvclByb2plY3RPdmVybGF5XCIpO1xuICAgIGVycm9yT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkc1wiXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBlcnJvck92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzXCJcbiAgICB9LCAyNTAwKTtcbiAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RGb3JtQ2xlYXIoKXtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlID0gXCJcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlID0gXCJcIjtcbn0iLCJpbXBvcnQgeyBtZW51RXZlbnRMaXN0ZW4sIHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgcHJvamVjdE92ZXJsYXlTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RGb3JtXCI7XG4vL2ltcG9ydCB7IHByb2plY3RFTGlzdGVuZXJzIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG4vLyBpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG4vLyBpbXBvcnQgeyBjcmVhdGVQcm9qZWN0RnJvbURhdGEgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xubWVudUV2ZW50TGlzdGVuKCk7XG5wcm9qZWN0T3ZlcmxheVN0dWZmKCk7XG5kaXNwbGF5UHJvamVjdEluTWFpbih7dGl0bGU6IFwiZGVmYXVsdFByb2plY3RcIiwgZGVzY3JpcHRpb246IFwiVGhpcyBpcyBhIGRlZmF1bHQgcHJvamVjdC4gWW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biA6KVwifSk7XG5hZGRQcm9qZWN0VG9TaWRlYmFyKFwiZGVmYXVsdFByb2plY3RcIik7XG5wcm9qQXJyWzBdID0ge3RpdGxlOiBcImRlZmF1bHRQcm9qZWN0XCIsIGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBkZWZhdWx0IHByb2plY3QuIFlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gOilcIn07XG4vL3Byb2plY3RFTGlzdGVuZXJzKCk7XG4vLyBsZXQgcHJvajEgPSBuZXcgUHJvamVjdChcImNhcmxvc0JydWhcIiwgXCJhcGl1ZlwiKTtcbi8vIGNvbnNvbGUubG9nKHByb2oxLm5hbWUpO1xuLy8gY29uc29sZS5sb2cocHJvajEuZGVzY3JpcHRpb24pOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiaSIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJwcm9qT3ZlcmxheTEiLCJkcXMiLCJxdWVyeVNlbGVjdG9yIiwiX3Rlc3RlcmluZyIsImVkaXRCdXR0b24iLCJ0YXJnZXQiLCJtYXRjaGVzIiwicmVtb3ZlQnV0dG9uIiwiY3VyclRpdGxlIiwiY29uc29sZSIsImxvZyIsInByb2plY3RUaXRsZSIsInRleHRDb250ZW50Iiwic3R5bGUiLCJhbmltYXRpb24iLCJ2YWx1ZSIsImZpbmRQcm9qZWN0SW5BcnIiLCJhIiwicHJvakFyciIsInRpdGxlIiwicHJvak5hbWUiLCJzaWRlYmFyUHJvaiIsInNpZGViYXJQcm9qQ2hpbGRyZW4iLCJjaGlsZHJlbiIsInJlbW92ZUNoaWxkIiwicmVtb3ZlUHJvamVjdFNpZGUiLCJzcGxpY2UiLCJyZW1vdmVQcm9qQXJyIiwiY2xlYXJNYWluIiwiaW5kZXgiLCJtYWluU2VjIiwiYWRkUHJvamVjdFRvU2lkZWJhciIsInByb2pTaWRlIiwicHJvalRpdGxlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwiZGlzcGxheVByb2plY3RJbk1haW4iLCJwcm9qZWN0IiwicHJvakRpdiIsInRhc2tTZWNVTCIsInByb2pDaGVja2JveCIsInR5cGUiLCJwcm9qTmFtZVNwYW4iLCJtYWluTW9kUHJvalRpdGxlIiwic2xpY2UiLCJidXR0b25Db250IiwiYWRkRGl2IiwiZWRpdERpdiIsInJlbW92ZURpdiIsImFkZEljb24iLCJJbWFnZSIsImVkaXRJY29uIiwicmVtSWNvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZmlyc3RDaGlsZCIsImMiLCJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJkZXNjcmlwdGlvbiIsInRvRG9zIiwiX3RpdGxlIiwiX2Rlc2NyaXB0aW9uIiwidG9Eb0xpc3QiLCJfdG9Eb3MiLCJuZXdUaXRsZSIsIm5ld0Rlc2MiLCJwcm9qT3ZlcmxheSIsInByb2plY3RGb3JtQ2xlYXIiLCJnZXRFbGVtZW50QnlJZCIsIm1lbnVDb250YWluZXIiLCJtYWluTG9nb0NvbnQiLCJjbG9zZUNvbnRhaW5lciIsImNyZWF0ZVByb2pDb250IiwibWVudUljb24iLCJtYWluTG9nb0ltZyIsImNsb3NlSWNvbiIsImNyZWF0ZVByb2pJY29uIiwic2lkZUJhciIsInRhZ05hbWUiLCJtZW51RXZlbnRMaXN0ZW4iLCJjbG9zZUJ1dHRvbiIsInN1Ym1pdEJ1dHRvbiIsInByb2plY3RQYXJhbSIsInRpdGxlSW5wdXQiLCJkZXNjSW5wdXQiLCJwcm9qZWN0TWFkZSIsInB1c2giLCJlcnJvck92ZXJsYXkiLCJzZXRUaW1lb3V0IiwiZGlzcGxheU5lZWRUaXRsZSIsImV4dHJhY3REYXRhRm9yUHJvamVjdCIsInByb2plY3RPdmVybGF5U3R1ZmYiXSwic291cmNlUm9vdCI6IiJ9