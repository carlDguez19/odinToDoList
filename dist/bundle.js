(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");if(o.length)for(var c=o.length-1;c>-1&&!t;)t=o[c--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"abbfad808c2786a6a2d4.png",n=e.p+"986e98635b18601755cf.png",o=e.p+"177a54134d0bd5aefd06.png",c=e.p+"edb755c23d1ebcf9c7a4.png",i=e.p+"c9c7160b568bb10d504c.png",r=(f(".projAdd"),f(".projRemove"),document.querySelector(".newProjectOverlay"));var l=function(e){const t=e.target.matches(".projEdit"),n=e.target.matches(".projRemove"),o=f(".projectNameMain");if(t){console.log("editButton clicked"),c=o.textContent,r.style.animation="projectSlideDown 1.5s forwards",f("#title").value=c,s(o);for(let e=0;e<m.length;e++)console.log(m[e].title)}else if(n){console.log("removeButton clicked"),function(e){const t=f(".sidebarProject"),n=t.children;for(let o=0;o<n.length;o++)n[o].textContent==e&&t.removeChild(n[o])}(o.textContent),function(e){for(let t=0;t<m.length;t++)m[t].title==e&&m.splice(t,1)}(o.textContent),p();for(let e=0;e<m.length;e++)console.log(m[e].title)}var c};function s(e){let t=0;for(let n=0;n<m.length;n++)if(t=n,m[n].title==e)return m[n]}const d=f(".projectSection");function a(e){const t=f(".sidebarProject");let n=document.createElement("span");n.textContent=e,n.classList.add("projectNameSidebar"),t.appendChild(n)}function u(e){p();const t=document.createElement("div"),n=document.createElement("input");n.type="checkbox",n.classList.add("projectCheckbox");const r=document.createElement("span");if(e.title.length>30){let t=e.title.slice(0,31);r.textContent=t+"..."}else r.textContent=e.title;r.classList.add("projectNameMain");const s=document.createElement("div"),a=document.createElement("div"),u=document.createElement("div"),m=document.createElement("div"),f=new Image;f.src=c,f.classList.add("projAdd");const g=new Image;g.src=i,g.classList.add("projEdit");const h=new Image;h.src=o,h.classList.add("projRemove"),a.appendChild(f),u.appendChild(g),m.appendChild(h),s.appendChild(a),s.appendChild(u),s.appendChild(m),s.classList.add("projectOptions"),t.appendChild(n),t.appendChild(r),t.appendChild(s),t.classList.add("project"),d.appendChild(t),document.addEventListener("click",l)}function p(){for(document.removeEventListener("click",l);d.firstChild;)d.removeChild(d.firstChild)}let m=[];function f(e){return document.querySelector(e)}class g{constructor(e,t){this.title=e,this.description=t,this.toDos=[]}get title(){return this._title}get description(){return this._description}get toDoList(){return this._toDos}set title(e){this._title=e}set description(e){this._description=e}}const h=document.querySelector(".newProjectOverlay");function j(){document.getElementById("title").value="",document.getElementById("description").value=""}!function(){const e=document.querySelector(".menuContainer"),i=document.querySelector(".mainLogo"),r=document.querySelector(".menuClose"),l=document.querySelector(".createProj"),d=new Image;d.src=t,d.classList.add("main-menu-logo");const a=new Image;a.src=n,a.classList.add("main-logo");const p=new Image;p.src=o,p.classList.add("menuClose");const m=new Image;m.src=c,m.classList.add("addProjButton"),e.appendChild(d),i.appendChild(a),r.appendChild(p),l.appendChild(m);const f=document.querySelector(".sidebar-menu"),g=document.querySelector(".newProjectOverlay");e.addEventListener("click",(function(){f.style.animation="menuSlideOn 1.5s forwards"})),r.addEventListener("click",(function(){f.style.animation="menuSlideClose 1.5s forwards"})),l.addEventListener("click",(function(){console.log("create project button clicked!!"),f.style.animation="menuSlideClose 1.5s forwards",g.style.animation="projectSlideDown 1.5s forwards"})),f.addEventListener("click",(e=>{"SPAN"===e.target.tagName&&(console.log("the following is e.target.value"),console.log(e.target.textContent),u(s(e.target.textContent)))}))}(),function(){const e=document.querySelector(".closeButton"),t=document.querySelector(".submitButton");e.addEventListener("click",(function(){h.style.animation="projectSlideUp 1.5s forwards",j()})),t.addEventListener("click",(function(){h.style.animation="projectSlideUp 1.5s forwards";const e=function(){const e=document.getElementById("title").value;let t=document.getElementById("description").value;if(e){const n=new g(e,t);return m.push(n),n}!function(){const e=document.querySelector(".errorProjectOverlay");e.style.animation="projectSlideDown 1.5s forwards",setTimeout((function(){e.style.animation="projectSlideUp 1.5s forwards"}),2500),j(),h.style.animation="projectSlideDown 1.5s forwards"}()}();if(e){a(e.title),u(e);for(let e=0;e<m.length;e++)console.log(m[e].title)}j()}))}(),u({title:"defaultProject",description:"This is a default project. You can also create your own :)"}),a("defaultProject"),m[0]={title:"defaultProject",description:"This is a default project. You can also create your own :)"}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VyxDQUVWLE1BQU1FLEVBQWMsSUFBSTdCLEVBQVEyQixFQUFZQyxHQUk1QyxPQUhBcEUsRUFBUXNFLEtBQUtELEdBR05BLENBQ1gsRUFPSixXQUNJLE1BQU1FLEVBQWVuRyxTQUFTWSxjQUFjLHdCQUM1Q3VGLEVBQWE1RSxNQUFNQyxVQUFZLGlDQUMvQjRFLFlBQVcsV0FDUEQsRUFBYTVFLE1BQU1DLFVBQVksOEJBQ25DLEdBQUcsTUFDSHVELElBQ0FELEVBQVl2RCxNQUFNQyxVQUFZLGdDQUNsQyxDQWJRNkUsRUFHUixDQS9CNkJDLEdBRXJCLEdBQUdSLEVBQWEsQ0FFWnJELEVBQW9CcUQsRUFBYWpFLE9BQ2pDbUIsRUFBcUI4QyxHQUVyQixJQUFJLElBQUluRSxFQUFJLEVBQUdBLEVBQUlDLEVBQVF2QixPQUFRc0IsSUFDL0JSLFFBQVFDLElBQUlRLEVBQVFELEdBQUdFLE1BRS9CLENBQ0FrRCxHQUNKLEdBQ0osQ0M3QkF3QixHQUNBdkQsRUFBcUIsQ0FBQ25CLE1BQU8saUJBQWtCeUMsWUFBYSwrREFDNUQ3QixFQUFvQixrQkFDcEJiLEVBQVEsR0FBSyxDQUFDQyxNQUFPLGlCQUFrQnlDLFlBQWEsNkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGludG9kb2xpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0RXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RET00uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL21lbnVFdmVudExpc3RlbmVycy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdENsYXNzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0Rm9ybS5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAhc2NyaXB0VXJsKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0IHsgZHFzIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBjbGVhck1haW4gfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG4vL2ltcG9ydCB7IHByb2pPdmVybGF5IH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5cbmNvbnN0IHByb2pUYXNrQWRkID0gZHFzKFwiLnByb2pBZGRcIik7XG5jb25zdCBwcm9qUmVtQnV0dG9uID0gZHFzKFwiLnByb2pSZW1vdmVcIik7XG5jb25zdCBwcm9qT3ZlcmxheTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdEVMaXN0ZW5lcnMoKXtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90ZXN0ZXJpbmcpXG59O1xuXG5leHBvcnQgdmFyIF90ZXN0ZXJpbmcgPSBmdW5jdGlvbihlKXtcbiAgICAvL2dvIHRocm91aGcgYXJyYXkgY29tcGFyaW5nIHRpdGxlXG4gICAgICAgIC8vd2hlbiBmb3VuZCBmaWxsIHByb2plY3RGb3JtIGFuZCBkcm9wIGZvcm0gZG93biBmb3IgdXNlclxuICAgICAgICAvL2lmIHN1Ym1pdCB0aGVuIHJlcGxhY2UgaW5mbyB3aXRoIG5ldyBpbmZvXG4gICAgICAgIC8vZWxzZSBpZiBjYW5jZWwgdGhlbiBsZWF2ZSBwcm9qZWN0IGFzIGl0IHdhc1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiaW4gcHJvakVkaXRCdXR0b24gZXZlbnRMaXN0ZW5lclwiKTtcbiAgICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvakVkaXRcIik7XG4gICAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvalJlbW92ZVwiKTtcbiAgICAgICAgY29uc3QgY3VyclRpdGxlID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcbiAgICAgICAgaWYoZWRpdEJ1dHRvbil7Ly90aGlzIHdpbGwgYmUgZG9uZSBvbmNlICdyZW1vdmUnIGlzIGNvbXBsZXRlZFxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlZGl0QnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICAgICAgICBlZGl0Rm9ybShjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3QgZm91bmRQcm9qID0gZmluZFByb2plY3RJbkFycihjdXJyVGl0bGUpOy8vdGhpcyB3aWxsIGJlIGxlZnQgdGlsbCB0aGUgZW5kXG4gICAgICAgICAgICBmb3IobGV0IGEgPSAwOyBhIDwgcHJvakFyci5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJvakFyclthXS50aXRsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2UgaWYocmVtb3ZlQnV0dG9uKXtcbiAgICAgICAgICAgIC8vY29uc3QgY3VyclRpdGxlID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZlQnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICAgICAgICByZW1vdmVQcm9qZWN0U2lkZShjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgcmVtb3ZlUHJvakFycihjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY2xlYXJNYWluKCk7XG4gICAgICAgICAgICAvL2NvbnN0IHNpZGVCYXIgPSBkcXMoXCIuc2lkZWJhci1tZW51XCIpO1xuICAgICAgICAgICAgLy9zaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVPbiAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgICAgIGZvcihsZXQgYSA9IDA7IGEgPCBwcm9qQXJyLmxlbmd0aDsgYSsrKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9qQXJyW2FdLnRpdGxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByb2plY3RTaWRlKHByb2pOYW1lKXtcbiAgICBjb25zdCBzaWRlYmFyUHJvaiA9IGRxcyhcIi5zaWRlYmFyUHJvamVjdFwiKTtcbiAgICBjb25zdCBzaWRlYmFyUHJvakNoaWxkcmVuID0gc2lkZWJhclByb2ouY2hpbGRyZW47XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHNpZGViYXJQcm9qQ2hpbGRyZW4ubGVuZ3RoOyBpKyspe1xuICAgICAgICBpZihzaWRlYmFyUHJvakNoaWxkcmVuW2ldLnRleHRDb250ZW50ID09IHByb2pOYW1lKXtcbiAgICAgICAgICAgIHNpZGViYXJQcm9qLnJlbW92ZUNoaWxkKHNpZGViYXJQcm9qQ2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVQcm9qQXJyKHByb2pOYW1lKXtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvakFyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKHByb2pBcnJbaV0udGl0bGUgPT0gcHJvak5hbWUpe1xuICAgICAgICAgICAgcHJvakFyci5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGVkaXRGb3JtKHByb2plY3RUaXRsZSl7XG4gICAgcHJvak92ZXJsYXkxLnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHMnO1xuICAgIGNvbnN0IHRpdGxlSW4gPSBkcXMoXCIjdGl0bGVcIik7XG4gICAgdGl0bGVJbi52YWx1ZSA9IHByb2plY3RUaXRsZTtcblxuICAgIC8vYWRkIGV2ZW50TGlzdGVuZXIgZm9yIHN1Ym1pdCBhbmQgY2FuY2VsIGJ1dHRvbnMgb24gcHJvamVjdCBmb3JtXG4gICAgLy9ob3BlZnVsbHkgdGhleSB3aWxsIGRvIHNvbWV0aGluZyBkaWZmZXJlbnQ/Pz9cbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kUHJvamVjdEluQXJyKHRpdGxlKXsvL01JR0hUIE5PVCBORUVEIFRISVMgTUlHSFQgTk9UIE5FRUQgVEhJUyBNSUdIVCBOT1QgTkVFRCBUSElTXG4gICAgLy9jb25zb2xlLmxvZyhcImxvb2tpbmcgZm9yIHByb2plY3QgaW4gYXJyXCIpXG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvakFyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgaWYocHJvakFycltpXS50aXRsZSA9PSB0aXRsZSl7XG4gICAgICAgICAgICByZXR1cm4gcHJvakFycltpXTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgUmVtb3ZlIGZyb20gJy4uL3NyYy9pbWdzL2Nsb3NlLnBuZyc7XG5pbXBvcnQgQ3JlYXRlIGZyb20gJy4uL3NyYy9pbWdzL2FkZC5wbmcnO1xuaW1wb3J0IEVkaXQgZnJvbSAnLi4vc3JjL2ltZ3MvZWRpdC5wbmcnO1xuaW1wb3J0IHsgZHFzIH0gZnJvbSAnLi9tZW51RXZlbnRMaXN0ZW5lcnMnO1xuaW1wb3J0IHsgcHJvamVjdEVMaXN0ZW5lcnMgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG5pbXBvcnQgeyBfdGVzdGVyaW5nIH0gZnJvbSAnLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnMnO1xuXG5jb25zdCBtYWluU2VjID0gZHFzKFwiLnByb2plY3RTZWN0aW9uXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkUHJvamVjdFRvU2lkZWJhcihwcm9qZWN0VGl0bGUpe1xuICAgIGNvbnN0IHByb2pTaWRlID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGxldCBwcm9qVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgcHJvalRpdGxlLnRleHRDb250ZW50ID0gcHJvamVjdFRpdGxlO1xuICAgIHByb2pUaXRsZS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0TmFtZVNpZGViYXInKTtcbiAgICBwcm9qU2lkZS5hcHBlbmRDaGlsZChwcm9qVGl0bGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVByb2plY3RJbk1haW4ocHJvamVjdCl7XG4gICAgY2xlYXJNYWluKCk7XG4gICAgY29uc3QgcHJvakRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgXG4gICAgY29uc3QgcHJvakNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBwcm9qQ2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICBwcm9qQ2hlY2tib3guY2xhc3NMaXN0LmFkZChcInByb2plY3RDaGVja2JveFwiKTtcblxuICAgIFxuICAgIGNvbnN0IHByb2pOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBpZihwcm9qZWN0LnRpdGxlLmxlbmd0aCA+IDMwKXtcbiAgICAgICAgbGV0IG1haW5Nb2RQcm9qVGl0bGUgPSBwcm9qZWN0LnRpdGxlLnNsaWNlKDAsMzEpO1xuICAgICAgICBwcm9qTmFtZVNwYW4udGV4dENvbnRlbnQgPSBtYWluTW9kUHJvalRpdGxlICsgXCIuLi5cIjtcbiAgICB9ZWxzZXtcbiAgICAgICAgcHJvak5hbWVTcGFuLnRleHRDb250ZW50ID0gcHJvamVjdC50aXRsZTtcbiAgICB9XG4gICAgcHJvak5hbWVTcGFuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0TmFtZU1haW5cIik7XG5cbiAgICBcbiAgICBjb25zdCBidXR0b25Db250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG4gICAgY29uc3QgYWRkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgZWRpdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHJlbW92ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgYWRkSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGFkZEljb24uc3JjID0gQ3JlYXRlO1xuICAgIGFkZEljb24uY2xhc3NMaXN0LmFkZCgncHJvakFkZCcpO1xuXG4gICAgY29uc3QgZWRpdEljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBlZGl0SWNvbi5zcmMgPSBFZGl0O1xuICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2pFZGl0Jyk7XG5cbiAgICBjb25zdCByZW1JY29uID0gbmV3IEltYWdlKCk7XG4gICAgcmVtSWNvbi5zcmMgPSBSZW1vdmU7XG4gICAgcmVtSWNvbi5jbGFzc0xpc3QuYWRkKCdwcm9qUmVtb3ZlJyk7XG5cbiAgICBhZGREaXYuYXBwZW5kQ2hpbGQoYWRkSWNvbik7XG4gICAgZWRpdERpdi5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG4gICAgcmVtb3ZlRGl2LmFwcGVuZENoaWxkKHJlbUljb24pO1xuICAgIFxuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQoYWRkRGl2KTtcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKGVkaXREaXYpO1xuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQocmVtb3ZlRGl2KTtcbiAgICBidXR0b25Db250LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0T3B0aW9uc1wiKTtcblxuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQocHJvakNoZWNrYm94KTtcbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKHByb2pOYW1lU3Bhbik7XG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChidXR0b25Db250KTtcbiAgICBwcm9qRGl2LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xuXG4gICAgbWFpblNlYy5hcHBlbmRDaGlsZChwcm9qRGl2KTtcbiAgICBcbiAgICAvL2NhbGwgZXZlbnRMaXN0ZW5lciBoZXJlXG4gICAgcHJvamVjdEVMaXN0ZW5lcnMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTWFpbigpe1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3Rlc3RlcmluZyk7XG4gICAgd2hpbGUobWFpblNlYy5maXJzdENoaWxkKXtcbiAgICAgICAgbWFpblNlYy5yZW1vdmVDaGlsZChtYWluU2VjLmZpcnN0Q2hpbGQpXG4gICAgfVxufSIsImltcG9ydCBNZW51IGZyb20gJy4uL3NyYy9pbWdzL21lbnUucG5nJ1xuaW1wb3J0IEJyYW5kIGZyb20gJy4uL3NyYy9pbWdzL1dvcmtlckFudHNNb2QucG5nJztcbmltcG9ydCBDbG9zZSBmcm9tICcuLi9zcmMvaW1ncy9jbG9zZS5wbmcnO1xuaW1wb3J0IENyZWF0ZSBmcm9tICcuLi9zcmMvaW1ncy9hZGQucG5nJztcbmltcG9ydCB7IGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSAnLi9wcm9qZWN0RE9NJztcbmltcG9ydCB7IGZpbmRQcm9qZWN0SW5BcnIgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG4vL0kgTkVFRCBUTyBBREQgQSBHTE9CQUwgVkFSSUFCTEUgQVJSQVkgVEhBVCBTVE9SRVMgQUxMIFRIRSBQUk9KRUNUUyBIRVJFXG5leHBvcnQgbGV0IHByb2pBcnIgPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRxcyhjKXtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lbnVFdmVudExpc3Rlbigpe1xuICAgIGNvbnN0IG1lbnVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVDb250YWluZXJcIik7XG4gICAgY29uc3QgbWFpbkxvZ29Db250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluTG9nb1wiKTtcbiAgICBjb25zdCBjbG9zZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudUNsb3NlXCIpO1xuICAgIGNvbnN0IGNyZWF0ZVByb2pDb250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jcmVhdGVQcm9qXCIpO1xuICAgIFxuICAgIGNvbnN0IG1lbnVJY29uID0gbmV3IEltYWdlKCk7XG4gICAgbWVudUljb24uc3JjID0gTWVudTtcbiAgICBtZW51SWNvbi5jbGFzc0xpc3QuYWRkKCdtYWluLW1lbnUtbG9nbycpO1xuXG4gICAgY29uc3QgbWFpbkxvZ29JbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBtYWluTG9nb0ltZy5zcmMgPSBCcmFuZDtcbiAgICBtYWluTG9nb0ltZy5jbGFzc0xpc3QuYWRkKCdtYWluLWxvZ28nKTtcblxuICAgIGNvbnN0IGNsb3NlSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGNsb3NlSWNvbi5zcmMgPSBDbG9zZTtcbiAgICBjbG9zZUljb24uY2xhc3NMaXN0LmFkZCgnbWVudUNsb3NlJyk7XG5cbiAgICBjb25zdCBjcmVhdGVQcm9qSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGNyZWF0ZVByb2pJY29uLnNyYyA9IENyZWF0ZTtcbiAgICBjcmVhdGVQcm9qSWNvbi5jbGFzc0xpc3QuYWRkKCdhZGRQcm9qQnV0dG9uJyk7XG5cbiAgICBtZW51Q29udGFpbmVyLmFwcGVuZENoaWxkKG1lbnVJY29uKTtcbiAgICBtYWluTG9nb0NvbnQuYXBwZW5kQ2hpbGQobWFpbkxvZ29JbWcpO1xuICAgIGNsb3NlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNsb3NlSWNvbik7XG4gICAgY3JlYXRlUHJvakNvbnQuYXBwZW5kQ2hpbGQoY3JlYXRlUHJvakljb24pO1xuXG4gICAgY29uc3Qgc2lkZUJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhci1tZW51XCIpO1xuICAgIGNvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuICAgIG1lbnVDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVPbiAxLjVzIGZvcndhcmRzJztcbiAgICB9KTtcbiAgICBjbG9zZUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNpZGVCYXIuc3R5bGUuYW5pbWF0aW9uID0gJ21lbnVTbGlkZUNsb3NlIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIGNyZWF0ZVByb2pDb250LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJjcmVhdGUgcHJvamVjdCBidXR0b24gY2xpY2tlZCEhXCIpO1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVDbG9zZSAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgc2lkZUJhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdTUEFOJyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRoZSBmb2xsb3dpbmcgaXMgZS50YXJnZXQudmFsdWVcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnRhcmdldC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBjb25zdCBkaXNwUHJvaiA9IGZpbmRQcm9qZWN0SW5BcnIoZS50YXJnZXQudGV4dENvbnRlbnQpXG4gICAgICAgICAgICBkaXNwbGF5UHJvamVjdEluTWFpbihkaXNwUHJvaik7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJleHBvcnQgY2xhc3MgUHJvamVjdHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24pe1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy50b0RvcyA9IFtdO1xuICAgIH1cbiAgICBnZXQgdGl0bGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH1cbiAgICBnZXQgZGVzY3JpcHRpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBnZXQgdG9Eb0xpc3QoKXsvL2dldCBhcnJheSB0aGVuIHB1c2ggYSB0b0RvXG4gICAgICAgIHJldHVybiB0aGlzLl90b0RvcztcbiAgICB9XG5cbiAgICBzZXQgdGl0bGUobmV3VGl0bGUpe1xuICAgICAgICB0aGlzLl90aXRsZSA9IG5ld1RpdGxlO1xuICAgIH1cbiAgICBzZXQgZGVzY3JpcHRpb24obmV3RGVzYyl7XG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gbmV3RGVzYztcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG5pbXBvcnQgeyBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0VG9TaWRlYmFyIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgZGlzcGxheVByb2plY3RJbk1haW4gfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG4vL2ltcG9ydCB7IHByb2plY3RFTGlzdGVuZXJzIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBfdGVzdGVyaW5nIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG5cbmNvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RPdmVybGF5U3R1ZmYoKXtcbiAgICAvL2NvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuICAgIC8vYnV0dG9uc1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZUJ1dHRvblwiKTtcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdEJ1dHRvblwiKTtcblxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHMnO1xuICAgICAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgfSlcbiAgICBzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwic3VibWl0IGJ1dHRvbiBjbGlja2VkXCIpO1xuICAgICAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSAncHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIGNvbnN0IHByb2plY3RQYXJhbSA9IGV4dHJhY3REYXRhRm9yUHJvamVjdCgpO1xuICAgICAgICAvL2NyZWF0ZVByb2plY3RET00ocHJvamVjdFBhcmFtKTsvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgaWYocHJvamVjdFBhcmFtKXtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJwcm9qZWN0IG9iaiByZXR1cm5lZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RQYXJhbS50aXRsZSkvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgICAgIGRpc3BsYXlQcm9qZWN0SW5NYWluKHByb2plY3RQYXJhbSk7XG4gICAgICAgICAgICAvL3Byb2plY3RFTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBmb3IobGV0IGEgPSAwOyBhIDwgcHJvakFyci5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJvakFyclthXS50aXRsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZXh0cmFjdERhdGFGb3JQcm9qZWN0KCl7XG4gICAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWVcbiAgICBsZXQgZGVzY0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcblxuICAgIGlmKHRpdGxlSW5wdXQpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiZGV0ZWN0ZWQgdGl0bGVcIik7Ly9kZWJ1Z2dpbmdcbiAgICAgICAgY29uc3QgcHJvamVjdE1hZGUgPSBuZXcgUHJvamVjdCh0aXRsZUlucHV0LCBkZXNjSW5wdXQpO1xuICAgICAgICBwcm9qQXJyLnB1c2gocHJvamVjdE1hZGUpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKHByb2pBcnJbKHByb2pBcnIubGVuZ3RoKS0xXS50aXRsZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2cocHJvakFyclsocHJvakFyci5sZW5ndGgpLTFdLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RNYWRlO1xuICAgIH1lbHNle1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiTmVlZCBhIHRpdGxlIHRvIGNyZWF0ZSBhIHByb2plY3QhXCIpOy8vZGVidWdnaW5nXG4gICAgICAgIGRpc3BsYXlOZWVkVGl0bGUoKTsvLyBDQU4gSU5TRVJUIERPTSBNQU5JUFVMQVRJT04gVE8gU0hJRlQgRE9XTiBUSEUgRVJST1IgT1ZFUkxBWSA6KVxuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNwbGF5TmVlZFRpdGxlKCl7XG4gICAgY29uc3QgZXJyb3JPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvclByb2plY3RPdmVybGF5XCIpO1xuICAgIGVycm9yT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkc1wiXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBlcnJvck92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzXCJcbiAgICB9LCAyNTAwKTtcbiAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RGb3JtQ2xlYXIoKXtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlID0gXCJcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlID0gXCJcIjtcbn0iLCJpbXBvcnQgeyBtZW51RXZlbnRMaXN0ZW4sIHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgcHJvamVjdE92ZXJsYXlTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RGb3JtXCI7XG4vL2ltcG9ydCB7IHByb2plY3RFTGlzdGVuZXJzIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG4vLyBpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG4vLyBpbXBvcnQgeyBjcmVhdGVQcm9qZWN0RnJvbURhdGEgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xubWVudUV2ZW50TGlzdGVuKCk7XG5wcm9qZWN0T3ZlcmxheVN0dWZmKCk7XG5kaXNwbGF5UHJvamVjdEluTWFpbih7dGl0bGU6IFwiZGVmYXVsdFByb2plY3RcIiwgZGVzY3JpcHRpb246IFwiVGhpcyBpcyBhIGRlZmF1bHQgcHJvamVjdC4gWW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biA6KVwifSk7XG5hZGRQcm9qZWN0VG9TaWRlYmFyKFwiZGVmYXVsdFByb2plY3RcIik7XG5wcm9qQXJyWzBdID0ge3RpdGxlOiBcImRlZmF1bHRQcm9qZWN0XCIsIGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBkZWZhdWx0IHByb2plY3QuIFlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gOilcIn07XG4vL3Byb2plY3RFTGlzdGVuZXJzKCk7XG4vLyBsZXQgcHJvajEgPSBuZXcgUHJvamVjdChcImNhcmxvc0JydWhcIiwgXCJhcGl1ZlwiKTtcbi8vIGNvbnNvbGUubG9nKHByb2oxLm5hbWUpO1xuLy8gY29uc29sZS5sb2cocHJvajEuZGVzY3JpcHRpb24pOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiaSIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJwcm9qT3ZlcmxheTEiLCJkcXMiLCJxdWVyeVNlbGVjdG9yIiwiX3Rlc3RlcmluZyIsImVkaXRCdXR0b24iLCJ0YXJnZXQiLCJtYXRjaGVzIiwicmVtb3ZlQnV0dG9uIiwiY3VyclRpdGxlIiwiY29uc29sZSIsImxvZyIsInByb2plY3RUaXRsZSIsInRleHRDb250ZW50Iiwic3R5bGUiLCJhbmltYXRpb24iLCJ2YWx1ZSIsImZpbmRQcm9qZWN0SW5BcnIiLCJhIiwicHJvakFyciIsInRpdGxlIiwicHJvak5hbWUiLCJzaWRlYmFyUHJvaiIsInNpZGViYXJQcm9qQ2hpbGRyZW4iLCJjaGlsZHJlbiIsInJlbW92ZUNoaWxkIiwicmVtb3ZlUHJvamVjdFNpZGUiLCJzcGxpY2UiLCJyZW1vdmVQcm9qQXJyIiwiY2xlYXJNYWluIiwiaW5kZXgiLCJtYWluU2VjIiwiYWRkUHJvamVjdFRvU2lkZWJhciIsInByb2pTaWRlIiwicHJvalRpdGxlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwiZGlzcGxheVByb2plY3RJbk1haW4iLCJwcm9qZWN0IiwicHJvakRpdiIsInByb2pDaGVja2JveCIsInR5cGUiLCJwcm9qTmFtZVNwYW4iLCJtYWluTW9kUHJvalRpdGxlIiwic2xpY2UiLCJidXR0b25Db250IiwiYWRkRGl2IiwiZWRpdERpdiIsInJlbW92ZURpdiIsImFkZEljb24iLCJJbWFnZSIsImVkaXRJY29uIiwicmVtSWNvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZmlyc3RDaGlsZCIsImMiLCJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJkZXNjcmlwdGlvbiIsInRvRG9zIiwiX3RpdGxlIiwiX2Rlc2NyaXB0aW9uIiwidG9Eb0xpc3QiLCJfdG9Eb3MiLCJuZXdUaXRsZSIsIm5ld0Rlc2MiLCJwcm9qT3ZlcmxheSIsInByb2plY3RGb3JtQ2xlYXIiLCJnZXRFbGVtZW50QnlJZCIsIm1lbnVDb250YWluZXIiLCJtYWluTG9nb0NvbnQiLCJjbG9zZUNvbnRhaW5lciIsImNyZWF0ZVByb2pDb250IiwibWVudUljb24iLCJtYWluTG9nb0ltZyIsImNsb3NlSWNvbiIsImNyZWF0ZVByb2pJY29uIiwic2lkZUJhciIsInRhZ05hbWUiLCJtZW51RXZlbnRMaXN0ZW4iLCJjbG9zZUJ1dHRvbiIsInN1Ym1pdEJ1dHRvbiIsInByb2plY3RQYXJhbSIsInRpdGxlSW5wdXQiLCJkZXNjSW5wdXQiLCJwcm9qZWN0TWFkZSIsInB1c2giLCJlcnJvck92ZXJsYXkiLCJzZXRUaW1lb3V0IiwiZGlzcGxheU5lZWRUaXRsZSIsImV4dHJhY3REYXRhRm9yUHJvamVjdCIsInByb2plY3RPdmVybGF5U3R1ZmYiXSwic291cmNlUm9vdCI6IiJ9