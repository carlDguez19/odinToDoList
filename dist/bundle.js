(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&!e;)e=o[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"abbfad808c2786a6a2d4.png",n=t.p+"986e98635b18601755cf.png",o=t.p+"177a54134d0bd5aefd06.png",i=t.p+"edb755c23d1ebcf9c7a4.png",c=t.p+"c9c7160b568bb10d504c.png";class r{constructor(t,e){this.title=t,this.description=e,this.toDos=[]}get title(){return this._title}get description(){return this._description}get toDoList(){return this._toDos}set title(t){this._title=t}set description(t){this._description=t}}const s=document.querySelector(".newProjectOverlay");function l(){const t=document.querySelector(".errorProjectOverlay");t.style.animation="projectSlideDown 1.5s forwards",setTimeout((function(){t.style.animation="projectSlideUp 1.5s forwards"}),2500)}function a(){document.getElementById("title").value="",document.getElementById("description").value=""}class d{constructor(t,e,n,o,i){this.tTitle=t,this.tDesc=e,this.tDue=n,this.tPrio=o,this.tProj=i}set tTitle(t){this._tTitle=t}set tDesc(t){this._tDesc=t}set tDue(t){this._tDue=t}set tPrio(t){this._tPrio=t}set tProj(t){this._tProj=t}get tTitle(){return this._tTitle}get tDesc(){return this._tDesc}get tDue(){return this._tDue}get tPrio(){return this._tPrio}get tProj(){return this._tProj}}const u=S(".newTaskOverlay"),m={};function p(){const t=S(".taskCloseButton"),e=S(".taskSubmitButton");t.addEventListener("click",(function(){f(),u.style.animation="projectSlideUp 1.5s forwards"})),e.addEventListener("click",(function(){if(u.style.animation="projectSlideUp 1.5s forwards",function(){const t=document.getElementById("tTitle").value,e=document.getElementById("tDescription").value,n=document.getElementById("tDueDate").value,o=document.getElementById("tTaskPrio").value,i=S(".projectNameMain");if(t&&n){const c=new d(t,e,n,o,i);return m=y(i),m.toDoList.push(c),c}return l(),f(),void(u.style.animation="projectSlideDown 1.5s forwards")}()){displayTaskInMain();for(let t=0;t<m.toDoList.length;t++)console.log(t+1+" "+m.toDoList[t].title)}f()}))}function f(){document.getElementById("tTitle").value="",document.getElementById("tDescription").value="",document.getElementById("tDueDate").value="",document.getElementById("tTaskPrio").value="Select One"}S(".projAdd"),S(".projRemove");const h=document.querySelector(".newProjectOverlay");var g=function(t){const e=t.target.matches(".projEdit"),n=t.target.matches(".projRemove"),o=t.target.matches(".projAdd"),i=S(".projectNameMain");if(e){console.log("editButton clicked"),c=i.textContent,h.style.animation="projectSlideDown 1.5s forwards",S("#title").value=c,y(i);for(let t=0;t<E.length;t++)console.log(t+1+" "+E[t].title)}else if(n){console.log("removeButton clicked"),function(t){const e=S(".sidebarProject"),n=e.children;for(let o=0;o<n.length;o++)n[o].textContent==t&&e.removeChild(n[o])}(i.textContent),function(t){for(let e=0;e<E.length;e++)E[e].title==t&&E.splice(e,1)}(i.textContent),C();for(let t=0;t<E.length;t++)console.log(t+1+" "+E[t].title)}else o&&(u.style.animation="projectSlideDown 1.5s forwards",p());var c};function y(t){let e=0;for(let n=0;n<E.length;n++)if(e=n,E[n].title==t)return E[n]}const v=S(".projectSection");function j(t){const e=S(".sidebarProject");let n=document.createElement("span");n.textContent=t,n.classList.add("projectNameSidebar"),e.appendChild(n)}function w(t){C();const e=document.createElement("div"),n=document.createElement("ul");n.classList.add("todoUL");const r=document.createElement("input");r.type="checkbox",r.classList.add("projectCheckbox");const s=document.createElement("span");if(t.title.length>30){let e=t.title.slice(0,31);s.textContent=e+"..."}else s.textContent=t.title;s.classList.add("projectNameMain");const l=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),m=new Image;m.src=i,m.classList.add("projAdd");const p=new Image;p.src=c,p.classList.add("projEdit");const f=new Image;f.src=o,f.classList.add("projRemove"),a.appendChild(m),d.appendChild(p),u.appendChild(f),l.appendChild(a),l.appendChild(d),l.appendChild(u),l.classList.add("projectOptions"),e.appendChild(r),e.appendChild(s),e.appendChild(l),e.classList.add("project"),v.appendChild(e),v.appendChild(n),document.addEventListener("click",g)}function C(){for(document.removeEventListener("click",g);v.firstChild;)v.removeChild(v.firstChild)}let E=[];function S(t){return document.querySelector(t)}!function(){const t=document.querySelector(".menuContainer"),c=document.querySelector(".mainLogo"),r=document.querySelector(".menuClose"),s=document.querySelector(".createProj"),l=new Image;l.src=e,l.classList.add("main-menu-logo");const a=new Image;a.src=n,a.classList.add("main-logo");const d=new Image;d.src=o,d.classList.add("menuClose");const u=new Image;u.src=i,u.classList.add("addProjButton"),t.appendChild(l),c.appendChild(a),r.appendChild(d),s.appendChild(u);const m=document.querySelector(".sidebar-menu"),p=document.querySelector(".newProjectOverlay");t.addEventListener("click",(function(){m.style.animation="menuSlideOn 1.5s forwards"})),r.addEventListener("click",(function(){m.style.animation="menuSlideClose 1.5s forwards"})),s.addEventListener("click",(function(){m.style.animation="menuSlideClose 1.5s forwards",p.style.animation="projectSlideDown 1.5s forwards"})),m.addEventListener("click",(t=>{"SPAN"===t.target.tagName&&(console.log("the following is e.target.value"),console.log(t.target.textContent),w(y(t.target.textContent)))}))}(),function(){const t=document.querySelector(".closeButton"),e=document.querySelector(".submitButton");t.addEventListener("click",(function(){s.style.animation="projectSlideUp 1.5s forwards",a()})),e.addEventListener("click",(function(){s.style.animation="projectSlideUp 1.5s forwards";const t=function(){const t=document.getElementById("title").value;let e=document.getElementById("description").value;if(t){const n=new r(t,e);return E.push(n),n}return l(),a(),void(s.style.animation="projectSlideDown 1.5s forwards")}();if(t){j(t.title),w(t);for(let t=0;t<E.length;t++)console.log(t+1+" "+E[t].title)}a()}))}(),w({title:"defaultProject",description:"This is a default project. You can also create your own :)"}),j("defaultProject"),E[0]={title:"defaultProject",description:"This is a default project. You can also create your own :)"},p()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OUcsSUFDQUssU0FDQVAsRUFBWUksTUFBTUMsVUFBWSxpQ0FHdEMsQ0FqQzZCNEcsR0FFckIsR0FBR0osRUFBYSxDQUVaeEMsRUFBb0J3QyxFQUFhdEgsT0FDakNxRixFQUFxQmlDLEdBRXJCLElBQUksSUFBSWpFLEVBQUksRUFBR0EsRUFBSWEsRUFBUXpFLE9BQVE0RCxJQUMvQkMsUUFBUUMsSUFBS0YsRUFBRSxFQUFJLElBQUthLEVBQVFiLEdBQUdyRCxNQUUzQyxDQUNBZ0IsR0FDSixHQUNKLENNNUJBMkcsR0FDQXRDLEVBQXFCLENBQUNyRixNQUFPLGlCQUFrQkMsWUFBYSwrREFDNUQ2RSxFQUFvQixrQkFDcEJaLEVBQVEsR0FBSyxDQUFDbEUsTUFBTyxpQkFBa0JDLFlBQWEsOERBQ3BEcUMsRyIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RDbGFzcy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEZvcm0uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Rhc2tDbGFzcy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvdGFza0Zvcm0uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RFdmVudExpc3RlbmVycy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdERPTS5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvbWVudUV2ZW50TGlzdGVuZXJzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICFzY3JpcHRVcmwpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJleHBvcnQgY2xhc3MgUHJvamVjdHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24pe1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy50b0RvcyA9IFtdO1xuICAgIH1cbiAgICBnZXQgdGl0bGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH1cbiAgICBnZXQgZGVzY3JpcHRpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBnZXQgdG9Eb0xpc3QoKXsvL2dldCBhcnJheSB0aGVuIHB1c2ggYSB0b0RvXG4gICAgICAgIHJldHVybiB0aGlzLl90b0RvcztcbiAgICB9XG5cbiAgICBzZXQgdGl0bGUobmV3VGl0bGUpe1xuICAgICAgICB0aGlzLl90aXRsZSA9IG5ld1RpdGxlO1xuICAgIH1cbiAgICBzZXQgZGVzY3JpcHRpb24obmV3RGVzYyl7XG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gbmV3RGVzYztcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG5pbXBvcnQgeyBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0VG9TaWRlYmFyIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgZGlzcGxheVByb2plY3RJbk1haW4gfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG4vL2ltcG9ydCB7IHByb2plY3RFTGlzdGVuZXJzIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBfdGVzdGVyaW5nIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG5cbmNvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RPdmVybGF5U3R1ZmYoKXtcbiAgICAvL2NvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuICAgIC8vYnV0dG9uc1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZUJ1dHRvblwiKTtcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdEJ1dHRvblwiKTtcblxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHMnO1xuICAgICAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgfSlcbiAgICBzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwic3VibWl0IGJ1dHRvbiBjbGlja2VkXCIpO1xuICAgICAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSAncHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIGNvbnN0IHByb2plY3RQYXJhbSA9IGV4dHJhY3REYXRhRm9yUHJvamVjdCgpO1xuICAgICAgICAvL2NyZWF0ZVByb2plY3RET00ocHJvamVjdFBhcmFtKTsvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgaWYocHJvamVjdFBhcmFtKXtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJwcm9qZWN0IG9iaiByZXR1cm5lZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RQYXJhbS50aXRsZSkvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgICAgIGRpc3BsYXlQcm9qZWN0SW5NYWluKHByb2plY3RQYXJhbSk7XG4gICAgICAgICAgICAvL3Byb2plY3RFTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBmb3IobGV0IGEgPSAwOyBhIDwgcHJvakFyci5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coKGErMSkrIFwiIFwiKyBwcm9qQXJyW2FdLnRpdGxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBleHRyYWN0RGF0YUZvclByb2plY3QoKXtcbiAgICBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS52YWx1ZVxuICAgIGxldCBkZXNjSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xuXG4gICAgaWYodGl0bGVJbnB1dCl7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJkZXRlY3RlZCB0aXRsZVwiKTsvL2RlYnVnZ2luZ1xuICAgICAgICBjb25zdCBwcm9qZWN0TWFkZSA9IG5ldyBQcm9qZWN0KHRpdGxlSW5wdXQsIGRlc2NJbnB1dCk7XG4gICAgICAgIHByb2pBcnIucHVzaChwcm9qZWN0TWFkZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2cocHJvakFyclsocHJvakFyci5sZW5ndGgpLTFdLnRpdGxlKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwcm9qQXJyWyhwcm9qQXJyLmxlbmd0aCktMV0uZGVzY3JpcHRpb24pO1xuICAgICAgICByZXR1cm4gcHJvamVjdE1hZGU7XG4gICAgfWVsc2V7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJOZWVkIGEgdGl0bGUgdG8gY3JlYXRlIGEgcHJvamVjdCFcIik7Ly9kZWJ1Z2dpbmdcbiAgICAgICAgZGlzcGxheU5lZWRUaXRsZSgpOy8vIENBTiBJTlNFUlQgRE9NIE1BTklQVUxBVElPTiBUTyBTSElGVCBET1dOIFRIRSBFUlJPUiBPVkVSTEFZIDopXG4gICAgICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlOZWVkVGl0bGUoKXtcbiAgICBjb25zdCBlcnJvck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yUHJvamVjdE92ZXJsYXlcIik7XG4gICAgZXJyb3JPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlRG93biAxLjVzIGZvcndhcmRzXCJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGVycm9yT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHNcIlxuICAgIH0sIDI1MDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdEZvcm1DbGVhcigpe1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIikudmFsdWUgPSBcIlwiO1xufSIsImV4cG9ydCBjbGFzcyBUYXNre1xuICAgIGNvbnN0cnVjdG9yKHRUaXRsZSwgdERlc2MsIHREdWUsIHRQcmlvLCB0UHJvail7XG4gICAgICAgIHRoaXMudFRpdGxlID0gdFRpdGxlO1xuICAgICAgICB0aGlzLnREZXNjID0gdERlc2M7XG4gICAgICAgIHRoaXMudER1ZSA9IHREdWU7XG4gICAgICAgIHRoaXMudFByaW8gPSB0UHJpbztcbiAgICAgICAgdGhpcy50UHJvaiA9IHRQcm9qO1xuICAgIH1cbiAgICBzZXQgdFRpdGxlKG5ld3RUaXRsZSl7XG4gICAgICAgIHRoaXMuX3RUaXRsZSA9IG5ld3RUaXRsZTtcbiAgICB9XG4gICAgc2V0IHREZXNjKG5ld3REZXNjKXtcbiAgICAgICAgdGhpcy5fdERlc2MgPSBuZXd0RGVzYztcbiAgICB9XG4gICAgc2V0IHREdWUobmV3dER1ZSl7XG4gICAgICAgIHRoaXMuX3REdWUgPSBuZXd0RHVlO1xuICAgIH1cbiAgICBzZXQgdFByaW8obmV3dFByaW8pe1xuICAgICAgICB0aGlzLl90UHJpbyA9IG5ld3RQcmlvO1xuICAgIH1cbiAgICBzZXQgdFByb2oobmV3dFByb2ope1xuICAgICAgICB0aGlzLl90UHJvaiA9IG5ld3RQcm9qO1xuICAgIH1cblxuICAgIGdldCB0VGl0bGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RUaXRsZTtcbiAgICB9XG4gICAgZ2V0IHREZXNjKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90RGVzYztcbiAgICB9XG4gICAgZ2V0IHREdWUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3REdWU7XG4gICAgfVxuICAgIGdldCB0UHJpbygpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdFByaW87XG4gICAgfVxuICAgIGdldCB0UHJvaigpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdFByb2o7XG4gICAgfVxufSIsImltcG9ydCB7IGRxcyB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgZmluZFByb2plY3RJbkFyciB9IGZyb20gXCIuL3Byb2plY3RFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgZGlzcGxheU5lZWRUaXRsZSB9IGZyb20gXCIuL3Byb2plY3RGb3JtXCI7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4vdGFza0NsYXNzXCI7XG5cbmV4cG9ydCBjb25zdCB0YXNrT3ZlcmxheSA9IGRxcyhcIi5uZXdUYXNrT3ZlcmxheVwiKTtcbmNvbnN0IGN1cnJQcm9qID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiB0YXNrT3ZlcmxheUxpc3RlbmVycygpe1xuICAgIGNvbnN0IHRhc2tDbG9zZSA9IGRxcyhcIi50YXNrQ2xvc2VCdXR0b25cIik7XG4gICAgY29uc3QgdGFza1N1Ym1pdCA9IGRxcyhcIi50YXNrU3VibWl0QnV0dG9uXCIpO1xuXG4gICAgdGFza0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgdGFza0Zvcm1DbGVhcigpO1xuICAgICAgICB0YXNrT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHNcIlxuICAgIH0pO1xuICAgIHRhc2tTdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICB0YXNrT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHNcIlxuICAgICAgICBjb25zdCBtYWRlVGFzayA9IGV4dHJhY3REYXRhRm9yVGFzaygpO1xuICAgICAgICBpZihtYWRlVGFzayl7XG4gICAgICAgICAgICBkaXNwbGF5VGFza0luTWFpbigpO1xuICAgICAgICAgICAgZm9yKGxldCBhID0gMDsgYSA8IGN1cnJQcm9qLnRvRG9MaXN0Lmxlbmd0aDsgYSsrKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygoYSsxKSsgXCIgXCIrIGN1cnJQcm9qLnRvRG9MaXN0W2FdLnRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0YXNrRm9ybUNsZWFyKCk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0RGF0YUZvclRhc2soKXtcbiAgICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRUaXRsZVwiKS52YWx1ZTtcbiAgICBjb25zdCB0YXNrRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidERlc2NyaXB0aW9uXCIpLnZhbHVlO1xuICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0RHVlRGF0ZVwiKS52YWx1ZTtcbiAgICBjb25zdCB0YXNrUHJpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidFRhc2tQcmlvXCIpLnZhbHVlO1xuICAgIGNvbnN0IHRhc2tQcm9qID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcblxuICAgIGlmKHRhc2tUaXRsZSAmJiB0YXNrRHVlRGF0ZSl7XG4gICAgICAgIGNvbnN0IHRhc2tNYWRlID0gbmV3IFRhc2sodGFza1RpdGxlLCB0YXNrRGVzYywgdGFza0R1ZURhdGUsIHRhc2tQcmlvLCB0YXNrUHJvaik7XG4gICAgICAgIGN1cnJQcm9qID0gZmluZFByb2plY3RJbkFycih0YXNrUHJvaik7XG4gICAgICAgIGN1cnJQcm9qLnRvRG9MaXN0LnB1c2godGFza01hZGUpO1xuICAgICAgICByZXR1cm4gdGFza01hZGU7XG4gICAgfWVsc2V7XG4gICAgICAgIGRpc3BsYXlOZWVkVGl0bGUoKTtcbiAgICAgICAgdGFza0Zvcm1DbGVhcigpO1xuICAgICAgICB0YXNrT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkc1wiO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGFza0Zvcm1DbGVhcigpe1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidFRpdGxlXCIpLnZhbHVlID0gXCJcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInREZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0RHVlRGF0ZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0VGFza1ByaW9cIikudmFsdWUgPSBcIlNlbGVjdCBPbmVcIjtcbn0iLCJpbXBvcnQgeyBkcXMgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGNsZWFyTWFpbiB9IGZyb20gXCIuL3Byb2plY3RET01cIjtcbmltcG9ydCB7IHRhc2tPdmVybGF5LCB0YXNrT3ZlcmxheUxpc3RlbmVycyB9IGZyb20gXCIuL3Rhc2tGb3JtXCI7XG4vL2ltcG9ydCB7IHByb2pPdmVybGF5IH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5cbmNvbnN0IHByb2pUYXNrQWRkID0gZHFzKFwiLnByb2pBZGRcIik7XG5jb25zdCBwcm9qUmVtQnV0dG9uID0gZHFzKFwiLnByb2pSZW1vdmVcIik7XG5jb25zdCBwcm9qT3ZlcmxheTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdEVMaXN0ZW5lcnMoKXtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90ZXN0ZXJpbmcpXG59O1xuXG5leHBvcnQgdmFyIF90ZXN0ZXJpbmcgPSBmdW5jdGlvbihlKXtcbiAgICAvL2dvIHRocm91aGcgYXJyYXkgY29tcGFyaW5nIHRpdGxlXG4gICAgICAgIC8vd2hlbiBmb3VuZCBmaWxsIHByb2plY3RGb3JtIGFuZCBkcm9wIGZvcm0gZG93biBmb3IgdXNlclxuICAgICAgICAvL2lmIHN1Ym1pdCB0aGVuIHJlcGxhY2UgaW5mbyB3aXRoIG5ldyBpbmZvXG4gICAgICAgIC8vZWxzZSBpZiBjYW5jZWwgdGhlbiBsZWF2ZSBwcm9qZWN0IGFzIGl0IHdhc1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiaW4gcHJvakVkaXRCdXR0b24gZXZlbnRMaXN0ZW5lclwiKTtcbiAgICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvakVkaXRcIik7XG4gICAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvalJlbW92ZVwiKTtcbiAgICAgICAgY29uc3QgYWRkVGFza0J1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvakFkZFwiKTtcbiAgICAgICAgY29uc3QgY3VyclRpdGxlID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcbiAgICAgICAgaWYoZWRpdEJ1dHRvbil7Ly90aGlzIHdpbGwgYmUgZG9uZSBvbmNlICdyZW1vdmUnIGlzIGNvbXBsZXRlZFxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlZGl0QnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICAgICAgICBlZGl0Rm9ybShjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3QgZm91bmRQcm9qID0gZmluZFByb2plY3RJbkFycihjdXJyVGl0bGUpOy8vdGhpcyB3aWxsIGJlIGxlZnQgdGlsbCB0aGUgZW5kXG4gICAgICAgICAgICBmb3IobGV0IGEgPSAwOyBhIDwgcHJvakFyci5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coKGErMSkrIFwiIFwiKyBwcm9qQXJyW2FdLnRpdGxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZSBpZihyZW1vdmVCdXR0b24pe1xuICAgICAgICAgICAgLy9jb25zdCBjdXJyVGl0bGUgPSBkcXMoXCIucHJvamVjdE5hbWVNYWluXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZW1vdmVCdXR0b24gY2xpY2tlZFwiKTtcbiAgICAgICAgICAgIHJlbW92ZVByb2plY3RTaWRlKGN1cnJUaXRsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICByZW1vdmVQcm9qQXJyKGN1cnJUaXRsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBjbGVhck1haW4oKTtcbiAgICAgICAgICAgIC8vY29uc3Qgc2lkZUJhciA9IGRxcyhcIi5zaWRlYmFyLW1lbnVcIik7XG4gICAgICAgICAgICAvL3NpZGVCYXIuc3R5bGUuYW5pbWF0aW9uID0gJ21lbnVTbGlkZU9uIDEuNXMgZm9yd2FyZHMnO1xuICAgICAgICAgICAgZm9yKGxldCBhID0gMDsgYSA8IHByb2pBcnIubGVuZ3RoOyBhKyspe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKChhKzEpKyBcIiBcIisgcHJvakFyclthXS50aXRsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGFkZFRhc2tCdXR0b24pe1xuICAgICAgICAgICAgdGFza092ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbiAgICAgICAgICAgIHRhc2tPdmVybGF5TGlzdGVuZXJzKCk7XG4gICAgICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJvamVjdFNpZGUocHJvak5hbWUpe1xuICAgIGNvbnN0IHNpZGViYXJQcm9qID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGNvbnN0IHNpZGViYXJQcm9qQ2hpbGRyZW4gPSBzaWRlYmFyUHJvai5jaGlsZHJlbjtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgc2lkZWJhclByb2pDaGlsZHJlbi5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKHNpZGViYXJQcm9qQ2hpbGRyZW5baV0udGV4dENvbnRlbnQgPT0gcHJvak5hbWUpe1xuICAgICAgICAgICAgc2lkZWJhclByb2oucmVtb3ZlQ2hpbGQoc2lkZWJhclByb2pDaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByb2pBcnIocHJvak5hbWUpe1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaWYocHJvakFycltpXS50aXRsZSA9PSBwcm9qTmFtZSl7XG4gICAgICAgICAgICBwcm9qQXJyLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZWRpdEZvcm0ocHJvamVjdFRpdGxlKXtcbiAgICBwcm9qT3ZlcmxheTEuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgY29uc3QgdGl0bGVJbiA9IGRxcyhcIiN0aXRsZVwiKTtcbiAgICB0aXRsZUluLnZhbHVlID0gcHJvamVjdFRpdGxlO1xuXG4gICAgLy9hZGQgZXZlbnRMaXN0ZW5lciBmb3Igc3VibWl0IGFuZCBjYW5jZWwgYnV0dG9ucyBvbiBwcm9qZWN0IGZvcm1cbiAgICAvL2hvcGVmdWxseSB0aGV5IHdpbGwgZG8gc29tZXRoaW5nIGRpZmZlcmVudD8/P1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRQcm9qZWN0SW5BcnIodGl0bGUpey8vTUlHSFQgTk9UIE5FRUQgVEhJUyBNSUdIVCBOT1QgTkVFRCBUSElTIE1JR0hUIE5PVCBORUVEIFRISVNcbiAgICAvL2NvbnNvbGUubG9nKFwibG9va2luZyBmb3IgcHJvamVjdCBpbiBhcnJcIilcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICBpZihwcm9qQXJyW2ldLnRpdGxlID09IHRpdGxlKXtcbiAgICAgICAgICAgIHJldHVybiBwcm9qQXJyW2ldO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBSZW1vdmUgZnJvbSAnLi4vc3JjL2ltZ3MvY2xvc2UucG5nJztcbmltcG9ydCBDcmVhdGUgZnJvbSAnLi4vc3JjL2ltZ3MvYWRkLnBuZyc7XG5pbXBvcnQgRWRpdCBmcm9tICcuLi9zcmMvaW1ncy9lZGl0LnBuZyc7XG5pbXBvcnQgeyBkcXMgfSBmcm9tICcuL21lbnVFdmVudExpc3RlbmVycyc7XG5pbXBvcnQgeyBwcm9qZWN0RUxpc3RlbmVycyB9IGZyb20gJy4vcHJvamVjdEV2ZW50TGlzdGVuZXJzJztcbmltcG9ydCB7IF90ZXN0ZXJpbmcgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG5cbmNvbnN0IG1haW5TZWMgPSBkcXMoXCIucHJvamVjdFNlY3Rpb25cIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RUaXRsZSl7XG4gICAgY29uc3QgcHJvalNpZGUgPSBkcXMoXCIuc2lkZWJhclByb2plY3RcIik7XG4gICAgbGV0IHByb2pUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBwcm9qVGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0VGl0bGU7XG4gICAgcHJvalRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3ROYW1lU2lkZWJhcicpO1xuICAgIHByb2pTaWRlLmFwcGVuZENoaWxkKHByb2pUaXRsZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5UHJvamVjdEluTWFpbihwcm9qZWN0KXtcbiAgICBjbGVhck1haW4oKTtcbiAgICBjb25zdCBwcm9qRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBjb25zdCB0YXNrU2VjVUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRhc2tTZWNVTC5jbGFzc0xpc3QuYWRkKFwidG9kb1VMXCIpXG4gICAgXG4gICAgY29uc3QgcHJvakNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBwcm9qQ2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICBwcm9qQ2hlY2tib3guY2xhc3NMaXN0LmFkZChcInByb2plY3RDaGVja2JveFwiKTtcblxuICAgIFxuICAgIGNvbnN0IHByb2pOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBpZihwcm9qZWN0LnRpdGxlLmxlbmd0aCA+IDMwKXtcbiAgICAgICAgbGV0IG1haW5Nb2RQcm9qVGl0bGUgPSBwcm9qZWN0LnRpdGxlLnNsaWNlKDAsMzEpO1xuICAgICAgICBwcm9qTmFtZVNwYW4udGV4dENvbnRlbnQgPSBtYWluTW9kUHJvalRpdGxlICsgXCIuLi5cIjtcbiAgICB9ZWxzZXtcbiAgICAgICAgcHJvak5hbWVTcGFuLnRleHRDb250ZW50ID0gcHJvamVjdC50aXRsZTtcbiAgICB9XG4gICAgcHJvak5hbWVTcGFuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0TmFtZU1haW5cIik7XG5cbiAgICBcbiAgICBjb25zdCBidXR0b25Db250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG4gICAgY29uc3QgYWRkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgZWRpdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHJlbW92ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgYWRkSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGFkZEljb24uc3JjID0gQ3JlYXRlO1xuICAgIGFkZEljb24uY2xhc3NMaXN0LmFkZCgncHJvakFkZCcpO1xuXG4gICAgY29uc3QgZWRpdEljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBlZGl0SWNvbi5zcmMgPSBFZGl0O1xuICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2pFZGl0Jyk7XG5cbiAgICBjb25zdCByZW1JY29uID0gbmV3IEltYWdlKCk7XG4gICAgcmVtSWNvbi5zcmMgPSBSZW1vdmU7XG4gICAgcmVtSWNvbi5jbGFzc0xpc3QuYWRkKCdwcm9qUmVtb3ZlJyk7XG5cbiAgICBhZGREaXYuYXBwZW5kQ2hpbGQoYWRkSWNvbik7XG4gICAgZWRpdERpdi5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG4gICAgcmVtb3ZlRGl2LmFwcGVuZENoaWxkKHJlbUljb24pO1xuICAgIFxuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQoYWRkRGl2KTtcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKGVkaXREaXYpO1xuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQocmVtb3ZlRGl2KTtcbiAgICBidXR0b25Db250LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0T3B0aW9uc1wiKTtcblxuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQocHJvakNoZWNrYm94KTtcbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKHByb2pOYW1lU3Bhbik7XG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChidXR0b25Db250KTtcbiAgICBwcm9qRGl2LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xuXG4gICAgbWFpblNlYy5hcHBlbmRDaGlsZChwcm9qRGl2KTtcbiAgICBtYWluU2VjLmFwcGVuZENoaWxkKHRhc2tTZWNVTCk7XG4gICAgXG4gICAgLy9jYWxsIGV2ZW50TGlzdGVuZXIgaGVyZVxuICAgIHByb2plY3RFTGlzdGVuZXJzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhck1haW4oKXtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF90ZXN0ZXJpbmcpO1xuICAgIHdoaWxlKG1haW5TZWMuZmlyc3RDaGlsZCl7XG4gICAgICAgIG1haW5TZWMucmVtb3ZlQ2hpbGQobWFpblNlYy5maXJzdENoaWxkKVxuICAgIH1cbn0iLCJpbXBvcnQgTWVudSBmcm9tICcuLi9zcmMvaW1ncy9tZW51LnBuZydcbmltcG9ydCBCcmFuZCBmcm9tICcuLi9zcmMvaW1ncy9Xb3JrZXJBbnRzTW9kLnBuZyc7XG5pbXBvcnQgQ2xvc2UgZnJvbSAnLi4vc3JjL2ltZ3MvY2xvc2UucG5nJztcbmltcG9ydCBDcmVhdGUgZnJvbSAnLi4vc3JjL2ltZ3MvYWRkLnBuZyc7XG5pbXBvcnQgeyBkaXNwbGF5UHJvamVjdEluTWFpbiB9IGZyb20gJy4vcHJvamVjdERPTSc7XG5pbXBvcnQgeyBmaW5kUHJvamVjdEluQXJyIH0gZnJvbSAnLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnMnO1xuLy9JIE5FRUQgVE8gQUREIEEgR0xPQkFMIFZBUklBQkxFIEFSUkFZIFRIQVQgU1RPUkVTIEFMTCBUSEUgUFJPSkVDVFMgSEVSRVxuZXhwb3J0IGxldCBwcm9qQXJyID0gW107XG5cbmV4cG9ydCBmdW5jdGlvbiBkcXMoYyl7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZW51RXZlbnRMaXN0ZW4oKXtcbiAgICBjb25zdCBtZW51Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51Q29udGFpbmVyXCIpO1xuICAgIGNvbnN0IG1haW5Mb2dvQ29udCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbkxvZ29cIik7XG4gICAgY29uc3QgY2xvc2VDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVDbG9zZVwiKTtcbiAgICBjb25zdCBjcmVhdGVQcm9qQ29udCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3JlYXRlUHJvalwiKTtcbiAgICBcbiAgICBjb25zdCBtZW51SWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIG1lbnVJY29uLnNyYyA9IE1lbnU7XG4gICAgbWVudUljb24uY2xhc3NMaXN0LmFkZCgnbWFpbi1tZW51LWxvZ28nKTtcblxuICAgIGNvbnN0IG1haW5Mb2dvSW1nID0gbmV3IEltYWdlKCk7XG4gICAgbWFpbkxvZ29JbWcuc3JjID0gQnJhbmQ7XG4gICAgbWFpbkxvZ29JbWcuY2xhc3NMaXN0LmFkZCgnbWFpbi1sb2dvJyk7XG5cbiAgICBjb25zdCBjbG9zZUljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBjbG9zZUljb24uc3JjID0gQ2xvc2U7XG4gICAgY2xvc2VJY29uLmNsYXNzTGlzdC5hZGQoJ21lbnVDbG9zZScpO1xuXG4gICAgY29uc3QgY3JlYXRlUHJvakljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBjcmVhdGVQcm9qSWNvbi5zcmMgPSBDcmVhdGU7XG4gICAgY3JlYXRlUHJvakljb24uY2xhc3NMaXN0LmFkZCgnYWRkUHJvakJ1dHRvbicpO1xuXG4gICAgbWVudUNvbnRhaW5lci5hcHBlbmRDaGlsZChtZW51SWNvbik7XG4gICAgbWFpbkxvZ29Db250LmFwcGVuZENoaWxkKG1haW5Mb2dvSW1nKTtcbiAgICBjbG9zZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9zZUljb24pO1xuICAgIGNyZWF0ZVByb2pDb250LmFwcGVuZENoaWxkKGNyZWF0ZVByb2pJY29uKTtcblxuICAgIGNvbnN0IHNpZGVCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXItbWVudVwiKTtcbiAgICBjb25zdCBwcm9qT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbiAgICBtZW51Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlT24gMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgY2xvc2VDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVDbG9zZSAxLjVzIGZvcndhcmRzJztcbiAgICB9KTtcbiAgICBjcmVhdGVQcm9qQ29udC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJjcmVhdGUgcHJvamVjdCBidXR0b24gY2xpY2tlZCEhXCIpO1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVDbG9zZSAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgc2lkZUJhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdTUEFOJyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRoZSBmb2xsb3dpbmcgaXMgZS50YXJnZXQudmFsdWVcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnRhcmdldC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBjb25zdCBkaXNwUHJvaiA9IGZpbmRQcm9qZWN0SW5BcnIoZS50YXJnZXQudGV4dENvbnRlbnQpXG4gICAgICAgICAgICBkaXNwbGF5UHJvamVjdEluTWFpbihkaXNwUHJvaik7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJpbXBvcnQgeyBtZW51RXZlbnRMaXN0ZW4sIHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgcHJvamVjdE92ZXJsYXlTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RGb3JtXCI7XG5pbXBvcnQgeyB0YXNrT3ZlcmxheUxpc3RlbmVycyB9IGZyb20gXCIuL3Rhc2tGb3JtXCI7XG4vL2ltcG9ydCB7IHByb2plY3RFTGlzdGVuZXJzIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG4vLyBpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG4vLyBpbXBvcnQgeyBjcmVhdGVQcm9qZWN0RnJvbURhdGEgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xubWVudUV2ZW50TGlzdGVuKCk7XG5wcm9qZWN0T3ZlcmxheVN0dWZmKCk7XG5kaXNwbGF5UHJvamVjdEluTWFpbih7dGl0bGU6IFwiZGVmYXVsdFByb2plY3RcIiwgZGVzY3JpcHRpb246IFwiVGhpcyBpcyBhIGRlZmF1bHQgcHJvamVjdC4gWW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biA6KVwifSk7XG5hZGRQcm9qZWN0VG9TaWRlYmFyKFwiZGVmYXVsdFByb2plY3RcIik7XG5wcm9qQXJyWzBdID0ge3RpdGxlOiBcImRlZmF1bHRQcm9qZWN0XCIsIGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBkZWZhdWx0IHByb2plY3QuIFlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gOilcIn07XG50YXNrT3ZlcmxheUxpc3RlbmVycygpO1xuLy9wcm9qZWN0RUxpc3RlbmVycygpO1xuLy8gbGV0IHByb2oxID0gbmV3IFByb2plY3QoXCJjYXJsb3NCcnVoXCIsIFwiYXBpdWZcIik7XG4vLyBjb25zb2xlLmxvZyhwcm9qMS5uYW1lKTtcbi8vIGNvbnNvbGUubG9nKHByb2oxLmRlc2NyaXB0aW9uKTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImkiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInRvRG9zIiwiX3RpdGxlIiwiX2Rlc2NyaXB0aW9uIiwidG9Eb0xpc3QiLCJfdG9Eb3MiLCJuZXdUaXRsZSIsIm5ld0Rlc2MiLCJwcm9qT3ZlcmxheSIsInF1ZXJ5U2VsZWN0b3IiLCJkaXNwbGF5TmVlZFRpdGxlIiwiZXJyb3JPdmVybGF5Iiwic3R5bGUiLCJhbmltYXRpb24iLCJzZXRUaW1lb3V0IiwicHJvamVjdEZvcm1DbGVhciIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJUYXNrIiwidFRpdGxlIiwidERlc2MiLCJ0RHVlIiwidFByaW8iLCJ0UHJvaiIsIm5ld3RUaXRsZSIsIl90VGl0bGUiLCJuZXd0RGVzYyIsIl90RGVzYyIsIm5ld3REdWUiLCJfdER1ZSIsIm5ld3RQcmlvIiwiX3RQcmlvIiwibmV3dFByb2oiLCJfdFByb2oiLCJ0YXNrT3ZlcmxheSIsImRxcyIsImN1cnJQcm9qIiwidGFza092ZXJsYXlMaXN0ZW5lcnMiLCJ0YXNrQ2xvc2UiLCJ0YXNrU3VibWl0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInRhc2tGb3JtQ2xlYXIiLCJ0YXNrVGl0bGUiLCJ0YXNrRGVzYyIsInRhc2tEdWVEYXRlIiwidGFza1ByaW8iLCJ0YXNrUHJvaiIsInRhc2tNYWRlIiwiZmluZFByb2plY3RJbkFyciIsInB1c2giLCJleHRyYWN0RGF0YUZvclRhc2siLCJkaXNwbGF5VGFza0luTWFpbiIsImEiLCJjb25zb2xlIiwibG9nIiwicHJvak92ZXJsYXkxIiwiX3Rlc3RlcmluZyIsImVkaXRCdXR0b24iLCJ0YXJnZXQiLCJtYXRjaGVzIiwicmVtb3ZlQnV0dG9uIiwiYWRkVGFza0J1dHRvbiIsImN1cnJUaXRsZSIsInByb2plY3RUaXRsZSIsInRleHRDb250ZW50IiwicHJvakFyciIsInByb2pOYW1lIiwic2lkZWJhclByb2oiLCJzaWRlYmFyUHJvakNoaWxkcmVuIiwiY2hpbGRyZW4iLCJyZW1vdmVDaGlsZCIsInJlbW92ZVByb2plY3RTaWRlIiwic3BsaWNlIiwicmVtb3ZlUHJvakFyciIsImNsZWFyTWFpbiIsImluZGV4IiwibWFpblNlYyIsImFkZFByb2plY3RUb1NpZGViYXIiLCJwcm9qU2lkZSIsInByb2pUaXRsZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImRpc3BsYXlQcm9qZWN0SW5NYWluIiwicHJvamVjdCIsInByb2pEaXYiLCJ0YXNrU2VjVUwiLCJwcm9qQ2hlY2tib3giLCJ0eXBlIiwicHJvak5hbWVTcGFuIiwibWFpbk1vZFByb2pUaXRsZSIsInNsaWNlIiwiYnV0dG9uQ29udCIsImFkZERpdiIsImVkaXREaXYiLCJyZW1vdmVEaXYiLCJhZGRJY29uIiwiSW1hZ2UiLCJlZGl0SWNvbiIsInJlbUljb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZmlyc3RDaGlsZCIsImMiLCJtZW51Q29udGFpbmVyIiwibWFpbkxvZ29Db250IiwiY2xvc2VDb250YWluZXIiLCJjcmVhdGVQcm9qQ29udCIsIm1lbnVJY29uIiwibWFpbkxvZ29JbWciLCJjbG9zZUljb24iLCJjcmVhdGVQcm9qSWNvbiIsInNpZGVCYXIiLCJ0YWdOYW1lIiwibWVudUV2ZW50TGlzdGVuIiwiY2xvc2VCdXR0b24iLCJzdWJtaXRCdXR0b24iLCJwcm9qZWN0UGFyYW0iLCJ0aXRsZUlucHV0IiwiZGVzY0lucHV0IiwicHJvamVjdE1hZGUiLCJleHRyYWN0RGF0YUZvclByb2plY3QiLCJwcm9qZWN0T3ZlcmxheVN0dWZmIl0sInNvdXJjZVJvb3QiOiIifQ==