(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&!e;)e=o[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"abbfad808c2786a6a2d4.png",n=t.p+"986e98635b18601755cf.png",o=t.p+"177a54134d0bd5aefd06.png",i=t.p+"edb755c23d1ebcf9c7a4.png",c=t.p+"c9c7160b568bb10d504c.png";class s{constructor(t,e,n,o,i){this.tTitle=t,this.tDesc=e,this.tDue=n,this.tPrio=o,this.tProj=i}set tTitle(t){this._tTitle=t}set tDesc(t){this._tDesc=t}set tDue(t){this._tDue=t}set tPrio(t){this._tPrio=t}set tProj(t){this._tProj=t}get tTitle(){return this._tTitle}get tDesc(){return this._tDesc}get tDue(){return this._tDue}get tPrio(){return this._tPrio}get tProj(){return this._tProj}}class r{constructor(t,e){this.title=t,this.description=e,this.toDos=[]}newTask(t,e,n,o,i){let c=new s(t,e,n,o,i);return this.toDos.push(c),c}removeTaskFromArr(t){for(var e=0;e<this.toDos.length;e++)this.toDos[e].tTitle==t&&this.toDos.splice(e,1)}printTasks(){console.log("current tasks in project: ");for(var t=0;t<this.toDos.length;t++)console.log(this.toDos[t].tTitle)}get numOfTasks(){return this.toDos.length}get title(){return this._title}get description(){return this._description}get toDoList(){return this.toDos}set title(t){this._title=t}set description(t){this._description=t}}const l=document.querySelector(".newProjectOverlay");function a(){const t=document.querySelector(".errorProjectOverlay");t.style.animation="projectSlideDown 1.5s forwards",setTimeout((function(){t.style.animation="projectSlideUp 1.5s forwards"}),2500)}function d(){document.getElementById("title").value="",document.getElementById("description").value=""}let u=!1,m=!1;const p=S(I(".projectNameMain").textContent);var h=function(t){const e=t.target.parentElement.parentElement.parentElement.textContent;t.target.matches(".taskProjEdit")?(u=!0,console.log(e)):t.target.matches(".taskProjRemove")&&(m=!0,console.log(e),p.removeTaskFromArr(e),p.printTasks(),function(t){const e=I(".todoUL"),n=e.children;for(let o=0;o<n.length;o++)n[o].textContent==t&&e.removeChild(n[o])}(e))};function f(t){const e=document.querySelector(".todoUL"),n=document.createElement("li"),i=document.createElement("div");i.textContent=t.tDue,i.classList.add("dateTaskDisp");const s=document.createElement("div"),r=document.createElement("input");r.type="checkbox";const l=document.createElement("input");l.type="date",l.value=t.tDue;const a=document.createElement("div"),d=document.createElement("div"),u=new Image;u.src=c,u.classList.add("taskProjEdit");const m=new Image;m.src=o,m.classList.add("taskProjRemove"),a.appendChild(u),d.appendChild(m),n.textContent=t.tTitle,s.appendChild(a),s.appendChild(d),s.appendChild(r),s.classList.add("taskButtons"),n.appendChild(s),n.appendChild(l),n.classList.add("todo"),e.appendChild(n),document.addEventListener("click",h)}const g=I(".newTaskOverlay"),v=I(".taskCloseButton"),C=I(".taskSubmitButton");function j(){g.style.animation="projectSlideUp 1.5s forwards";const t=function(t){const e=document.getElementById("tTitle").value,n=document.getElementById("tDescription").value,o=document.getElementById("tDueDate").value,i=document.getElementById("tTaskPrio").value,c=S(I(".projectNameMain").textContent);if(e&&o){const t=c.newTask(e,n,o,i,c.title);return y(),t}return a(),y(),void(g.style.animation="projectSlideDown 1.5s forwards")}();t&&f(t),y(),C.removeEventListener("click",j)}function y(){document.getElementById("tTitle").value="",document.getElementById("tDescription").value="",document.getElementById("tDueDate").value="",document.getElementById("tTaskPrio").value="Select One"}const E=document.querySelector(".newProjectOverlay");let w=!1,D=null;var L=function(t){const e=t.target.matches(".projEdit"),n=t.target.matches(".projRemove"),o=t.target.matches(".projAdd"),i=I(".projectNameMain");if(D=i,e)c=i.textContent,E.style.animation="projectSlideDown 1.5s forwards",I("#title").value=c,w=!0;else if(n){!function(t){const e=I(".sidebarProject"),n=e.children;for(let o=0;o<n.length;o++)n[o].textContent==t&&e.removeChild(n[o])}(i.textContent),function(t){for(let e=0;e<x.length;e++)x[e].title==t&&x.splice(e,1)}(i.textContent),b(),console.log("current projects in array are: ");for(let t=0;t<x.length;t++)console.log(x[t].title)}else o&&(g.style.animation="projectSlideDown 1.5s forwards",v.addEventListener("click",(function(){y(),g.style.animation="projectSlideUp 1.5s forwards"})),C.addEventListener("click",j));var c};function S(t){let e=0;for(let n=0;n<x.length;n++)if(e=n,x[n].title==t)return console.log("project found"),x[n]}const k=I(".projectSection");function P(t){const e=I(".sidebarProject");let n=document.createElement("span");n.textContent=t,n.classList.add("projectNameSidebar"),e.appendChild(n)}function T(t){b();const e=document.createElement("div"),n=document.createElement("ul");n.classList.add("todoUL");const s=document.createElement("input");s.type="checkbox",s.classList.add("projectCheckbox");const r=document.createElement("span");if(t.title.length>30){let e=t.title.slice(0,31);r.textContent=e+"..."}else r.textContent=t.title;r.classList.add("projectNameMain");const l=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),m=new Image;m.src=i,m.classList.add("projAdd");const p=new Image;p.src=c,p.classList.add("projEdit");const h=new Image;h.src=o,h.classList.add("projRemove"),a.appendChild(m),d.appendChild(p),u.appendChild(h),l.appendChild(a),l.appendChild(d),l.appendChild(u),l.classList.add("projectOptions"),e.appendChild(s),e.appendChild(r),e.appendChild(l),e.classList.add("project"),k.appendChild(e),k.appendChild(n),function(t){const e=t.toDoList;if(e)for(var n=0;n<e.length;n++)f(e[n])}(t),document.addEventListener("click",L)}function b(){for(document.removeEventListener("click",L);k.firstChild;)k.removeChild(k.firstChild)}let x=[];function I(t){return document.querySelector(t)}!function(){const t=document.querySelector(".menuContainer"),c=document.querySelector(".mainLogo"),s=document.querySelector(".menuClose"),r=document.querySelector(".createProj"),l=new Image;l.src=e,l.classList.add("main-menu-logo");const a=new Image;a.src=n,a.classList.add("main-logo");const d=new Image;d.src=o,d.classList.add("menuClose");const u=new Image;u.src=i,u.classList.add("addProjButton"),t.appendChild(l),c.appendChild(a),s.appendChild(d),r.appendChild(u);const m=document.querySelector(".sidebar-menu"),p=document.querySelector(".newProjectOverlay");t.addEventListener("click",(function(){m.style.animation="menuSlideOn 1.5s forwards"})),s.addEventListener("click",(function(){m.style.animation="menuSlideClose 1.5s forwards"})),r.addEventListener("click",(function(){m.style.animation="menuSlideClose 1.5s forwards",p.style.animation="projectSlideDown 1.5s forwards"})),m.addEventListener("click",(t=>{"SPAN"===t.target.tagName&&T(S(t.target.textContent))}))}(),function(){const t=document.querySelector(".closeButton"),e=document.querySelector(".submitButton");t.addEventListener("click",(function(){l.style.animation="projectSlideUp 1.5s forwards",d()})),e.addEventListener("click",(function(){l.style.animation="projectSlideUp 1.5s forwards";const t=function(){const t=document.getElementById("title").value;let e=document.getElementById("description").value;if(t){const n=new r(t,e);return x.push(n),n}return a(),d(),void(l.style.animation="projectSlideDown 1.5s forwards")}();w?(function(t){for(let e=0;e<x.length;e++)x[e].title==t&&(x[e].title=x[x.length-1].title,x[e].description=x[x.length-1].description)}(D.textContent),function(t){const e=I(".sidebarProject").children;for(let n=0;n<e.length;n++)e[n].textContent==t&&(e[n].textContent=x[e.length].title)}(D.textContent),I(".projectNameMain").textContent=x[x.length-1].title,x.splice(x.length-1,1),w=!1):(t&&(P(t.title),T(t)),d())}))}();const B=new r("defaultProject","This is a default project. You can also create your own :)");x[0]=B,T(B),P("defaultProject")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBR3NCLE9BQVM0SSxJQUNuQjdDLEVBQVFySCxHQUFHc0IsTUFBUStGLEVBQVFBLEVBQVF0SCxPQUFPLEdBQUd1QixNQUM3QytGLEVBQVFySCxHQUFHdUIsWUFBYzhGLEVBQVFBLEVBQVF0SCxPQUFPLEdBQUd3QixZQUcvRCxDQXRCWTRJLENBQWlCeEQsRUFBVy9DLGFLTWpDLFNBQThCcUQsR0FDakMsTUFDTUUsRUFEY3hELEVBQUksbUJBQ2dCVSxTQUN4QyxJQUFJLElBQUlyRSxFQUFJLEVBQUdBLEVBQUltSCxFQUFvQnBILE9BQVFDLElBQ3hDbUgsRUFBb0JuSCxHQUFHNEQsYUFBZXFELElBRXJDRSxFQUFvQm5ILEdBQUc0RCxZQUFjeUQsRUFBUUYsRUFBb0JwSCxRQUFRdUIsTUFHckYsQ0xkWThJLENBQXFCekQsRUFBVy9DLGFLaUJyQkQsRUFBSSxvQkFDWkMsWUFBY3lELEVBQVFBLEVBQVF0SCxPQUFPLEdBQUd1QixNTGhCM0MrRixFQUFRbEYsT0FBT2tGLEVBQVF0SCxPQUFPLEVBQUUsR0FDaEMyRyxHQUFvQixJQUVqQm1ELElBQ0NuQyxFQUFvQm1DLEVBQWF2SSxPQUNqQ3VHLEVBQXFCZ0MsSUFFekJ6RyxJQUVSLEdBQ0osQ096QkFpSCxHQUNBLE1BQU1DLEVBQVUsSUFBSWpKLEVBQVEsaUJBQWtCLDhEQUM5Q2dHLEVBQVEsR0FBS2lELEVBQ2J6QyxFQUFxQnlDLEdBQ3JCNUMsRUFBb0IsaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGludG9kb2xpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy90YXNrQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RDbGFzcy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEZvcm0uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Rhc2tFdmVudExpc3RlbmVycy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvdGFza0RPTS5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvdGFza0Zvcm0uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RFdmVudExpc3RlbmVycy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdERPTS5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvbWVudUV2ZW50TGlzdGVuZXJzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICFzY3JpcHRVcmwpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJleHBvcnQgY2xhc3MgVGFza3tcbiAgICBjb25zdHJ1Y3Rvcih0VGl0bGUsIHREZXNjLCB0RHVlLCB0UHJpbywgdFByb2ope1xuICAgICAgICB0aGlzLnRUaXRsZSA9IHRUaXRsZTtcbiAgICAgICAgdGhpcy50RGVzYyA9IHREZXNjO1xuICAgICAgICB0aGlzLnREdWUgPSB0RHVlO1xuICAgICAgICB0aGlzLnRQcmlvID0gdFByaW87XG4gICAgICAgIHRoaXMudFByb2ogPSB0UHJvajtcbiAgICB9XG4gICAgc2V0IHRUaXRsZShuZXd0VGl0bGUpe1xuICAgICAgICB0aGlzLl90VGl0bGUgPSBuZXd0VGl0bGU7XG4gICAgfVxuICAgIHNldCB0RGVzYyhuZXd0RGVzYyl7XG4gICAgICAgIHRoaXMuX3REZXNjID0gbmV3dERlc2M7XG4gICAgfVxuICAgIHNldCB0RHVlKG5ld3REdWUpe1xuICAgICAgICB0aGlzLl90RHVlID0gbmV3dER1ZTtcbiAgICB9XG4gICAgc2V0IHRQcmlvKG5ld3RQcmlvKXtcbiAgICAgICAgdGhpcy5fdFByaW8gPSBuZXd0UHJpbztcbiAgICB9XG4gICAgc2V0IHRQcm9qKG5ld3RQcm9qKXtcbiAgICAgICAgdGhpcy5fdFByb2ogPSBuZXd0UHJvajtcbiAgICB9XG5cbiAgICBnZXQgdFRpdGxlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90VGl0bGU7XG4gICAgfVxuICAgIGdldCB0RGVzYygpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdERlc2M7XG4gICAgfVxuICAgIGdldCB0RHVlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90RHVlO1xuICAgIH1cbiAgICBnZXQgdFByaW8oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RQcmlvO1xuICAgIH1cbiAgICBnZXQgdFByb2ooKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RQcm9qO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4vdGFza0NsYXNzXCI7XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0e1xuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbil7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLnRvRG9zID0gW107XG4gICAgfVxuICAgIG5ld1Rhc2soVHRpdGxlLCBUZGVzYywgVGR1ZSwgVHByaW8sIFRwcm9qKXtcbiAgICAgICAgbGV0IHQgPSBuZXcgVGFzayhUdGl0bGUsIFRkZXNjLCBUZHVlLCBUcHJpbywgVHByb2opO1xuICAgICAgICB0aGlzLnRvRG9zLnB1c2godCk7Ly9wbGFjZWQgdW5kZXJzY29yZVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG5cbiAgICByZW1vdmVUYXNrRnJvbUFycih0aXRsZU5hbWUpe1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy50b0Rvcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBpZih0aGlzLnRvRG9zW2ldLnRUaXRsZSA9PSB0aXRsZU5hbWUpe1xuICAgICAgICAgICAgICAgIHRoaXMudG9Eb3Muc3BsaWNlKGksMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcmludFRhc2tzKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY3VycmVudCB0YXNrcyBpbiBwcm9qZWN0OiBcIik7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnRvRG9zLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudG9Eb3NbaV0udFRpdGxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBudW1PZlRhc2tzKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnRvRG9zLmxlbmd0aDsvL3BsYWNlZCB1bmRlcnNjb3JlXG4gICAgfVxuXG4gICAgZ2V0IHRpdGxlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgZ2V0IHRvRG9MaXN0KCl7Ly9nZXQgYXJyYXkgdGhlbiBwdXNoIGEgdG9Eb1xuICAgICAgICByZXR1cm4gdGhpcy50b0RvcztcbiAgICB9XG5cbiAgICBzZXQgdGl0bGUobmV3VGl0bGUpe1xuICAgICAgICB0aGlzLl90aXRsZSA9IG5ld1RpdGxlO1xuICAgIH1cbiAgICBzZXQgZGVzY3JpcHRpb24obmV3RGVzYyl7XG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gbmV3RGVzYztcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG5pbXBvcnQgeyBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0VG9TaWRlYmFyLCBlZGl0UHJvamVjdEluU2lkZWJhciwgZGlzcGxheVByb2plY3RJbk1haW4sIGVkaXRQcm9qZWN0TmFtZU1haW4gfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG5pbXBvcnQgeyBfdGVzdGVyaW5nLCBlZGl0QnV0dG9uQ2xpY2tlZCwgY3VyclRpdGxlMiB9IGZyb20gXCIuL3Byb2plY3RFdmVudExpc3RlbmVyc1wiO1xuXG5jb25zdCBwcm9qT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0T3ZlcmxheVN0dWZmKCl7XG4gICAgLy9idXR0b25zXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlQnV0dG9uXCIpO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0QnV0dG9uXCIpO1xuXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSAncHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICB9KVxuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgY29uc3QgcHJvamVjdFBhcmFtID0gZXh0cmFjdERhdGFGb3JQcm9qZWN0KCk7XG4gICAgICAgIGlmKGVkaXRCdXR0b25DbGlja2VkKXtcbiAgICAgICAgICAgIGVkaXRQcm9qZWN0SW5BcnIoY3VyclRpdGxlMi50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBlZGl0UHJvamVjdEluU2lkZWJhcihjdXJyVGl0bGUyLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIGVkaXRQcm9qZWN0TmFtZU1haW4oKTtcbiAgICAgICAgICAgIHByb2pBcnIuc3BsaWNlKHByb2pBcnIubGVuZ3RoLTEsMSk7Ly9SRU1PVkUgVEhFIExBU1QgUFJPSkVDVCBJTiBBUlJBWS4uTk9XIFVTRUxFU1NcbiAgICAgICAgICAgIGVkaXRCdXR0b25DbGlja2VkID0gZmFsc2U7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYocHJvamVjdFBhcmFtKXtcbiAgICAgICAgICAgICAgICBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RQYXJhbS50aXRsZSkvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgICAgICAgICBkaXNwbGF5UHJvamVjdEluTWFpbihwcm9qZWN0UGFyYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvamVjdEZvcm1DbGVhcigpO1xuICAgICAgICB9XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZWRpdFByb2plY3RJbkFycihyZXBsYWNlVGl0bGUpe1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXsvL2ZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aC0xOyBpKyspe1xuICAgICAgICBpZihwcm9qQXJyW2ldLnRpdGxlID09IHJlcGxhY2VUaXRsZSl7XG4gICAgICAgICAgICBwcm9qQXJyW2ldLnRpdGxlID0gcHJvakFycltwcm9qQXJyLmxlbmd0aC0xXS50aXRsZTtcbiAgICAgICAgICAgIHByb2pBcnJbaV0uZGVzY3JpcHRpb24gPSBwcm9qQXJyW3Byb2pBcnIubGVuZ3RoLTFdLmRlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0RGF0YUZvclByb2plY3QoKXtcbiAgICBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS52YWx1ZVxuICAgIGxldCBkZXNjSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xuXG4gICAgaWYodGl0bGVJbnB1dCl7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJkZXRlY3RlZCB0aXRsZVwiKTsvL2RlYnVnZ2luZ1xuICAgICAgICBjb25zdCBwcm9qZWN0TWFkZSA9IG5ldyBQcm9qZWN0KHRpdGxlSW5wdXQsIGRlc2NJbnB1dCk7XG4gICAgICAgIHByb2pBcnIucHVzaChwcm9qZWN0TWFkZSk7XG4gICAgICAgIHJldHVybiBwcm9qZWN0TWFkZTtcbiAgICB9ZWxzZXtcbiAgICAgICAgZGlzcGxheU5lZWRUaXRsZSgpOy8vIENBTiBJTlNFUlQgRE9NIE1BTklQVUxBVElPTiBUTyBTSElGVCBET1dOIFRIRSBFUlJPUiBPVkVSTEFZIDopXG4gICAgICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlOZWVkVGl0bGUoKXtcbiAgICBjb25zdCBlcnJvck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yUHJvamVjdE92ZXJsYXlcIik7XG4gICAgZXJyb3JPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlRG93biAxLjVzIGZvcndhcmRzXCJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGVycm9yT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHNcIlxuICAgIH0sIDI1MDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdEZvcm1DbGVhcigpe1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIikudmFsdWUgPSBcIlwiO1xufSIsImltcG9ydCB7IGRxcyB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgZmluZFByb2plY3RJbkFyciB9IGZyb20gXCIuL3Byb2plY3RFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RDbGFzc1wiO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL3Rhc2tDbGFzc1wiO1xuaW1wb3J0IHsgY2xlYXJUYXNrTWFpbiB9IGZyb20gXCIuL3Rhc2tET01cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHRhc2tFTGlzdGVuZXJzKCl7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGFza1Rlc3RlcmluZylcbiAgICAvL2FkZCB0aGUgZXZlbnRMaXN0ZW5lciBmb3IgdGhlIGNoYW5nZSBvZiB0aGUgZGF0ZSBwaWNrZXJcbn07XG5sZXQgdGFza0VkaXRCdXR0b24gPSBmYWxzZTtcbmxldCB0YXNrUmVtQnV0dG9uID0gZmFsc2U7XG5jb25zdCBwcm9qTmFtZVJlbSA9IGRxcyhcIi5wcm9qZWN0TmFtZU1haW5cIik7XG5jb25zdCBwcm9qUmVtRWQgPSBmaW5kUHJvamVjdEluQXJyKHByb2pOYW1lUmVtLnRleHRDb250ZW50KTsvL3Byb2plY3QgY2xhc3Mgd2lsbCBoYXZlIGEgZnVuYyB0aGF0IGNhbiBnbyB0aHJvdWdoIGl0cyB0YXNrIGFycmF5IGFuZCByZW1vdmUgYSBzcGVjaWZpZWQgdGFzayA6KVxuXG5leHBvcnQgdmFyIF90YXNrVGVzdGVyaW5nID0gZnVuY3Rpb24oZSl7XG4gICAgXG4gICAgY29uc3QgdGFza05hbWUgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC50ZXh0Q29udGVudDtcblxuICAgIGlmKGUudGFyZ2V0Lm1hdGNoZXMoXCIudGFza1Byb2pFZGl0XCIpKXsvL3RoaXMgd2lsbCBiZSBkb25lIGxhc3QgZmlyc3Qgd2Ugd2lsbCB3b3JrIG9uIFJFTU9WRVxuICAgICAgICB0YXNrRWRpdEJ1dHRvbiA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhc2tOYW1lKTtcblxuICAgICAgICAvL2NvZGUgaGVyZSBmb3IgZWRpdCBvbiB0YXNrXG4gICAgfVxuICAgIGVsc2UgaWYoZS50YXJnZXQubWF0Y2hlcyhcIi50YXNrUHJvalJlbW92ZVwiKSl7XG4gICAgICAgIHRhc2tSZW1CdXR0b24gPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZyh0YXNrTmFtZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2cocHJvak5hbWVSZW0udGV4dENvbnRlbnQpO1xuICAgICAgICBwcm9qUmVtRWQucmVtb3ZlVGFza0Zyb21BcnIodGFza05hbWUpO1xuICAgICAgICBwcm9qUmVtRWQucHJpbnRUYXNrcygpO1xuICAgICAgICBjbGVhclRhc2tNYWluKHRhc2tOYW1lKTtcbiAgICAgICAgLy9jb2RlIGhlcmUgZm9yIHJlbW92YWwgb2YgaW5kaXZpZHVhbCB0YXNrXG4gICAgfVxufSIsImltcG9ydCBFZGl0IGZyb20gJy4uL3NyYy9pbWdzL2VkaXQucG5nJztcbmltcG9ydCBSZW1vdmUgZnJvbSAnLi4vc3JjL2ltZ3MvY2xvc2UucG5nJztcbmltcG9ydCB7IHRhc2tFTGlzdGVuZXJzIH0gZnJvbSAnLi90YXNrRXZlbnRMaXN0ZW5lcnMnO1xuaW1wb3J0IHsgZHFzIH0gZnJvbSAnLi9tZW51RXZlbnRMaXN0ZW5lcnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVRhc2tJbk1haW4odGFzayl7Ly8ocHJvamVjdCwgdWwpIG1pZ2h0IGJlIG5lZWRlZCBhcyBwYXJhbXMgYnV0IHByb2JzIG5vdFxuICAgIGNvbnN0IHByb2pVTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb1VMXCIpO1xuXG4gICAgY29uc3QgdGFza0xJID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcblxuICAgIGNvbnN0IGRhdGVEaXNwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGF0ZURpc3AudGV4dENvbnRlbnQgPSB0YXNrLnREdWU7XG4gICAgZGF0ZURpc3AuY2xhc3NMaXN0LmFkZChcImRhdGVUYXNrRGlzcFwiKTtcblxuICAgIGNvbnN0IGJ1dHRvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgdGFza0NoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0YXNrQ2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcblxuICAgIGNvbnN0IHRhc2tEYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHRhc2tEYXRlSW5wdXQudHlwZSA9IFwiZGF0ZVwiO1xuICAgIHRhc2tEYXRlSW5wdXQudmFsdWUgPSB0YXNrLnREdWU7XG5cbiAgICBjb25zdCB0YXNrRWRpdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHRhc2tSZW1vdmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGNvbnN0IHRhc2tFZGl0SWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIHRhc2tFZGl0SWNvbi5zcmMgPSBFZGl0O1xuICAgIHRhc2tFZGl0SWNvbi5jbGFzc0xpc3QuYWRkKCd0YXNrUHJvakVkaXQnKTtcblxuICAgIGNvbnN0IHRhc2tSZW1vdmVJY29uID0gbmV3IEltYWdlKCk7XG4gICAgdGFza1JlbW92ZUljb24uc3JjID0gUmVtb3ZlO1xuICAgIHRhc2tSZW1vdmVJY29uLmNsYXNzTGlzdC5hZGQoJ3Rhc2tQcm9qUmVtb3ZlJyk7XG5cbiAgICB0YXNrRWRpdERpdi5hcHBlbmRDaGlsZCh0YXNrRWRpdEljb24pO1xuICAgIHRhc2tSZW1vdmVEaXYuYXBwZW5kQ2hpbGQodGFza1JlbW92ZUljb24pO1xuXG4gICAgdGFza0xJLnRleHRDb250ZW50ID0gdGFzay50VGl0bGU7Ly90YXNrLnRUaXRsZSArIFwiICBcIiArIHRhc2sudER1ZVxuXG4gICAgYnV0dG9uRGl2LmFwcGVuZENoaWxkKHRhc2tFZGl0RGl2KTtcbiAgICBidXR0b25EaXYuYXBwZW5kQ2hpbGQodGFza1JlbW92ZURpdik7XG4gICAgYnV0dG9uRGl2LmFwcGVuZENoaWxkKHRhc2tDaGVja2JveCk7XG5cbiAgICBidXR0b25EaXYuY2xhc3NMaXN0LmFkZCgndGFza0J1dHRvbnMnKTtcblxuICAgIC8vdGFza0xJLmFwcGVuZENoaWxkKGRhdGVEaXNwKTtcblxuICAgIHRhc2tMSS5hcHBlbmRDaGlsZChidXR0b25EaXYpO1xuXG4gICAgdGFza0xJLmFwcGVuZENoaWxkKHRhc2tEYXRlSW5wdXQpO1xuXG4gICAgdGFza0xJLmNsYXNzTGlzdC5hZGQoXCJ0b2RvXCIpO1xuXG4gICAgcHJvalVMLmFwcGVuZENoaWxkKHRhc2tMSSk7XG5cbiAgICB0YXNrRUxpc3RlbmVycygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJUYXNrTWFpbih0YXNrKXtcbiAgICAvL2dldCB0YXNrIHVsIHNlY3Rpb24gYW5kIHJlbW92ZSBsaSB2aWEgcGFyYW1ldGVyKGxpa2UgcmVtb3ZpbmcgYSBwcm9qZWN0IGZyb20gc2lkZWJhcilcbiAgICBjb25zdCB1bFBhcmVudCA9IGRxcyhcIi50b2RvVUxcIik7XG4gICAgY29uc3QgbGlUYXNrQ2hpbGRyZW4gPSB1bFBhcmVudC5jaGlsZHJlbjtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGlUYXNrQ2hpbGRyZW4ubGVuZ3RoOyBpKyspe1xuICAgICAgICBpZihsaVRhc2tDaGlsZHJlbltpXS50ZXh0Q29udGVudCA9PSB0YXNrKXtcbiAgICAgICAgICAgIHVsUGFyZW50LnJlbW92ZUNoaWxkKGxpVGFza0NoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBkcXMgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGZpbmRQcm9qZWN0SW5BcnIgfSBmcm9tIFwiLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGRpc3BsYXlOZWVkVGl0bGUgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xuaW1wb3J0IHsgZGlzcGxheVRhc2tJbk1haW4gfSBmcm9tIFwiLi90YXNrRE9NXCI7XG5cbmV4cG9ydCBjb25zdCB0YXNrT3ZlcmxheSA9IGRxcyhcIi5uZXdUYXNrT3ZlcmxheVwiKTtcbmNvbnN0IHRhc2tDbG9zZSA9IGRxcyhcIi50YXNrQ2xvc2VCdXR0b25cIik7XG5jb25zdCB0YXNrU3VibWl0ID0gZHFzKFwiLnRhc2tTdWJtaXRCdXR0b25cIik7XG5cbmV4cG9ydCBmdW5jdGlvbiB0YXNrT3ZlcmxheUxpc3RlbmVycygpe1xuICAgIHRhc2tDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHRhc2tGb3JtQ2xlYXIoKTtcbiAgICAgICAgdGFza092ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzXCJcbiAgICB9KTtcbiAgICB0YXNrU3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3Rhc2tTdWJtaXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3Rhc2tTdWJtaXQoKXtcbiAgICB0YXNrT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHNcIlxuICAgIGNvbnN0IG1hZGVUYXNrID0gZXh0cmFjdERhdGFGb3JUYXNrKCk7XG4gICAgaWYobWFkZVRhc2spe1xuICAgICAgICBkaXNwbGF5VGFza0luTWFpbihtYWRlVGFzayk7Ly9jdXJyZW50IHByb2plY3QgaXMgYWxyZWFkeSBkZXRlY3RlZCBpbiBleHRyYWN0RGF0YUZvclRhc2sgZnVuYy4ubWF5IG5vdCBuZWVkIHByb2ogYW5kIHVsIGFzIHBhcmFtc1xuICAgIH1cbiAgICB0YXNrRm9ybUNsZWFyKCk7XG4gICAgY2xlYXJFdkxpcygpO1xufVxuXG5mdW5jdGlvbiBjbGVhckV2TGlzKCl7XG4gICAgdGFza1N1Ym1pdC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF90YXNrU3VibWl0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3REYXRhRm9yVGFzayhwcm9qKXtcbiAgICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRUaXRsZVwiKS52YWx1ZTtcbiAgICBjb25zdCB0YXNrRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidERlc2NyaXB0aW9uXCIpLnZhbHVlO1xuICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0RHVlRGF0ZVwiKS52YWx1ZTtcbiAgICBjb25zdCB0YXNrUHJpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidFRhc2tQcmlvXCIpLnZhbHVlO1xuICAgIFxuICAgIGNvbnN0IHRlbXAgPSBkcXMoXCIucHJvamVjdE5hbWVNYWluXCIpOy8vU0hPVUxEIE5PVCBCRSBORUVERUQgR0lWRU4gUEFSQU1cbiAgICBjb25zdCB0YXNrUHJvaiA9IHRlbXAudGV4dENvbnRlbnQ7XG5cbiAgICBjb25zdCBmbmRQcm9qID0gZmluZFByb2plY3RJbkFycih0YXNrUHJvaik7XG5cblxuICAgIGlmKHRhc2tUaXRsZSAmJiB0YXNrRHVlRGF0ZSl7XG4gICAgICAgIGNvbnN0IHRhc2tNYWRlID0gZm5kUHJvai5uZXdUYXNrKHRhc2tUaXRsZSwgdGFza0Rlc2MsIHRhc2tEdWVEYXRlLCB0YXNrUHJpbywgZm5kUHJvai50aXRsZSk7XG4gICAgICAgIHRhc2tGb3JtQ2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHRhc2tNYWRlO1xuICAgIH1lbHNle1xuICAgICAgICBkaXNwbGF5TmVlZFRpdGxlKCk7XG4gICAgICAgIHRhc2tGb3JtQ2xlYXIoKTtcbiAgICAgICAgdGFza092ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRhc2tGb3JtQ2xlYXIoKXtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRUaXRsZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0RGVzY3JpcHRpb25cIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidER1ZURhdGVcIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidFRhc2tQcmlvXCIpLnZhbHVlID0gXCJTZWxlY3QgT25lXCI7XG59IiwiaW1wb3J0IHsgZHFzIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBjbGVhck1haW4gfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG5pbXBvcnQgeyB0YXNrT3ZlcmxheSwgdGFza092ZXJsYXlMaXN0ZW5lcnMgfSBmcm9tIFwiLi90YXNrRm9ybVwiO1xuaW1wb3J0IHsgcmVtb3ZlUHJvamVjdEZyb21TaWRlYmFyIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuXG5jb25zdCBwcm9qT3ZlcmxheTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuZXhwb3J0IGxldCBlZGl0QnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xuZXhwb3J0IGxldCBjdXJyVGl0bGUyID0gbnVsbDsvLz0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RFTGlzdGVuZXJzKCl7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGVzdGVyaW5nKVxufTtcblxuZXhwb3J0IHZhciBfdGVzdGVyaW5nID0gZnVuY3Rpb24oZSl7XG4gICAgLy9nbyB0aHJvdWhnIGFycmF5IGNvbXBhcmluZyB0aXRsZVxuICAgICAgICAvL3doZW4gZm91bmQgZmlsbCBwcm9qZWN0Rm9ybSBhbmQgZHJvcCBmb3JtIGRvd24gZm9yIHVzZXJcbiAgICAgICAgLy9pZiBzdWJtaXQgdGhlbiByZXBsYWNlIGluZm8gd2l0aCBuZXcgaW5mb1xuICAgICAgICAvL2Vsc2UgaWYgY2FuY2VsIHRoZW4gbGVhdmUgcHJvamVjdCBhcyBpdCB3YXNcbiAgICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvakVkaXRcIik7XG4gICAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvalJlbW92ZVwiKTtcbiAgICAgICAgY29uc3QgYWRkVGFza0J1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvakFkZFwiKTtcbiAgICAgICAgY29uc3QgY3VyclRpdGxlID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcbiAgICAgICAgY3VyclRpdGxlMiA9IGN1cnJUaXRsZTtcbiAgICAgICAgaWYoZWRpdEJ1dHRvbil7Ly90aGlzIHdpbGwgYmUgZG9uZSBvbmNlICdyZW1vdmUnIGlzIGNvbXBsZXRlZFxuICAgICAgICAgICAgZWRpdEZvcm0oY3VyclRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIGVkaXRCdXR0b25DbGlja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHJlbW92ZUJ1dHRvbil7XG4gICAgICAgICAgICAvL2NvbnN0IGN1cnJUaXRsZSA9IGRxcyhcIi5wcm9qZWN0TmFtZU1haW5cIik7XG4gICAgICAgICAgICByZW1vdmVQcm9qZWN0RnJvbVNpZGViYXIoY3VyclRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIHJlbW92ZVByb2pBcnIoY3VyclRpdGxlLnRleHRDb250ZW50KTsvLz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/XG4gICAgICAgICAgICBjbGVhck1haW4oKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3VycmVudCBwcm9qZWN0cyBpbiBhcnJheSBhcmU6IFwiKTtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9qQXJyW2ldLnRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGFkZFRhc2tCdXR0b24pe1xuICAgICAgICAgICAgdGFza092ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbiAgICAgICAgICAgIHRhc2tPdmVybGF5TGlzdGVuZXJzKCk7Ly9hZGQgcHJvaiBhcyBwYXJhbSBoZXJlISEhIGZpbmQgcHJvaiBvbiBsaW5lIGJlZm9yZSB0aGlzXG4gICAgICAgIH1cbn1cblxuZnVuY3Rpb24gZWRpdEZvcm0ocHJvamVjdFRpdGxlKXsvL3BhcmFtIGlzIGN1cnJlbnQgdGl0bGUgaXQgd2lsbCBmaWxsIHRoZSBpbnB1dCB0aXRsZSBib3hcbiAgICBwcm9qT3ZlcmxheTEuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgY29uc3QgdGl0bGVJbiA9IGRxcyhcIiN0aXRsZVwiKTtcbiAgICB0aXRsZUluLnZhbHVlID0gcHJvamVjdFRpdGxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUHJvakFycih0aXRsZSl7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2pBcnIubGVuZ3RoOyBpKyspe1xuICAgICAgICBpZihwcm9qQXJyW2ldLnRpdGxlID09IHRpdGxlKXtcbiAgICAgICAgICAgIHByb2pBcnIuc3BsaWNlKGksMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kUHJvamVjdEluQXJyKHRpdGxlKXsvL01JR0hUIE5PVCBORUVEIFRISVMgTUlHSFQgTk9UIE5FRUQgVEhJUyBNSUdIVCBOT1QgTkVFRCBUSElTXG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvakFyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgaWYocHJvakFycltpXS50aXRsZSA9PSB0aXRsZSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInByb2plY3QgZm91bmRcIik7XG4gICAgICAgICAgICByZXR1cm4gcHJvakFycltpXTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgUmVtb3ZlIGZyb20gJy4uL3NyYy9pbWdzL2Nsb3NlLnBuZyc7XG5pbXBvcnQgQ3JlYXRlIGZyb20gJy4uL3NyYy9pbWdzL2FkZC5wbmcnO1xuaW1wb3J0IEVkaXQgZnJvbSAnLi4vc3JjL2ltZ3MvZWRpdC5wbmcnO1xuaW1wb3J0IHsgZHFzLCBwcm9qQXJyIH0gZnJvbSAnLi9tZW51RXZlbnRMaXN0ZW5lcnMnO1xuaW1wb3J0IHsgcHJvamVjdEVMaXN0ZW5lcnMgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG5pbXBvcnQgeyBfdGVzdGVyaW5nIH0gZnJvbSAnLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnMnO1xuaW1wb3J0IHsgZGlzcGxheVRhc2tJbk1haW4gfSBmcm9tICcuL3Rhc2tET00nO1xuXG5jb25zdCBtYWluU2VjID0gZHFzKFwiLnByb2plY3RTZWN0aW9uXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkUHJvamVjdFRvU2lkZWJhcihwcm9qZWN0VGl0bGUpe1xuICAgIGNvbnN0IHByb2pTaWRlID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGxldCBwcm9qVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgcHJvalRpdGxlLnRleHRDb250ZW50ID0gcHJvamVjdFRpdGxlO1xuICAgIHByb2pUaXRsZS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0TmFtZVNpZGViYXInKTtcbiAgICBwcm9qU2lkZS5hcHBlbmRDaGlsZChwcm9qVGl0bGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVByb2plY3RGcm9tU2lkZWJhcihwcm9qZWN0VGl0bGUpe1xuICAgIGNvbnN0IHNpZGViYXJQcm9qID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGNvbnN0IHNpZGViYXJQcm9qQ2hpbGRyZW4gPSBzaWRlYmFyUHJvai5jaGlsZHJlbjtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgc2lkZWJhclByb2pDaGlsZHJlbi5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKHNpZGViYXJQcm9qQ2hpbGRyZW5baV0udGV4dENvbnRlbnQgPT0gcHJvamVjdFRpdGxlKXtcbiAgICAgICAgICAgIHNpZGViYXJQcm9qLnJlbW92ZUNoaWxkKHNpZGViYXJQcm9qQ2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGVkaXRQcm9qZWN0SW5TaWRlYmFyKHByb2plY3RUaXRsZSl7XG4gICAgY29uc3Qgc2lkZWJhclByb2ogPSBkcXMoXCIuc2lkZWJhclByb2plY3RcIik7XG4gICAgY29uc3Qgc2lkZWJhclByb2pDaGlsZHJlbiA9IHNpZGViYXJQcm9qLmNoaWxkcmVuO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaWRlYmFyUHJvakNoaWxkcmVuLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaWYoc2lkZWJhclByb2pDaGlsZHJlbltpXS50ZXh0Q29udGVudCA9PSBwcm9qZWN0VGl0bGUpe1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImZvdW5kIHNpZGViYXIgcHJvamVjdCBuYW1lZCBcIiArIHNpZGViYXJQcm9qQ2hpbGRyZW5baV0udGV4dENvbnRlbnQpOyBERUJVR1xuICAgICAgICAgICAgc2lkZWJhclByb2pDaGlsZHJlbltpXS50ZXh0Q29udGVudCA9IHByb2pBcnJbc2lkZWJhclByb2pDaGlsZHJlbi5sZW5ndGhdLnRpdGxlOy8vcHJvakFycltzaWRlYmFyUHJvakNoaWxkcmVuLmxlbmd0aC0xXS50aXRsZVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZWRpdFByb2plY3ROYW1lTWFpbigpe1xuICAgIGNvbnN0IE9HUHJvak5hbWUgPSBkcXMoXCIucHJvamVjdE5hbWVNYWluXCIpO1xuICAgIE9HUHJvak5hbWUudGV4dENvbnRlbnQgPSBwcm9qQXJyW3Byb2pBcnIubGVuZ3RoLTFdLnRpdGxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVByb2plY3RJbk1haW4ocHJvamVjdCl7XG4gICAgY2xlYXJNYWluKCk7XG4gICAgY29uc3QgcHJvakRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgdGFza1NlY1VMID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICB0YXNrU2VjVUwuY2xhc3NMaXN0LmFkZChcInRvZG9VTFwiKVxuICAgIFxuICAgIGNvbnN0IHByb2pDaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgcHJvakNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgcHJvakNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0Q2hlY2tib3hcIik7XG5cbiAgICBcbiAgICBjb25zdCBwcm9qTmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgaWYocHJvamVjdC50aXRsZS5sZW5ndGggPiAzMCl7XG4gICAgICAgIGxldCBtYWluTW9kUHJvalRpdGxlID0gcHJvamVjdC50aXRsZS5zbGljZSgwLDMxKTtcbiAgICAgICAgcHJvak5hbWVTcGFuLnRleHRDb250ZW50ID0gbWFpbk1vZFByb2pUaXRsZSArIFwiLi4uXCI7XG4gICAgfWVsc2V7XG4gICAgICAgIHByb2pOYW1lU3Bhbi50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG4gICAgfVxuICAgIHByb2pOYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdE5hbWVNYWluXCIpO1xuXG4gICAgXG4gICAgY29uc3QgYnV0dG9uQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIFxuICAgIGNvbnN0IGFkZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGVkaXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCByZW1vdmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGNvbnN0IGFkZEljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBhZGRJY29uLnNyYyA9IENyZWF0ZTtcbiAgICBhZGRJY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2pBZGQnKTtcblxuICAgIGNvbnN0IGVkaXRJY29uID0gbmV3IEltYWdlKCk7XG4gICAgZWRpdEljb24uc3JjID0gRWRpdDtcbiAgICBlZGl0SWNvbi5jbGFzc0xpc3QuYWRkKCdwcm9qRWRpdCcpO1xuXG4gICAgY29uc3QgcmVtSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIHJlbUljb24uc3JjID0gUmVtb3ZlO1xuICAgIHJlbUljb24uY2xhc3NMaXN0LmFkZCgncHJvalJlbW92ZScpO1xuXG4gICAgYWRkRGl2LmFwcGVuZENoaWxkKGFkZEljb24pO1xuICAgIGVkaXREaXYuYXBwZW5kQ2hpbGQoZWRpdEljb24pO1xuICAgIHJlbW92ZURpdi5hcHBlbmRDaGlsZChyZW1JY29uKTtcbiAgICBcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKGFkZERpdik7XG4gICAgYnV0dG9uQ29udC5hcHBlbmRDaGlsZChlZGl0RGl2KTtcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKHJlbW92ZURpdik7XG4gICAgYnV0dG9uQ29udC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdE9wdGlvbnNcIik7XG5cbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKHByb2pDaGVja2JveCk7XG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChwcm9qTmFtZVNwYW4pO1xuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQoYnV0dG9uQ29udCk7XG4gICAgcHJvakRpdi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFwiKTtcblxuICAgIG1haW5TZWMuYXBwZW5kQ2hpbGQocHJvakRpdik7XG4gICAgbWFpblNlYy5hcHBlbmRDaGlsZCh0YXNrU2VjVUwpO1xuICAgIFxuICAgIC8vY2hlY2sgZm9yIHRhc2tzIHdpdGggYSBsb29wIGFuZCBkaXNwbGF5IGVhY2hcbiAgICBjaGVja0ZvclRhc2tzKHByb2plY3QpO1xuXG4gICAgLy9jYWxsIGV2ZW50TGlzdGVuZXIgaGVyZVxuICAgIHByb2plY3RFTGlzdGVuZXJzKCk7Ly9XSUxMIEhBVkUgVE8gQUREIEVWRU5UIExJU1RFTkVSUyBGT1IgVEFTS1MgSEVSRT8/P1xufVxuXG5mdW5jdGlvbiBjaGVja0ZvclRhc2tzKHByb2ope1xuICAgIC8vZ2l2ZW4gcHJvaiBhcyBwYXJhbSB3ZSB3aWxsIGNoZWNrIGlmIGl0IGNvbnRhaW5zIGFueSB0YXNrcyB0aGF0IG5lZWQgdG8gYmUgY3JlYXRlZFxuICAgIGNvbnN0IHRhc2tBcnIgPSBwcm9qLnRvRG9MaXN0O1xuICAgIGlmKHRhc2tBcnIpe1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGFza0Fyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBkaXNwbGF5VGFza0luTWFpbih0YXNrQXJyW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTWFpbigpe1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3Rlc3RlcmluZyk7XG4gICAgd2hpbGUobWFpblNlYy5maXJzdENoaWxkKXtcbiAgICAgICAgbWFpblNlYy5yZW1vdmVDaGlsZChtYWluU2VjLmZpcnN0Q2hpbGQpXG4gICAgfVxufSIsImltcG9ydCBNZW51IGZyb20gJy4uL3NyYy9pbWdzL21lbnUucG5nJ1xuaW1wb3J0IEJyYW5kIGZyb20gJy4uL3NyYy9pbWdzL1dvcmtlckFudHNNb2QucG5nJztcbmltcG9ydCBDbG9zZSBmcm9tICcuLi9zcmMvaW1ncy9jbG9zZS5wbmcnO1xuaW1wb3J0IENyZWF0ZSBmcm9tICcuLi9zcmMvaW1ncy9hZGQucG5nJztcbmltcG9ydCB7IGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSAnLi9wcm9qZWN0RE9NJztcbmltcG9ydCB7IGZpbmRQcm9qZWN0SW5BcnIgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG5cbi8vSSBORUVEIFRPIEFERCBBIEdMT0JBTCBWQVJJQUJMRSBBUlJBWSBUSEFUIFNUT1JFUyBBTEwgVEhFIFBST0pFQ1RTIEhFUkVcbmV4cG9ydCBsZXQgcHJvakFyciA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gZHFzKGMpe1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVudUV2ZW50TGlzdGVuKCl7XG4gICAgY29uc3QgbWVudUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudUNvbnRhaW5lclwiKTtcbiAgICBjb25zdCBtYWluTG9nb0NvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5Mb2dvXCIpO1xuICAgIGNvbnN0IGNsb3NlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51Q2xvc2VcIik7XG4gICAgY29uc3QgY3JlYXRlUHJvakNvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNyZWF0ZVByb2pcIik7XG4gICAgXG4gICAgY29uc3QgbWVudUljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBtZW51SWNvbi5zcmMgPSBNZW51O1xuICAgIG1lbnVJY29uLmNsYXNzTGlzdC5hZGQoJ21haW4tbWVudS1sb2dvJyk7XG5cbiAgICBjb25zdCBtYWluTG9nb0ltZyA9IG5ldyBJbWFnZSgpO1xuICAgIG1haW5Mb2dvSW1nLnNyYyA9IEJyYW5kO1xuICAgIG1haW5Mb2dvSW1nLmNsYXNzTGlzdC5hZGQoJ21haW4tbG9nbycpO1xuXG4gICAgY29uc3QgY2xvc2VJY29uID0gbmV3IEltYWdlKCk7XG4gICAgY2xvc2VJY29uLnNyYyA9IENsb3NlO1xuICAgIGNsb3NlSWNvbi5jbGFzc0xpc3QuYWRkKCdtZW51Q2xvc2UnKTtcblxuICAgIGNvbnN0IGNyZWF0ZVByb2pJY29uID0gbmV3IEltYWdlKCk7XG4gICAgY3JlYXRlUHJvakljb24uc3JjID0gQ3JlYXRlO1xuICAgIGNyZWF0ZVByb2pJY29uLmNsYXNzTGlzdC5hZGQoJ2FkZFByb2pCdXR0b24nKTtcblxuICAgIG1lbnVDb250YWluZXIuYXBwZW5kQ2hpbGQobWVudUljb24pO1xuICAgIG1haW5Mb2dvQ29udC5hcHBlbmRDaGlsZChtYWluTG9nb0ltZyk7XG4gICAgY2xvc2VDb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcbiAgICBjcmVhdGVQcm9qQ29udC5hcHBlbmRDaGlsZChjcmVhdGVQcm9qSWNvbik7XG5cbiAgICBjb25zdCBzaWRlQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW1lbnVcIik7XG4gICAgY29uc3QgcHJvak92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG4gICAgbWVudUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNpZGVCYXIuc3R5bGUuYW5pbWF0aW9uID0gJ21lbnVTbGlkZU9uIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIGNsb3NlQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlQ2xvc2UgMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgY3JlYXRlUHJvakNvbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVDbG9zZSAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgc2lkZUJhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdTUEFOJyl7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRoZSBmb2xsb3dpbmcgaXMgZS50YXJnZXQudmFsdWVcIik7REVCVUdERUJVR0RFQlVHXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlLnRhcmdldC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBjb25zdCBkaXNwUHJvaiA9IGZpbmRQcm9qZWN0SW5BcnIoZS50YXJnZXQudGV4dENvbnRlbnQpXG4gICAgICAgICAgICBkaXNwbGF5UHJvamVjdEluTWFpbihkaXNwUHJvaik7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJpbXBvcnQgeyBtZW51RXZlbnRMaXN0ZW4sIHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgcHJvamVjdE92ZXJsYXlTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RGb3JtXCI7XG5pbXBvcnQgeyB0YXNrT3ZlcmxheUxpc3RlbmVycywgX3Rhc2tTdWJtaXQgfSBmcm9tIFwiLi90YXNrRm9ybVwiO1xuaW1wb3J0IHsgcHJvamVjdEVMaXN0ZW5lcnMgfSBmcm9tIFwiLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0Q2xhc3NcIjtcblxubWVudUV2ZW50TGlzdGVuKCk7XG5wcm9qZWN0T3ZlcmxheVN0dWZmKCk7XG5jb25zdCBkZWZQcm9qID0gbmV3IFByb2plY3QoXCJkZWZhdWx0UHJvamVjdFwiLCBcIlRoaXMgaXMgYSBkZWZhdWx0IHByb2plY3QuIFlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gOilcIik7XG5wcm9qQXJyWzBdID0gZGVmUHJvajtcbmRpc3BsYXlQcm9qZWN0SW5NYWluKGRlZlByb2opO1xuYWRkUHJvamVjdFRvU2lkZWJhcihcImRlZmF1bHRQcm9qZWN0XCIpO1xuLy9wcm9qZWN0RUxpc3RlbmVycygpOy8vVEhJUyBXQVMgQ09NTUVOVEVEIE9VVFxuLy90YXNrT3ZlcmxheUxpc3RlbmVycygpOy8vVEhJUyBXQVMgQ09NTUVOVEVEIE9VVCJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiaSIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJUYXNrIiwiY29uc3RydWN0b3IiLCJ0VGl0bGUiLCJ0RGVzYyIsInREdWUiLCJ0UHJpbyIsInRQcm9qIiwibmV3dFRpdGxlIiwiX3RUaXRsZSIsIm5ld3REZXNjIiwiX3REZXNjIiwibmV3dER1ZSIsIl90RHVlIiwibmV3dFByaW8iLCJfdFByaW8iLCJuZXd0UHJvaiIsIl90UHJvaiIsIlByb2plY3QiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidG9Eb3MiLCJuZXdUYXNrIiwiVHRpdGxlIiwiVGRlc2MiLCJUZHVlIiwiVHByaW8iLCJUcHJvaiIsInQiLCJwdXNoIiwicmVtb3ZlVGFza0Zyb21BcnIiLCJ0aXRsZU5hbWUiLCJzcGxpY2UiLCJwcmludFRhc2tzIiwiY29uc29sZSIsImxvZyIsIm51bU9mVGFza3MiLCJfdGl0bGUiLCJfZGVzY3JpcHRpb24iLCJ0b0RvTGlzdCIsIm5ld1RpdGxlIiwibmV3RGVzYyIsInByb2pPdmVybGF5IiwicXVlcnlTZWxlY3RvciIsImRpc3BsYXlOZWVkVGl0bGUiLCJlcnJvck92ZXJsYXkiLCJzdHlsZSIsImFuaW1hdGlvbiIsInNldFRpbWVvdXQiLCJwcm9qZWN0Rm9ybUNsZWFyIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsInRhc2tFZGl0QnV0dG9uIiwidGFza1JlbUJ1dHRvbiIsInByb2pSZW1FZCIsImZpbmRQcm9qZWN0SW5BcnIiLCJkcXMiLCJ0ZXh0Q29udGVudCIsIl90YXNrVGVzdGVyaW5nIiwidGFza05hbWUiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwibWF0Y2hlcyIsInRhc2siLCJ1bFBhcmVudCIsImxpVGFza0NoaWxkcmVuIiwiY2hpbGRyZW4iLCJyZW1vdmVDaGlsZCIsImNsZWFyVGFza01haW4iLCJkaXNwbGF5VGFza0luTWFpbiIsInByb2pVTCIsInRhc2tMSSIsImNyZWF0ZUVsZW1lbnQiLCJkYXRlRGlzcCIsImNsYXNzTGlzdCIsImFkZCIsImJ1dHRvbkRpdiIsInRhc2tDaGVja2JveCIsInR5cGUiLCJ0YXNrRGF0ZUlucHV0IiwidGFza0VkaXREaXYiLCJ0YXNrUmVtb3ZlRGl2IiwidGFza0VkaXRJY29uIiwiSW1hZ2UiLCJ0YXNrUmVtb3ZlSWNvbiIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRhc2tPdmVybGF5IiwidGFza0Nsb3NlIiwidGFza1N1Ym1pdCIsIl90YXNrU3VibWl0IiwibWFkZVRhc2siLCJwcm9qIiwidGFza1RpdGxlIiwidGFza0Rlc2MiLCJ0YXNrRHVlRGF0ZSIsInRhc2tQcmlvIiwiZm5kUHJvaiIsInRhc2tNYWRlIiwidGFza0Zvcm1DbGVhciIsImV4dHJhY3REYXRhRm9yVGFzayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwcm9qT3ZlcmxheTEiLCJlZGl0QnV0dG9uQ2xpY2tlZCIsImN1cnJUaXRsZTIiLCJfdGVzdGVyaW5nIiwiZWRpdEJ1dHRvbiIsInJlbW92ZUJ1dHRvbiIsImFkZFRhc2tCdXR0b24iLCJjdXJyVGl0bGUiLCJwcm9qZWN0VGl0bGUiLCJzaWRlYmFyUHJvaiIsInNpZGViYXJQcm9qQ2hpbGRyZW4iLCJyZW1vdmVQcm9qZWN0RnJvbVNpZGViYXIiLCJwcm9qQXJyIiwicmVtb3ZlUHJvakFyciIsImNsZWFyTWFpbiIsImluZGV4IiwibWFpblNlYyIsImFkZFByb2plY3RUb1NpZGViYXIiLCJwcm9qU2lkZSIsInByb2pUaXRsZSIsImRpc3BsYXlQcm9qZWN0SW5NYWluIiwicHJvamVjdCIsInByb2pEaXYiLCJ0YXNrU2VjVUwiLCJwcm9qQ2hlY2tib3giLCJwcm9qTmFtZVNwYW4iLCJtYWluTW9kUHJvalRpdGxlIiwic2xpY2UiLCJidXR0b25Db250IiwiYWRkRGl2IiwiZWRpdERpdiIsInJlbW92ZURpdiIsImFkZEljb24iLCJlZGl0SWNvbiIsInJlbUljb24iLCJ0YXNrQXJyIiwiY2hlY2tGb3JUYXNrcyIsImZpcnN0Q2hpbGQiLCJjIiwibWVudUNvbnRhaW5lciIsIm1haW5Mb2dvQ29udCIsImNsb3NlQ29udGFpbmVyIiwiY3JlYXRlUHJvakNvbnQiLCJtZW51SWNvbiIsIm1haW5Mb2dvSW1nIiwiY2xvc2VJY29uIiwiY3JlYXRlUHJvakljb24iLCJzaWRlQmFyIiwidGFnTmFtZSIsIm1lbnVFdmVudExpc3RlbiIsImNsb3NlQnV0dG9uIiwic3VibWl0QnV0dG9uIiwicHJvamVjdFBhcmFtIiwidGl0bGVJbnB1dCIsImRlc2NJbnB1dCIsInByb2plY3RNYWRlIiwiZXh0cmFjdERhdGFGb3JQcm9qZWN0IiwicmVwbGFjZVRpdGxlIiwiZWRpdFByb2plY3RJbkFyciIsImVkaXRQcm9qZWN0SW5TaWRlYmFyIiwicHJvamVjdE92ZXJsYXlTdHVmZiIsImRlZlByb2oiXSwic291cmNlUm9vdCI6IiJ9