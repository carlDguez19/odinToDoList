(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var c=o.length-1;c>-1&&!e;)e=o[c--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const n=t.p+"abbfad808c2786a6a2d4.png",o=t.p+"986e98635b18601755cf.png",c=t.p+"177a54134d0bd5aefd06.png",i=t.p+"edb755c23d1ebcf9c7a4.png",r=t.p+"c9c7160b568bb10d504c.png",l=f(".projectSection");function s(e){e.slice(0,7);const t=f(".sidebarProject");let n=document.createElement("span");n.textContent=e,n.classList.add("projectNameSidebar"),t.appendChild(n)}function d(e){a();const t=document.createElement("div"),n=document.createElement("input");n.type="checkbox",n.classList.add("projectCheckbox");const o=document.createElement("span");if(e.title.length>30){let t=e.title.slice(0,31);o.textContent=t+"..."}else o.textContent=e.title;o.classList.add("projectNameMain");const s=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),p=document.createElement("div"),m=new Image;m.src=i,m.classList.add("projAdd");const f=new Image;f.src=r,f.classList.add("projEdit");const g=new Image;g.src=c,g.classList.add("projRemove"),d.appendChild(m),u.appendChild(f),p.appendChild(g),s.appendChild(d),s.appendChild(u),s.appendChild(p),s.classList.add("projectOptions"),t.appendChild(n),t.appendChild(o),t.appendChild(s),t.classList.add("project"),l.appendChild(t)}function a(){for(;l.firstChild;)l.removeChild(l.firstChild)}f(".projAdd"),f(".projRemove");const u=document.querySelector(".newProjectOverlay");function p(e){console.log("looking for project in arr");let t=0;for(let n=0;n<m.length;n++)if(t=n,m[n].title==e)return m[n]}let m=[];function f(e){return document.querySelector(e)}class g{constructor(e,t){this.title=e,this.description=t,this.toDos=[]}get title(){return this._title}get description(){return this._description}get toDoList(){return this._toDos}set title(e){this._title=e}set description(e){this._description=e}}const h=document.querySelector(".newProjectOverlay");function j(){document.getElementById("title").value="",document.getElementById("description").value=""}!function(){const e=document.querySelector(".menuContainer"),t=document.querySelector(".mainLogo"),r=document.querySelector(".menuClose"),l=document.querySelector(".createProj"),s=new Image;s.src=n,s.classList.add("main-menu-logo");const a=new Image;a.src=o,a.classList.add("main-logo");const u=new Image;u.src=c,u.classList.add("menuClose");const m=new Image;m.src=i,m.classList.add("addProjButton"),e.appendChild(s),t.appendChild(a),r.appendChild(u),l.appendChild(m);const f=document.querySelector(".sidebar-menu"),g=document.querySelector(".newProjectOverlay");e.addEventListener("click",(function(){f.style.animation="menuSlideOn 1.5s forwards"})),r.addEventListener("click",(function(){f.style.animation="menuSlideClose 1.5s forwards"})),l.addEventListener("click",(function(){console.log("create project button clicked!!"),f.style.animation="menuSlideClose 1.5s forwards",g.style.animation="projectSlideDown 1.5s forwards"})),f.addEventListener("click",(e=>{"SPAN"===e.target.tagName&&(console.log("the following is e.target.value"),console.log(e.target.textContent),d(p(e.target.textContent)))}))}(),function(){const t=document.querySelector(".closeButton"),n=document.querySelector(".submitButton");t.addEventListener("click",(function(){h.style.animation="projectSlideUp 1.5s forwards",j()})),n.addEventListener("click",(function(){console.log("submit button clicked"),h.style.animation="projectSlideUp 1.5s forwards";const t=function(){const e=document.getElementById("title").value;let t=document.getElementById("description").value;if(e){console.log("detected title");const n=new g(e,t);return m.push(n),console.log(m[m.length-1].title),console.log(m[m.length-1].description),n}return console.log("Need a title to create a project!"),void function(){const e=document.querySelector(".errorProjectOverlay");e.style.animation="projectSlideDown 1.5s forwards",setTimeout((function(){e.style.animation="projectSlideUp 1.5s forwards"}),2500),j(),h.style.animation="projectSlideDown 1.5s forwards"}()}();t&&(console.log("project obj returned successfully"),s(t.title),d(t),document.addEventListener("click",function(e){console.log("in projEditButton eventListener");const t=e.matches(".projEdit"),n=e.matches(".projRemove"),o=f(".projectNameMain");var c;t?(console.log("editButton clicked"),c=o.textContent,u.style.animation="projectSlideDown 1.5s forwards",f("#title").value=c,p(o)):n&&(console.log("removeButton clicked"),function(e){const t=f(".sidebarProject"),n=t.children;for(let o=0;o<n.length;o++)n[o].textContent==e&&t.removeChild(n[o])}(o.textContent),function(e){for(let t=0;t<m.length;t++)m[t].title==e&&m.splice(t,1)}(o.textContent),a())}(e.target))),j()}))}(),d({title:"defaultProject",description:"This is a default project. You can also create your own :)"}),s("defaultProject"),m[0]={title:"defaultProject",description:"This is a default project. You can also create your own :)"}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixFQUFvQjFGLE9BQVFDLElBQ3hDeUYsRUFBb0J6RixHQUFHWSxhQUFlMkUsR0FDckNDLEVBQVl0RCxZQUFZdUQsRUFBb0J6RixHQUd4RCxDQWhCWTJGLENBQWtCTCxFQUFVMUUsYUFrQnhDLFNBQXVCMkUsR0FDbkIsSUFBSSxJQUFJdkYsRUFBSSxFQUFHQSxFQUFJeUMsRUFBUTFDLE9BQVFDLElBQzVCeUMsRUFBUXpDLEdBQUd1QixPQUFTZ0UsR0FDbkI5QyxFQUFRbUQsT0FBTzVGLEVBQUcsRUFHOUIsQ0F2Qlk2RixDQUFjUCxFQUFVMUUsYUFDeEJNLElBSVosQ0F6QnVDNEUsQ0FBVXpHLEVBQUVnRixVR29CM0NmLEdBQ0osR0FDSixDQ3pCQXlDLEdBQ0EvRSxFQUFxQixDQUFDTyxNQUFPLGlCQUFrQnNCLFlBQWEsK0RBQzVEdkMsRUFBb0Isa0JBQ3BCbUMsRUFBUSxHQUFLLENBQUNsQixNQUFPLGlCQUFrQnNCLFlBQWEsNkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGludG9kb2xpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0RE9NLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0RXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL21lbnVFdmVudExpc3RlbmVycy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdENsYXNzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0Rm9ybS5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAhc2NyaXB0VXJsKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0IFJlbW92ZSBmcm9tICcuLi9zcmMvaW1ncy9jbG9zZS5wbmcnO1xuaW1wb3J0IENyZWF0ZSBmcm9tICcuLi9zcmMvaW1ncy9hZGQucG5nJztcbmltcG9ydCBFZGl0IGZyb20gJy4uL3NyYy9pbWdzL2VkaXQucG5nJztcbmltcG9ydCB7IGRxcyB9IGZyb20gJy4vbWVudUV2ZW50TGlzdGVuZXJzJztcblxuY29uc3QgbWFpblNlYyA9IGRxcyhcIi5wcm9qZWN0U2VjdGlvblwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2plY3RUb1NpZGViYXIocHJvamVjdFRpdGxlKXtcbiAgICBsZXQgbmV3UHJvalRpdGxlID0gcHJvamVjdFRpdGxlLnNsaWNlKDAsNyk7XG4gICAgY29uc3QgcHJvalNpZGUgPSBkcXMoXCIuc2lkZWJhclByb2plY3RcIik7XG4gICAgbGV0IHByb2pUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBwcm9qVGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0VGl0bGU7XG4gICAgcHJvalRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3ROYW1lU2lkZWJhcicpO1xuICAgIHByb2pTaWRlLmFwcGVuZENoaWxkKHByb2pUaXRsZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5UHJvamVjdEluTWFpbihwcm9qZWN0KXtcbiAgICBjbGVhck1haW4oKTtcbiAgICBjb25zdCBwcm9qRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBcbiAgICBjb25zdCBwcm9qQ2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHByb2pDaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgIHByb2pDaGVja2JveC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdENoZWNrYm94XCIpO1xuXG4gICAgXG4gICAgY29uc3QgcHJvak5hbWVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGlmKHByb2plY3QudGl0bGUubGVuZ3RoID4gMzApe1xuICAgICAgICBsZXQgbWFpbk1vZFByb2pUaXRsZSA9IHByb2plY3QudGl0bGUuc2xpY2UoMCwzMSk7XG4gICAgICAgIHByb2pOYW1lU3Bhbi50ZXh0Q29udGVudCA9IG1haW5Nb2RQcm9qVGl0bGUgKyBcIi4uLlwiO1xuICAgIH1lbHNle1xuICAgICAgICBwcm9qTmFtZVNwYW4udGV4dENvbnRlbnQgPSBwcm9qZWN0LnRpdGxlO1xuICAgIH1cbiAgICBwcm9qTmFtZVNwYW4uY2xhc3NMaXN0LmFkZChcInByb2plY3ROYW1lTWFpblwiKTtcblxuICAgIFxuICAgIGNvbnN0IGJ1dHRvbkNvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBcbiAgICBjb25zdCBhZGREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBlZGl0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgcmVtb3ZlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBjb25zdCBhZGRJY29uID0gbmV3IEltYWdlKCk7XG4gICAgYWRkSWNvbi5zcmMgPSBDcmVhdGU7XG4gICAgYWRkSWNvbi5jbGFzc0xpc3QuYWRkKCdwcm9qQWRkJyk7XG5cbiAgICBjb25zdCBlZGl0SWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGVkaXRJY29uLnNyYyA9IEVkaXQ7XG4gICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZCgncHJvakVkaXQnKTtcblxuICAgIGNvbnN0IHJlbUljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICByZW1JY29uLnNyYyA9IFJlbW92ZTtcbiAgICByZW1JY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2pSZW1vdmUnKTtcblxuICAgIGFkZERpdi5hcHBlbmRDaGlsZChhZGRJY29uKTtcbiAgICBlZGl0RGl2LmFwcGVuZENoaWxkKGVkaXRJY29uKTtcbiAgICByZW1vdmVEaXYuYXBwZW5kQ2hpbGQocmVtSWNvbik7XG4gICAgXG4gICAgYnV0dG9uQ29udC5hcHBlbmRDaGlsZChhZGREaXYpO1xuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQoZWRpdERpdik7XG4gICAgYnV0dG9uQ29udC5hcHBlbmRDaGlsZChyZW1vdmVEaXYpO1xuICAgIGJ1dHRvbkNvbnQuY2xhc3NMaXN0LmFkZChcInByb2plY3RPcHRpb25zXCIpO1xuXG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChwcm9qQ2hlY2tib3gpO1xuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQocHJvak5hbWVTcGFuKTtcbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKGJ1dHRvbkNvbnQpO1xuICAgIHByb2pEaXYuY2xhc3NMaXN0LmFkZChcInByb2plY3RcIik7XG5cbiAgICBtYWluU2VjLmFwcGVuZENoaWxkKHByb2pEaXYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJNYWluKCl7XG4gICAgd2hpbGUobWFpblNlYy5maXJzdENoaWxkKXtcbiAgICAgICAgbWFpblNlYy5yZW1vdmVDaGlsZChtYWluU2VjLmZpcnN0Q2hpbGQpXG4gICAgfVxufSIsImltcG9ydCB7IGRxcyB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgcHJvakFyciB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgY2xlYXJNYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuLy9pbXBvcnQgeyBwcm9qT3ZlcmxheSB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuXG5jb25zdCBwcm9qVGFza0FkZCA9IGRxcyhcIi5wcm9qQWRkXCIpO1xuY29uc3QgcHJvalJlbUJ1dHRvbiA9IGRxcyhcIi5wcm9qUmVtb3ZlXCIpO1xuY29uc3QgcHJvak92ZXJsYXkxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RFTGlzdGVuZXJzKCl7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0ZXN0ZXJpbmcoZS50YXJnZXQpKVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRlc3RlcmluZyhlKXtcbiAgICAvL2dvIHRocm91aGcgYXJyYXkgY29tcGFyaW5nIHRpdGxlXG4gICAgICAgIC8vd2hlbiBmb3VuZCBmaWxsIHByb2plY3RGb3JtIGFuZCBkcm9wIGZvcm0gZG93biBmb3IgdXNlclxuICAgICAgICAvL2lmIHN1Ym1pdCB0aGVuIHJlcGxhY2UgaW5mbyB3aXRoIG5ldyBpbmZvXG4gICAgICAgIC8vZWxzZSBpZiBjYW5jZWwgdGhlbiBsZWF2ZSBwcm9qZWN0IGFzIGl0IHdhc1xuICAgICAgICBjb25zb2xlLmxvZyhcImluIHByb2pFZGl0QnV0dG9uIGV2ZW50TGlzdGVuZXJcIik7XG4gICAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBlLm1hdGNoZXMoXCIucHJvakVkaXRcIik7XG4gICAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGUubWF0Y2hlcyhcIi5wcm9qUmVtb3ZlXCIpO1xuICAgICAgICBjb25zdCBjdXJyVGl0bGUgPSBkcXMoXCIucHJvamVjdE5hbWVNYWluXCIpO1xuICAgICAgICBpZihlZGl0QnV0dG9uKXsvL3RoaXMgd2lsbCBiZSBkb25lIG9uY2UgJ3JlbW92ZScgaXMgY29tcGxldGVkXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImVkaXRCdXR0b24gY2xpY2tlZFwiKTtcbiAgICAgICAgICAgIGVkaXRGb3JtKGN1cnJUaXRsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBjb25zdCBmb3VuZFByb2ogPSBmaW5kUHJvamVjdEluQXJyKGN1cnJUaXRsZSk7Ly90aGlzIHdpbGwgYmUgbGVmdCB0aWxsIHRoZSBlbmRcbiAgICAgICAgfWVsc2UgaWYocmVtb3ZlQnV0dG9uKXtcbiAgICAgICAgICAgIC8vY29uc3QgY3VyclRpdGxlID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZlQnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICAgICAgICByZW1vdmVQcm9qZWN0U2lkZShjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgcmVtb3ZlUHJvakFycihjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY2xlYXJNYWluKCk7XG4gICAgICAgICAgICAvL2NvbnN0IHNpZGVCYXIgPSBkcXMoXCIuc2lkZWJhci1tZW51XCIpO1xuICAgICAgICAgICAgLy9zaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVPbiAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVQcm9qZWN0U2lkZShwcm9qTmFtZSl7XG4gICAgY29uc3Qgc2lkZWJhclByb2ogPSBkcXMoXCIuc2lkZWJhclByb2plY3RcIik7XG4gICAgY29uc3Qgc2lkZWJhclByb2pDaGlsZHJlbiA9IHNpZGViYXJQcm9qLmNoaWxkcmVuO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaWRlYmFyUHJvakNoaWxkcmVuLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaWYoc2lkZWJhclByb2pDaGlsZHJlbltpXS50ZXh0Q29udGVudCA9PSBwcm9qTmFtZSl7XG4gICAgICAgICAgICBzaWRlYmFyUHJvai5yZW1vdmVDaGlsZChzaWRlYmFyUHJvakNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJvakFycihwcm9qTmFtZSl7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2pBcnIubGVuZ3RoOyBpKyspe1xuICAgICAgICBpZihwcm9qQXJyW2ldLnRpdGxlID09IHByb2pOYW1lKXtcbiAgICAgICAgICAgIHByb2pBcnIuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBlZGl0Rm9ybShwcm9qZWN0VGl0bGUpe1xuICAgIHByb2pPdmVybGF5MS5zdHlsZS5hbmltYXRpb24gPSAncHJvamVjdFNsaWRlRG93biAxLjVzIGZvcndhcmRzJztcbiAgICBjb25zdCB0aXRsZUluID0gZHFzKFwiI3RpdGxlXCIpO1xuICAgIHRpdGxlSW4udmFsdWUgPSBwcm9qZWN0VGl0bGU7XG5cbiAgICAvL2FkZCBldmVudExpc3RlbmVyIGZvciBzdWJtaXQgYW5kIGNhbmNlbCBidXR0b25zIG9uIHByb2plY3QgZm9ybVxuICAgIC8vaG9wZWZ1bGx5IHRoZXkgd2lsbCBkbyBzb21ldGhpbmcgZGlmZmVyZW50Pz8/XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZFByb2plY3RJbkFycih0aXRsZSl7Ly9NSUdIVCBOT1QgTkVFRCBUSElTIE1JR0hUIE5PVCBORUVEIFRISVMgTUlHSFQgTk9UIE5FRUQgVEhJU1xuICAgIGNvbnNvbGUubG9nKFwibG9va2luZyBmb3IgcHJvamVjdCBpbiBhcnJcIilcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICBpZihwcm9qQXJyW2ldLnRpdGxlID09IHRpdGxlKXtcbiAgICAgICAgICAgIHJldHVybiBwcm9qQXJyW2ldO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBNZW51IGZyb20gJy4uL3NyYy9pbWdzL21lbnUucG5nJ1xuaW1wb3J0IEJyYW5kIGZyb20gJy4uL3NyYy9pbWdzL1dvcmtlckFudHNNb2QucG5nJztcbmltcG9ydCBDbG9zZSBmcm9tICcuLi9zcmMvaW1ncy9jbG9zZS5wbmcnO1xuaW1wb3J0IENyZWF0ZSBmcm9tICcuLi9zcmMvaW1ncy9hZGQucG5nJztcbmltcG9ydCB7IGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSAnLi9wcm9qZWN0RE9NJztcbmltcG9ydCB7IGZpbmRQcm9qZWN0SW5BcnIgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG4vL0kgTkVFRCBUTyBBREQgQSBHTE9CQUwgVkFSSUFCTEUgQVJSQVkgVEhBVCBTVE9SRVMgQUxMIFRIRSBQUk9KRUNUUyBIRVJFXG5leHBvcnQgbGV0IHByb2pBcnIgPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRxcyhjKXtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lbnVFdmVudExpc3Rlbigpe1xuICAgIGNvbnN0IG1lbnVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVDb250YWluZXJcIik7XG4gICAgY29uc3QgbWFpbkxvZ29Db250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluTG9nb1wiKTtcbiAgICBjb25zdCBjbG9zZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudUNsb3NlXCIpO1xuICAgIGNvbnN0IGNyZWF0ZVByb2pDb250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jcmVhdGVQcm9qXCIpO1xuICAgIFxuICAgIGNvbnN0IG1lbnVJY29uID0gbmV3IEltYWdlKCk7XG4gICAgbWVudUljb24uc3JjID0gTWVudTtcbiAgICBtZW51SWNvbi5jbGFzc0xpc3QuYWRkKCdtYWluLW1lbnUtbG9nbycpO1xuXG4gICAgY29uc3QgbWFpbkxvZ29JbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBtYWluTG9nb0ltZy5zcmMgPSBCcmFuZDtcbiAgICBtYWluTG9nb0ltZy5jbGFzc0xpc3QuYWRkKCdtYWluLWxvZ28nKTtcblxuICAgIGNvbnN0IGNsb3NlSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGNsb3NlSWNvbi5zcmMgPSBDbG9zZTtcbiAgICBjbG9zZUljb24uY2xhc3NMaXN0LmFkZCgnbWVudUNsb3NlJyk7XG5cbiAgICBjb25zdCBjcmVhdGVQcm9qSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGNyZWF0ZVByb2pJY29uLnNyYyA9IENyZWF0ZTtcbiAgICBjcmVhdGVQcm9qSWNvbi5jbGFzc0xpc3QuYWRkKCdhZGRQcm9qQnV0dG9uJyk7XG5cbiAgICBtZW51Q29udGFpbmVyLmFwcGVuZENoaWxkKG1lbnVJY29uKTtcbiAgICBtYWluTG9nb0NvbnQuYXBwZW5kQ2hpbGQobWFpbkxvZ29JbWcpO1xuICAgIGNsb3NlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNsb3NlSWNvbik7XG4gICAgY3JlYXRlUHJvakNvbnQuYXBwZW5kQ2hpbGQoY3JlYXRlUHJvakljb24pO1xuXG4gICAgY29uc3Qgc2lkZUJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhci1tZW51XCIpO1xuICAgIGNvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuICAgIG1lbnVDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVPbiAxLjVzIGZvcndhcmRzJztcbiAgICB9KTtcbiAgICBjbG9zZUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNpZGVCYXIuc3R5bGUuYW5pbWF0aW9uID0gJ21lbnVTbGlkZUNsb3NlIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIGNyZWF0ZVByb2pDb250LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJjcmVhdGUgcHJvamVjdCBidXR0b24gY2xpY2tlZCEhXCIpO1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVDbG9zZSAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgc2lkZUJhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdTUEFOJyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRoZSBmb2xsb3dpbmcgaXMgZS50YXJnZXQudmFsdWVcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnRhcmdldC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBjb25zdCBkaXNwUHJvaiA9IGZpbmRQcm9qZWN0SW5BcnIoZS50YXJnZXQudGV4dENvbnRlbnQpXG4gICAgICAgICAgICBkaXNwbGF5UHJvamVjdEluTWFpbihkaXNwUHJvaik7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJleHBvcnQgY2xhc3MgUHJvamVjdHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24pe1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy50b0RvcyA9IFtdO1xuICAgIH1cbiAgICBnZXQgdGl0bGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH1cbiAgICBnZXQgZGVzY3JpcHRpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBnZXQgdG9Eb0xpc3QoKXsvL2dldCBhcnJheSB0aGVuIHB1c2ggYSB0b0RvXG4gICAgICAgIHJldHVybiB0aGlzLl90b0RvcztcbiAgICB9XG5cbiAgICBzZXQgdGl0bGUobmV3VGl0bGUpe1xuICAgICAgICB0aGlzLl90aXRsZSA9IG5ld1RpdGxlO1xuICAgIH1cbiAgICBzZXQgZGVzY3JpcHRpb24obmV3RGVzYyl7XG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gbmV3RGVzYztcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG5pbXBvcnQgeyBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0VG9TaWRlYmFyIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgZGlzcGxheVByb2plY3RJbk1haW4gfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG5pbXBvcnQgeyBwcm9qZWN0RUxpc3RlbmVycyB9IGZyb20gXCIuL3Byb2plY3RFdmVudExpc3RlbmVyc1wiO1xuXG5jb25zdCBwcm9qT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0T3ZlcmxheVN0dWZmKCl7XG4gICAgLy9jb25zdCBwcm9qT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbiAgICAvL2J1dHRvbnNcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2VCdXR0b25cIik7XG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXRCdXR0b25cIik7XG5cbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgcHJvamVjdEZvcm1DbGVhcigpO1xuICAgIH0pXG4gICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJzdWJtaXQgYnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgY29uc3QgcHJvamVjdFBhcmFtID0gZXh0cmFjdERhdGFGb3JQcm9qZWN0KCk7XG4gICAgICAgIC8vY3JlYXRlUHJvamVjdERPTShwcm9qZWN0UGFyYW0pOy8vdGhpcyB3aWxsIGJlIGluIHByb2plY3RET00uanMgZmlsZVxuICAgICAgICBpZihwcm9qZWN0UGFyYW0pe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcm9qZWN0IG9iaiByZXR1cm5lZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RQYXJhbS50aXRsZSkvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgICAgIGRpc3BsYXlQcm9qZWN0SW5NYWluKHByb2plY3RQYXJhbSk7XG4gICAgICAgICAgICBwcm9qZWN0RUxpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBleHRyYWN0RGF0YUZvclByb2plY3QoKXtcbiAgICBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS52YWx1ZVxuICAgIGxldCBkZXNjSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xuXG4gICAgaWYodGl0bGVJbnB1dCl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGV0ZWN0ZWQgdGl0bGVcIik7Ly9kZWJ1Z2dpbmdcbiAgICAgICAgY29uc3QgcHJvamVjdE1hZGUgPSBuZXcgUHJvamVjdCh0aXRsZUlucHV0LCBkZXNjSW5wdXQpO1xuICAgICAgICBwcm9qQXJyLnB1c2gocHJvamVjdE1hZGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qQXJyWyhwcm9qQXJyLmxlbmd0aCktMV0udGl0bGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qQXJyWyhwcm9qQXJyLmxlbmd0aCktMV0uZGVzY3JpcHRpb24pO1xuICAgICAgICByZXR1cm4gcHJvamVjdE1hZGU7XG4gICAgfWVsc2V7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTmVlZCBhIHRpdGxlIHRvIGNyZWF0ZSBhIHByb2plY3QhXCIpOy8vZGVidWdnaW5nXG4gICAgICAgIGRpc3BsYXlOZWVkVGl0bGUoKTsvLyBDQU4gSU5TRVJUIERPTSBNQU5JUFVMQVRJT04gVE8gU0hJRlQgRE9XTiBUSEUgRVJST1IgT1ZFUkxBWSA6KVxuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNwbGF5TmVlZFRpdGxlKCl7XG4gICAgY29uc3QgZXJyb3JPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvclByb2plY3RPdmVybGF5XCIpO1xuICAgIGVycm9yT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkc1wiXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBlcnJvck92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzXCJcbiAgICB9LCAyNTAwKTtcbiAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RGb3JtQ2xlYXIoKXtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlID0gXCJcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlID0gXCJcIjtcbn0iLCJpbXBvcnQgeyBtZW51RXZlbnRMaXN0ZW4sIHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgcHJvamVjdE92ZXJsYXlTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RGb3JtXCI7XG4vL2ltcG9ydCB7IHByb2plY3RFTGlzdGVuZXJzIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG4vLyBpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG4vLyBpbXBvcnQgeyBjcmVhdGVQcm9qZWN0RnJvbURhdGEgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xubWVudUV2ZW50TGlzdGVuKCk7XG5wcm9qZWN0T3ZlcmxheVN0dWZmKCk7XG5kaXNwbGF5UHJvamVjdEluTWFpbih7dGl0bGU6IFwiZGVmYXVsdFByb2plY3RcIiwgZGVzY3JpcHRpb246IFwiVGhpcyBpcyBhIGRlZmF1bHQgcHJvamVjdC4gWW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biA6KVwifSk7XG5hZGRQcm9qZWN0VG9TaWRlYmFyKFwiZGVmYXVsdFByb2plY3RcIik7XG5wcm9qQXJyWzBdID0ge3RpdGxlOiBcImRlZmF1bHRQcm9qZWN0XCIsIGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBkZWZhdWx0IHByb2plY3QuIFlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gOilcIn07XG4vL3Byb2plY3RFTGlzdGVuZXJzKCk7XG4vLyBsZXQgcHJvajEgPSBuZXcgUHJvamVjdChcImNhcmxvc0JydWhcIiwgXCJhcGl1ZlwiKTtcbi8vIGNvbnNvbGUubG9nKHByb2oxLm5hbWUpO1xuLy8gY29uc29sZS5sb2cocHJvajEuZGVzY3JpcHRpb24pOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiaSIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJtYWluU2VjIiwiZHFzIiwiYWRkUHJvamVjdFRvU2lkZWJhciIsInByb2plY3RUaXRsZSIsInNsaWNlIiwicHJvalNpZGUiLCJwcm9qVGl0bGUiLCJjcmVhdGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImRpc3BsYXlQcm9qZWN0SW5NYWluIiwicHJvamVjdCIsImNsZWFyTWFpbiIsInByb2pEaXYiLCJwcm9qQ2hlY2tib3giLCJ0eXBlIiwicHJvak5hbWVTcGFuIiwidGl0bGUiLCJtYWluTW9kUHJvalRpdGxlIiwiYnV0dG9uQ29udCIsImFkZERpdiIsImVkaXREaXYiLCJyZW1vdmVEaXYiLCJhZGRJY29uIiwiSW1hZ2UiLCJlZGl0SWNvbiIsInJlbUljb24iLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJwcm9qT3ZlcmxheTEiLCJxdWVyeVNlbGVjdG9yIiwiZmluZFByb2plY3RJbkFyciIsImNvbnNvbGUiLCJsb2ciLCJpbmRleCIsInByb2pBcnIiLCJjIiwiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwiZGVzY3JpcHRpb24iLCJ0b0RvcyIsIl90aXRsZSIsIl9kZXNjcmlwdGlvbiIsInRvRG9MaXN0IiwiX3RvRG9zIiwibmV3VGl0bGUiLCJuZXdEZXNjIiwicHJvak92ZXJsYXkiLCJwcm9qZWN0Rm9ybUNsZWFyIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsIm1lbnVDb250YWluZXIiLCJtYWluTG9nb0NvbnQiLCJjbG9zZUNvbnRhaW5lciIsImNyZWF0ZVByb2pDb250IiwibWVudUljb24iLCJtYWluTG9nb0ltZyIsImNsb3NlSWNvbiIsImNyZWF0ZVByb2pJY29uIiwic2lkZUJhciIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsImFuaW1hdGlvbiIsInRhcmdldCIsInRhZ05hbWUiLCJtZW51RXZlbnRMaXN0ZW4iLCJjbG9zZUJ1dHRvbiIsInN1Ym1pdEJ1dHRvbiIsInByb2plY3RQYXJhbSIsInRpdGxlSW5wdXQiLCJkZXNjSW5wdXQiLCJwcm9qZWN0TWFkZSIsInB1c2giLCJlcnJvck92ZXJsYXkiLCJzZXRUaW1lb3V0IiwiZGlzcGxheU5lZWRUaXRsZSIsImV4dHJhY3REYXRhRm9yUHJvamVjdCIsImVkaXRCdXR0b24iLCJtYXRjaGVzIiwicmVtb3ZlQnV0dG9uIiwiY3VyclRpdGxlIiwicHJvak5hbWUiLCJzaWRlYmFyUHJvaiIsInNpZGViYXJQcm9qQ2hpbGRyZW4iLCJjaGlsZHJlbiIsInJlbW92ZVByb2plY3RTaWRlIiwic3BsaWNlIiwicmVtb3ZlUHJvakFyciIsInRlc3RlcmluZyIsInByb2plY3RPdmVybGF5U3R1ZmYiXSwic291cmNlUm9vdCI6IiJ9