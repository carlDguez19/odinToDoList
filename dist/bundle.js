(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");if(o.length)for(var c=o.length-1;c>-1&&!t;)t=o[c--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"abbfad808c2786a6a2d4.png",n=e.p+"986e98635b18601755cf.png",o=e.p+"177a54134d0bd5aefd06.png",c=e.p+"edb755c23d1ebcf9c7a4.png",i=e.p+"c9c7160b568bb10d504c.png",r=(f(".projAdd"),f(".projRemove"),document.querySelector(".newProjectOverlay"));var l=function(e){const t=e.target.matches(".projEdit"),n=e.target.matches(".projRemove"),o=f(".projectNameMain");if(t){console.log("editButton clicked"),c=o.textContent,r.style.animation="projectSlideDown 1.5s forwards",f("#title").value=c,s(o);for(let e=0;e<m.length;e++)console.log(e+1+" "+m[e].title)}else if(n){console.log("removeButton clicked"),function(e){const t=f(".sidebarProject"),n=t.children;for(let o=0;o<n.length;o++)n[o].textContent==e&&t.removeChild(n[o])}(o.textContent),function(e){for(let t=0;t<m.length;t++)m[t].title==e&&m.splice(t,1)}(o.textContent),p();for(let e=0;e<m.length;e++)console.log(e+1+" "+m[e].title)}var c};function s(e){let t=0;for(let n=0;n<m.length;n++)if(t=n,m[n].title==e)return m[n]}const d=f(".projectSection");function a(e){const t=f(".sidebarProject");let n=document.createElement("span");n.textContent=e,n.classList.add("projectNameSidebar"),t.appendChild(n)}function u(e){p();const t=document.createElement("div"),n=document.createElement("ul");n.classList.add("todoUL");const r=document.createElement("input");r.type="checkbox",r.classList.add("projectCheckbox");const s=document.createElement("span");if(e.title.length>30){let t=e.title.slice(0,31);s.textContent=t+"..."}else s.textContent=e.title;s.classList.add("projectNameMain");const a=document.createElement("div"),u=document.createElement("div"),m=document.createElement("div"),f=document.createElement("div"),g=new Image;g.src=c,g.classList.add("projAdd");const h=new Image;h.src=i,h.classList.add("projEdit");const v=new Image;v.src=o,v.classList.add("projRemove"),u.appendChild(g),m.appendChild(h),f.appendChild(v),a.appendChild(u),a.appendChild(m),a.appendChild(f),a.classList.add("projectOptions"),t.appendChild(r),t.appendChild(s),t.appendChild(a),t.classList.add("project"),d.appendChild(t),d.appendChild(n),document.addEventListener("click",l)}function p(){for(document.removeEventListener("click",l);d.firstChild;)d.removeChild(d.firstChild)}let m=[];function f(e){return document.querySelector(e)}class g{constructor(e,t){this.title=e,this.description=t,this.toDos=[]}get title(){return this._title}get description(){return this._description}get toDoList(){return this._toDos}set title(e){this._title=e}set description(e){this._description=e}}const h=document.querySelector(".newProjectOverlay");function v(){document.getElementById("title").value="",document.getElementById("description").value=""}!function(){const e=document.querySelector(".menuContainer"),i=document.querySelector(".mainLogo"),r=document.querySelector(".menuClose"),l=document.querySelector(".createProj"),d=new Image;d.src=t,d.classList.add("main-menu-logo");const a=new Image;a.src=n,a.classList.add("main-logo");const p=new Image;p.src=o,p.classList.add("menuClose");const m=new Image;m.src=c,m.classList.add("addProjButton"),e.appendChild(d),i.appendChild(a),r.appendChild(p),l.appendChild(m);const f=document.querySelector(".sidebar-menu"),g=document.querySelector(".newProjectOverlay");e.addEventListener("click",(function(){f.style.animation="menuSlideOn 1.5s forwards"})),r.addEventListener("click",(function(){f.style.animation="menuSlideClose 1.5s forwards"})),l.addEventListener("click",(function(){f.style.animation="menuSlideClose 1.5s forwards",g.style.animation="projectSlideDown 1.5s forwards"})),f.addEventListener("click",(e=>{"SPAN"===e.target.tagName&&(console.log("the following is e.target.value"),console.log(e.target.textContent),u(s(e.target.textContent)))}))}(),function(){const e=document.querySelector(".closeButton"),t=document.querySelector(".submitButton");e.addEventListener("click",(function(){h.style.animation="projectSlideUp 1.5s forwards",v()})),t.addEventListener("click",(function(){h.style.animation="projectSlideUp 1.5s forwards";const e=function(){const e=document.getElementById("title").value;let t=document.getElementById("description").value;if(e){const n=new g(e,t);return m.push(n),n}!function(){const e=document.querySelector(".errorProjectOverlay");e.style.animation="projectSlideDown 1.5s forwards",setTimeout((function(){e.style.animation="projectSlideUp 1.5s forwards"}),2500),v(),h.style.animation="projectSlideDown 1.5s forwards"}()}();if(e){a(e.title),u(e);for(let e=0;e<m.length;e++)console.log(e+1+" "+m[e].title)}v()}))}(),u({title:"defaultProject",description:"This is a default project. You can also create your own :)"}),a("defaultProject"),m[0]={title:"defaultProject",description:"This is a default project. You can also create your own :)"}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0ksTUFBTUMsRUFBYWhHLFNBQVNpRixlQUFlLFNBQVN4RCxNQUNwRCxJQUFJd0UsRUFBWWpHLFNBQVNpRixlQUFlLGVBQWV4RCxNQUV2RCxHQUFHdUUsRUFBVyxDQUVWLE1BQU1FLEVBQWMsSUFBSTdCLEVBQVEyQixFQUFZQyxHQUk1QyxPQUhBckUsRUFBUXVFLEtBQUtELEdBR05BLENBQ1gsRUFPSixXQUNJLE1BQU1FLEVBQWVwRyxTQUFTWSxjQUFjLHdCQUM1Q3dGLEVBQWE3RSxNQUFNQyxVQUFZLGlDQUMvQjZFLFlBQVcsV0FDUEQsRUFBYTdFLE1BQU1DLFVBQVksOEJBQ25DLEdBQUcsTUFDSHdELElBQ0FELEVBQVl4RCxNQUFNQyxVQUFZLGdDQUNsQyxDQWJROEUsRUFHUixDQS9CNkJDLEdBRXJCLEdBQUdSLEVBQWEsQ0FFWnRELEVBQW9Cc0QsRUFBYWxFLE9BQ2pDbUIsRUFBcUIrQyxHQUVyQixJQUFJLElBQUlwRSxFQUFJLEVBQUdBLEVBQUlDLEVBQVF2QixPQUFRc0IsSUFDL0JSLFFBQVFDLElBQUtPLEVBQUUsRUFBSSxJQUFLQyxFQUFRRCxHQUFHRSxNQUUzQyxDQUNBbUQsR0FDSixHQUNKLENDN0JBd0IsR0FDQXhELEVBQXFCLENBQUNuQixNQUFPLGlCQUFrQjBDLFlBQWEsK0RBQzVEOUIsRUFBb0Isa0JBQ3BCYixFQUFRLEdBQUssQ0FBQ0MsTUFBTyxpQkFBa0IwQyxZQUFhLDZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEV2ZW50TGlzdGVuZXJzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0RE9NLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9tZW51RXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RDbGFzcy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEZvcm0uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImltcG9ydCB7IGRxcyB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgcHJvakFyciB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgY2xlYXJNYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuLy9pbXBvcnQgeyBwcm9qT3ZlcmxheSB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuXG5jb25zdCBwcm9qVGFza0FkZCA9IGRxcyhcIi5wcm9qQWRkXCIpO1xuY29uc3QgcHJvalJlbUJ1dHRvbiA9IGRxcyhcIi5wcm9qUmVtb3ZlXCIpO1xuY29uc3QgcHJvak92ZXJsYXkxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RFTGlzdGVuZXJzKCl7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGVzdGVyaW5nKVxufTtcblxuZXhwb3J0IHZhciBfdGVzdGVyaW5nID0gZnVuY3Rpb24oZSl7XG4gICAgLy9nbyB0aHJvdWhnIGFycmF5IGNvbXBhcmluZyB0aXRsZVxuICAgICAgICAvL3doZW4gZm91bmQgZmlsbCBwcm9qZWN0Rm9ybSBhbmQgZHJvcCBmb3JtIGRvd24gZm9yIHVzZXJcbiAgICAgICAgLy9pZiBzdWJtaXQgdGhlbiByZXBsYWNlIGluZm8gd2l0aCBuZXcgaW5mb1xuICAgICAgICAvL2Vsc2UgaWYgY2FuY2VsIHRoZW4gbGVhdmUgcHJvamVjdCBhcyBpdCB3YXNcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImluIHByb2pFZGl0QnV0dG9uIGV2ZW50TGlzdGVuZXJcIik7XG4gICAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBlLnRhcmdldC5tYXRjaGVzKFwiLnByb2pFZGl0XCIpO1xuICAgICAgICBjb25zdCByZW1vdmVCdXR0b24gPSBlLnRhcmdldC5tYXRjaGVzKFwiLnByb2pSZW1vdmVcIik7XG4gICAgICAgIGNvbnN0IGN1cnJUaXRsZSA9IGRxcyhcIi5wcm9qZWN0TmFtZU1haW5cIik7XG4gICAgICAgIGlmKGVkaXRCdXR0b24pey8vdGhpcyB3aWxsIGJlIGRvbmUgb25jZSAncmVtb3ZlJyBpcyBjb21wbGV0ZWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZWRpdEJ1dHRvbiBjbGlja2VkXCIpO1xuICAgICAgICAgICAgZWRpdEZvcm0oY3VyclRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kUHJvaiA9IGZpbmRQcm9qZWN0SW5BcnIoY3VyclRpdGxlKTsvL3RoaXMgd2lsbCBiZSBsZWZ0IHRpbGwgdGhlIGVuZFxuICAgICAgICAgICAgZm9yKGxldCBhID0gMDsgYSA8IHByb2pBcnIubGVuZ3RoOyBhKyspe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKChhKzEpKyBcIiBcIisgcHJvakFyclthXS50aXRsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2UgaWYocmVtb3ZlQnV0dG9uKXtcbiAgICAgICAgICAgIC8vY29uc3QgY3VyclRpdGxlID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZlQnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICAgICAgICByZW1vdmVQcm9qZWN0U2lkZShjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgcmVtb3ZlUHJvakFycihjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY2xlYXJNYWluKCk7XG4gICAgICAgICAgICAvL2NvbnN0IHNpZGVCYXIgPSBkcXMoXCIuc2lkZWJhci1tZW51XCIpO1xuICAgICAgICAgICAgLy9zaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVPbiAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgICAgIGZvcihsZXQgYSA9IDA7IGEgPCBwcm9qQXJyLmxlbmd0aDsgYSsrKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygoYSsxKSsgXCIgXCIrIHByb2pBcnJbYV0udGl0bGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJvamVjdFNpZGUocHJvak5hbWUpe1xuICAgIGNvbnN0IHNpZGViYXJQcm9qID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGNvbnN0IHNpZGViYXJQcm9qQ2hpbGRyZW4gPSBzaWRlYmFyUHJvai5jaGlsZHJlbjtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgc2lkZWJhclByb2pDaGlsZHJlbi5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKHNpZGViYXJQcm9qQ2hpbGRyZW5baV0udGV4dENvbnRlbnQgPT0gcHJvak5hbWUpe1xuICAgICAgICAgICAgc2lkZWJhclByb2oucmVtb3ZlQ2hpbGQoc2lkZWJhclByb2pDaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByb2pBcnIocHJvak5hbWUpe1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaWYocHJvakFycltpXS50aXRsZSA9PSBwcm9qTmFtZSl7XG4gICAgICAgICAgICBwcm9qQXJyLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZWRpdEZvcm0ocHJvamVjdFRpdGxlKXtcbiAgICBwcm9qT3ZlcmxheTEuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgY29uc3QgdGl0bGVJbiA9IGRxcyhcIiN0aXRsZVwiKTtcbiAgICB0aXRsZUluLnZhbHVlID0gcHJvamVjdFRpdGxlO1xuXG4gICAgLy9hZGQgZXZlbnRMaXN0ZW5lciBmb3Igc3VibWl0IGFuZCBjYW5jZWwgYnV0dG9ucyBvbiBwcm9qZWN0IGZvcm1cbiAgICAvL2hvcGVmdWxseSB0aGV5IHdpbGwgZG8gc29tZXRoaW5nIGRpZmZlcmVudD8/P1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRQcm9qZWN0SW5BcnIodGl0bGUpey8vTUlHSFQgTk9UIE5FRUQgVEhJUyBNSUdIVCBOT1QgTkVFRCBUSElTIE1JR0hUIE5PVCBORUVEIFRISVNcbiAgICAvL2NvbnNvbGUubG9nKFwibG9va2luZyBmb3IgcHJvamVjdCBpbiBhcnJcIilcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICBpZihwcm9qQXJyW2ldLnRpdGxlID09IHRpdGxlKXtcbiAgICAgICAgICAgIHJldHVybiBwcm9qQXJyW2ldO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBSZW1vdmUgZnJvbSAnLi4vc3JjL2ltZ3MvY2xvc2UucG5nJztcbmltcG9ydCBDcmVhdGUgZnJvbSAnLi4vc3JjL2ltZ3MvYWRkLnBuZyc7XG5pbXBvcnQgRWRpdCBmcm9tICcuLi9zcmMvaW1ncy9lZGl0LnBuZyc7XG5pbXBvcnQgeyBkcXMgfSBmcm9tICcuL21lbnVFdmVudExpc3RlbmVycyc7XG5pbXBvcnQgeyBwcm9qZWN0RUxpc3RlbmVycyB9IGZyb20gJy4vcHJvamVjdEV2ZW50TGlzdGVuZXJzJztcbmltcG9ydCB7IF90ZXN0ZXJpbmcgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG5cbmNvbnN0IG1haW5TZWMgPSBkcXMoXCIucHJvamVjdFNlY3Rpb25cIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RUaXRsZSl7XG4gICAgY29uc3QgcHJvalNpZGUgPSBkcXMoXCIuc2lkZWJhclByb2plY3RcIik7XG4gICAgbGV0IHByb2pUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBwcm9qVGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0VGl0bGU7XG4gICAgcHJvalRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3ROYW1lU2lkZWJhcicpO1xuICAgIHByb2pTaWRlLmFwcGVuZENoaWxkKHByb2pUaXRsZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5UHJvamVjdEluTWFpbihwcm9qZWN0KXtcbiAgICBjbGVhck1haW4oKTtcbiAgICBjb25zdCBwcm9qRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBjb25zdCB0YXNrU2VjVUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRhc2tTZWNVTC5jbGFzc0xpc3QuYWRkKFwidG9kb1VMXCIpXG4gICAgXG4gICAgY29uc3QgcHJvakNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBwcm9qQ2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICBwcm9qQ2hlY2tib3guY2xhc3NMaXN0LmFkZChcInByb2plY3RDaGVja2JveFwiKTtcblxuICAgIFxuICAgIGNvbnN0IHByb2pOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBpZihwcm9qZWN0LnRpdGxlLmxlbmd0aCA+IDMwKXtcbiAgICAgICAgbGV0IG1haW5Nb2RQcm9qVGl0bGUgPSBwcm9qZWN0LnRpdGxlLnNsaWNlKDAsMzEpO1xuICAgICAgICBwcm9qTmFtZVNwYW4udGV4dENvbnRlbnQgPSBtYWluTW9kUHJvalRpdGxlICsgXCIuLi5cIjtcbiAgICB9ZWxzZXtcbiAgICAgICAgcHJvak5hbWVTcGFuLnRleHRDb250ZW50ID0gcHJvamVjdC50aXRsZTtcbiAgICB9XG4gICAgcHJvak5hbWVTcGFuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0TmFtZU1haW5cIik7XG5cbiAgICBcbiAgICBjb25zdCBidXR0b25Db250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG4gICAgY29uc3QgYWRkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgZWRpdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHJlbW92ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgYWRkSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGFkZEljb24uc3JjID0gQ3JlYXRlO1xuICAgIGFkZEljb24uY2xhc3NMaXN0LmFkZCgncHJvakFkZCcpO1xuXG4gICAgY29uc3QgZWRpdEljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBlZGl0SWNvbi5zcmMgPSBFZGl0O1xuICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2pFZGl0Jyk7XG5cbiAgICBjb25zdCByZW1JY29uID0gbmV3IEltYWdlKCk7XG4gICAgcmVtSWNvbi5zcmMgPSBSZW1vdmU7XG4gICAgcmVtSWNvbi5jbGFzc0xpc3QuYWRkKCdwcm9qUmVtb3ZlJyk7XG5cbiAgICBhZGREaXYuYXBwZW5kQ2hpbGQoYWRkSWNvbik7XG4gICAgZWRpdERpdi5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG4gICAgcmVtb3ZlRGl2LmFwcGVuZENoaWxkKHJlbUljb24pO1xuICAgIFxuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQoYWRkRGl2KTtcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKGVkaXREaXYpO1xuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQocmVtb3ZlRGl2KTtcbiAgICBidXR0b25Db250LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0T3B0aW9uc1wiKTtcblxuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQocHJvakNoZWNrYm94KTtcbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKHByb2pOYW1lU3Bhbik7XG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChidXR0b25Db250KTtcbiAgICBwcm9qRGl2LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xuXG4gICAgbWFpblNlYy5hcHBlbmRDaGlsZChwcm9qRGl2KTtcbiAgICBtYWluU2VjLmFwcGVuZENoaWxkKHRhc2tTZWNVTCk7XG4gICAgLy9jYWxsIGV2ZW50TGlzdGVuZXIgaGVyZVxuICAgIHByb2plY3RFTGlzdGVuZXJzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhck1haW4oKXtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF90ZXN0ZXJpbmcpO1xuICAgIHdoaWxlKG1haW5TZWMuZmlyc3RDaGlsZCl7XG4gICAgICAgIG1haW5TZWMucmVtb3ZlQ2hpbGQobWFpblNlYy5maXJzdENoaWxkKVxuICAgIH1cbn0iLCJpbXBvcnQgTWVudSBmcm9tICcuLi9zcmMvaW1ncy9tZW51LnBuZydcbmltcG9ydCBCcmFuZCBmcm9tICcuLi9zcmMvaW1ncy9Xb3JrZXJBbnRzTW9kLnBuZyc7XG5pbXBvcnQgQ2xvc2UgZnJvbSAnLi4vc3JjL2ltZ3MvY2xvc2UucG5nJztcbmltcG9ydCBDcmVhdGUgZnJvbSAnLi4vc3JjL2ltZ3MvYWRkLnBuZyc7XG5pbXBvcnQgeyBkaXNwbGF5UHJvamVjdEluTWFpbiB9IGZyb20gJy4vcHJvamVjdERPTSc7XG5pbXBvcnQgeyBmaW5kUHJvamVjdEluQXJyIH0gZnJvbSAnLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnMnO1xuLy9JIE5FRUQgVE8gQUREIEEgR0xPQkFMIFZBUklBQkxFIEFSUkFZIFRIQVQgU1RPUkVTIEFMTCBUSEUgUFJPSkVDVFMgSEVSRVxuZXhwb3J0IGxldCBwcm9qQXJyID0gW107XG5cbmV4cG9ydCBmdW5jdGlvbiBkcXMoYyl7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZW51RXZlbnRMaXN0ZW4oKXtcbiAgICBjb25zdCBtZW51Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51Q29udGFpbmVyXCIpO1xuICAgIGNvbnN0IG1haW5Mb2dvQ29udCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbkxvZ29cIik7XG4gICAgY29uc3QgY2xvc2VDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVDbG9zZVwiKTtcbiAgICBjb25zdCBjcmVhdGVQcm9qQ29udCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3JlYXRlUHJvalwiKTtcbiAgICBcbiAgICBjb25zdCBtZW51SWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIG1lbnVJY29uLnNyYyA9IE1lbnU7XG4gICAgbWVudUljb24uY2xhc3NMaXN0LmFkZCgnbWFpbi1tZW51LWxvZ28nKTtcblxuICAgIGNvbnN0IG1haW5Mb2dvSW1nID0gbmV3IEltYWdlKCk7XG4gICAgbWFpbkxvZ29JbWcuc3JjID0gQnJhbmQ7XG4gICAgbWFpbkxvZ29JbWcuY2xhc3NMaXN0LmFkZCgnbWFpbi1sb2dvJyk7XG5cbiAgICBjb25zdCBjbG9zZUljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBjbG9zZUljb24uc3JjID0gQ2xvc2U7XG4gICAgY2xvc2VJY29uLmNsYXNzTGlzdC5hZGQoJ21lbnVDbG9zZScpO1xuXG4gICAgY29uc3QgY3JlYXRlUHJvakljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBjcmVhdGVQcm9qSWNvbi5zcmMgPSBDcmVhdGU7XG4gICAgY3JlYXRlUHJvakljb24uY2xhc3NMaXN0LmFkZCgnYWRkUHJvakJ1dHRvbicpO1xuXG4gICAgbWVudUNvbnRhaW5lci5hcHBlbmRDaGlsZChtZW51SWNvbik7XG4gICAgbWFpbkxvZ29Db250LmFwcGVuZENoaWxkKG1haW5Mb2dvSW1nKTtcbiAgICBjbG9zZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9zZUljb24pO1xuICAgIGNyZWF0ZVByb2pDb250LmFwcGVuZENoaWxkKGNyZWF0ZVByb2pJY29uKTtcblxuICAgIGNvbnN0IHNpZGVCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXItbWVudVwiKTtcbiAgICBjb25zdCBwcm9qT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbiAgICBtZW51Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlT24gMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgY2xvc2VDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVDbG9zZSAxLjVzIGZvcndhcmRzJztcbiAgICB9KTtcbiAgICBjcmVhdGVQcm9qQ29udC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJjcmVhdGUgcHJvamVjdCBidXR0b24gY2xpY2tlZCEhXCIpO1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVDbG9zZSAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgc2lkZUJhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdTUEFOJyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRoZSBmb2xsb3dpbmcgaXMgZS50YXJnZXQudmFsdWVcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnRhcmdldC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBjb25zdCBkaXNwUHJvaiA9IGZpbmRQcm9qZWN0SW5BcnIoZS50YXJnZXQudGV4dENvbnRlbnQpXG4gICAgICAgICAgICBkaXNwbGF5UHJvamVjdEluTWFpbihkaXNwUHJvaik7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJleHBvcnQgY2xhc3MgUHJvamVjdHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24pe1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy50b0RvcyA9IFtdO1xuICAgIH1cbiAgICBnZXQgdGl0bGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH1cbiAgICBnZXQgZGVzY3JpcHRpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBnZXQgdG9Eb0xpc3QoKXsvL2dldCBhcnJheSB0aGVuIHB1c2ggYSB0b0RvXG4gICAgICAgIHJldHVybiB0aGlzLl90b0RvcztcbiAgICB9XG5cbiAgICBzZXQgdGl0bGUobmV3VGl0bGUpe1xuICAgICAgICB0aGlzLl90aXRsZSA9IG5ld1RpdGxlO1xuICAgIH1cbiAgICBzZXQgZGVzY3JpcHRpb24obmV3RGVzYyl7XG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gbmV3RGVzYztcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG5pbXBvcnQgeyBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0VG9TaWRlYmFyIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgZGlzcGxheVByb2plY3RJbk1haW4gfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG4vL2ltcG9ydCB7IHByb2plY3RFTGlzdGVuZXJzIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBfdGVzdGVyaW5nIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG5cbmNvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RPdmVybGF5U3R1ZmYoKXtcbiAgICAvL2NvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuICAgIC8vYnV0dG9uc1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZUJ1dHRvblwiKTtcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdEJ1dHRvblwiKTtcblxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHMnO1xuICAgICAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgfSlcbiAgICBzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwic3VibWl0IGJ1dHRvbiBjbGlja2VkXCIpO1xuICAgICAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSAncHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIGNvbnN0IHByb2plY3RQYXJhbSA9IGV4dHJhY3REYXRhRm9yUHJvamVjdCgpO1xuICAgICAgICAvL2NyZWF0ZVByb2plY3RET00ocHJvamVjdFBhcmFtKTsvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgaWYocHJvamVjdFBhcmFtKXtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJwcm9qZWN0IG9iaiByZXR1cm5lZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RQYXJhbS50aXRsZSkvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgICAgIGRpc3BsYXlQcm9qZWN0SW5NYWluKHByb2plY3RQYXJhbSk7XG4gICAgICAgICAgICAvL3Byb2plY3RFTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBmb3IobGV0IGEgPSAwOyBhIDwgcHJvakFyci5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coKGErMSkrIFwiIFwiKyBwcm9qQXJyW2FdLnRpdGxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBleHRyYWN0RGF0YUZvclByb2plY3QoKXtcbiAgICBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS52YWx1ZVxuICAgIGxldCBkZXNjSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xuXG4gICAgaWYodGl0bGVJbnB1dCl7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJkZXRlY3RlZCB0aXRsZVwiKTsvL2RlYnVnZ2luZ1xuICAgICAgICBjb25zdCBwcm9qZWN0TWFkZSA9IG5ldyBQcm9qZWN0KHRpdGxlSW5wdXQsIGRlc2NJbnB1dCk7XG4gICAgICAgIHByb2pBcnIucHVzaChwcm9qZWN0TWFkZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2cocHJvakFyclsocHJvakFyci5sZW5ndGgpLTFdLnRpdGxlKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwcm9qQXJyWyhwcm9qQXJyLmxlbmd0aCktMV0uZGVzY3JpcHRpb24pO1xuICAgICAgICByZXR1cm4gcHJvamVjdE1hZGU7XG4gICAgfWVsc2V7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJOZWVkIGEgdGl0bGUgdG8gY3JlYXRlIGEgcHJvamVjdCFcIik7Ly9kZWJ1Z2dpbmdcbiAgICAgICAgZGlzcGxheU5lZWRUaXRsZSgpOy8vIENBTiBJTlNFUlQgRE9NIE1BTklQVUxBVElPTiBUTyBTSElGVCBET1dOIFRIRSBFUlJPUiBPVkVSTEFZIDopXG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlOZWVkVGl0bGUoKXtcbiAgICBjb25zdCBlcnJvck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yUHJvamVjdE92ZXJsYXlcIik7XG4gICAgZXJyb3JPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlRG93biAxLjVzIGZvcndhcmRzXCJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGVycm9yT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHNcIlxuICAgIH0sIDI1MDApO1xuICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkc1wiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdEZvcm1DbGVhcigpe1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIikudmFsdWUgPSBcIlwiO1xufSIsImltcG9ydCB7IG1lbnVFdmVudExpc3RlbiwgcHJvakFyciB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgYWRkUHJvamVjdFRvU2lkZWJhciwgZGlzcGxheVByb2plY3RJbk1haW4gfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG5pbXBvcnQgeyBwcm9qZWN0T3ZlcmxheVN0dWZmIH0gZnJvbSBcIi4vcHJvamVjdEZvcm1cIjtcbi8vaW1wb3J0IHsgcHJvamVjdEVMaXN0ZW5lcnMgfSBmcm9tIFwiLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnNcIjtcbi8vIGltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0Q2xhc3NcIjtcbi8vIGltcG9ydCB7IGNyZWF0ZVByb2plY3RGcm9tRGF0YSB9IGZyb20gXCIuL3Byb2plY3RGb3JtXCI7XG5tZW51RXZlbnRMaXN0ZW4oKTtcbnByb2plY3RPdmVybGF5U3R1ZmYoKTtcbmRpc3BsYXlQcm9qZWN0SW5NYWluKHt0aXRsZTogXCJkZWZhdWx0UHJvamVjdFwiLCBkZXNjcmlwdGlvbjogXCJUaGlzIGlzIGEgZGVmYXVsdCBwcm9qZWN0LiBZb3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIDopXCJ9KTtcbmFkZFByb2plY3RUb1NpZGViYXIoXCJkZWZhdWx0UHJvamVjdFwiKTtcbnByb2pBcnJbMF0gPSB7dGl0bGU6IFwiZGVmYXVsdFByb2plY3RcIiwgZGVzY3JpcHRpb246IFwiVGhpcyBpcyBhIGRlZmF1bHQgcHJvamVjdC4gWW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biA6KVwifTtcbi8vcHJvamVjdEVMaXN0ZW5lcnMoKTtcbi8vIGxldCBwcm9qMSA9IG5ldyBQcm9qZWN0KFwiY2FybG9zQnJ1aFwiLCBcImFwaXVmXCIpO1xuLy8gY29uc29sZS5sb2cocHJvajEubmFtZSk7XG4vLyBjb25zb2xlLmxvZyhwcm9qMS5kZXNjcmlwdGlvbik7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsInByb2pPdmVybGF5MSIsImRxcyIsInF1ZXJ5U2VsZWN0b3IiLCJfdGVzdGVyaW5nIiwiZWRpdEJ1dHRvbiIsInRhcmdldCIsIm1hdGNoZXMiLCJyZW1vdmVCdXR0b24iLCJjdXJyVGl0bGUiLCJjb25zb2xlIiwibG9nIiwicHJvamVjdFRpdGxlIiwidGV4dENvbnRlbnQiLCJzdHlsZSIsImFuaW1hdGlvbiIsInZhbHVlIiwiZmluZFByb2plY3RJbkFyciIsImEiLCJwcm9qQXJyIiwidGl0bGUiLCJwcm9qTmFtZSIsInNpZGViYXJQcm9qIiwic2lkZWJhclByb2pDaGlsZHJlbiIsImNoaWxkcmVuIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVQcm9qZWN0U2lkZSIsInNwbGljZSIsInJlbW92ZVByb2pBcnIiLCJjbGVhck1haW4iLCJpbmRleCIsIm1haW5TZWMiLCJhZGRQcm9qZWN0VG9TaWRlYmFyIiwicHJvalNpZGUiLCJwcm9qVGl0bGUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5UHJvamVjdEluTWFpbiIsInByb2plY3QiLCJwcm9qRGl2IiwidGFza1NlY1VMIiwicHJvakNoZWNrYm94IiwidHlwZSIsInByb2pOYW1lU3BhbiIsIm1haW5Nb2RQcm9qVGl0bGUiLCJzbGljZSIsImJ1dHRvbkNvbnQiLCJhZGREaXYiLCJlZGl0RGl2IiwicmVtb3ZlRGl2IiwiYWRkSWNvbiIsIkltYWdlIiwiZWRpdEljb24iLCJyZW1JY29uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmaXJzdENoaWxkIiwiYyIsIlByb2plY3QiLCJjb25zdHJ1Y3RvciIsImRlc2NyaXB0aW9uIiwidG9Eb3MiLCJfdGl0bGUiLCJfZGVzY3JpcHRpb24iLCJ0b0RvTGlzdCIsIl90b0RvcyIsIm5ld1RpdGxlIiwibmV3RGVzYyIsInByb2pPdmVybGF5IiwicHJvamVjdEZvcm1DbGVhciIsImdldEVsZW1lbnRCeUlkIiwibWVudUNvbnRhaW5lciIsIm1haW5Mb2dvQ29udCIsImNsb3NlQ29udGFpbmVyIiwiY3JlYXRlUHJvakNvbnQiLCJtZW51SWNvbiIsIm1haW5Mb2dvSW1nIiwiY2xvc2VJY29uIiwiY3JlYXRlUHJvakljb24iLCJzaWRlQmFyIiwidGFnTmFtZSIsIm1lbnVFdmVudExpc3RlbiIsImNsb3NlQnV0dG9uIiwic3VibWl0QnV0dG9uIiwicHJvamVjdFBhcmFtIiwidGl0bGVJbnB1dCIsImRlc2NJbnB1dCIsInByb2plY3RNYWRlIiwicHVzaCIsImVycm9yT3ZlcmxheSIsInNldFRpbWVvdXQiLCJkaXNwbGF5TmVlZFRpdGxlIiwiZXh0cmFjdERhdGFGb3JQcm9qZWN0IiwicHJvamVjdE92ZXJsYXlTdHVmZiJdLCJzb3VyY2VSb290IjoiIn0=