(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&!e;)e=o[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"abbfad808c2786a6a2d4.png",n=t.p+"986e98635b18601755cf.png",o=t.p+"177a54134d0bd5aefd06.png",i=t.p+"edb755c23d1ebcf9c7a4.png",c=t.p+"c9c7160b568bb10d504c.png";class s{constructor(t,e,n,o,i){this.tTitle=t,this.tDesc=e,this.tDue=n,this.tPrio=o,this.tProj=i}set tTitle(t){this._tTitle=t}set tDesc(t){this._tDesc=t}set tDue(t){this._tDue=t}set tPrio(t){this._tPrio=t}set tProj(t){this._tProj=t}get tTitle(){return this._tTitle}get tDesc(){return this._tDesc}get tDue(){return this._tDue}get tPrio(){return this._tPrio}get tProj(){return this._tProj}}class r{constructor(t,e){this.title=t,this.description=e,this.toDos=[]}newTask(t,e,n,o,i){let c=new s(t,e,n,o,i);return this._toDos.push(c),c}get numOfTasks(){return this._toDos.length}get title(){return this._title}get description(){return this._description}get toDoList(){return this._toDos}set title(t){this._title=t}set description(t){this._description=t}}const l=document.querySelector(".newProjectOverlay");function d(){const t=document.querySelector(".errorProjectOverlay");t.style.animation="projectSlideDown 1.5s forwards",setTimeout((function(){t.style.animation="projectSlideUp 1.5s forwards"}),2500)}function a(){document.getElementById("title").value="",document.getElementById("description").value=""}function u(t){const e=document.querySelector(".todoUL"),n=document.createElement("li");n.classList.add("todo");const o=document.createElement("input");o.type="checkbox",o.classList.add("todoCheck");const i=document.createElement("input");i.type="date",i.classList.add("todoDate"),n.appendChild(i),n.appendChild(o),n.textContent=t.tTitle+"  "+t.tDue,e.appendChild(n)}const p=E(".newTaskOverlay");function m(){document.getElementById("tTitle").value="",document.getElementById("tDescription").value="",document.getElementById("tDueDate").value="",document.getElementById("tTaskPrio").value="Select One"}const h=document.querySelector(".newProjectOverlay");var f=function(t){const e=t.target.matches(".projEdit"),n=t.target.matches(".projRemove"),o=t.target.matches(".projAdd"),i=E(".projectNameMain");if(e){console.log("editButton clicked"),c=i.textContent,h.style.animation="projectSlideDown 1.5s forwards",E("#title").value=c;for(let t=0;t<C.length;t++)console.log(t+1+" "+C[t].title)}else if(n){console.log("removeButton clicked"),function(t){const e=E(".sidebarProject"),n=e.children;for(let o=0;o<n.length;o++)n[o].textContent==t&&e.removeChild(n[o])}(i.textContent),function(t){for(let e=0;e<C.length;e++)C[e].title==t&&C.splice(e,1)}(i.textContent),w();for(let t=0;t<C.length;t++)console.log(t+1+" "+C[t].title)}else if(o){p.style.animation="projectSlideDown 1.5s forwards";const t=g(i);console.log("foundProjectInArr: "+t.title),function(t){const e=E(".taskCloseButton"),n=E(".taskSubmitButton");e.addEventListener("click",(function(){m(),p.style.animation="projectSlideUp 1.5s forwards"})),n.addEventListener("click",(function(){p.style.animation="projectSlideUp 1.5s forwards";const t=function(t){const e=document.getElementById("tTitle").value,n=document.getElementById("tDescription").value,o=document.getElementById("tDueDate").value,i=document.getElementById("tTaskPrio").value,c=E(".projectNameMain");if(e&&o){console.log("hereiam");const t=new s(e,n,o,i,c.textContent);return project.toDoList.push(t),m(),t}return d(),m(),void(p.style.animation="projectSlideDown 1.5s forwards")}();if(t){u(t);for(let t=0;t<currProj.toDoList.length;t++)console.log(t+1+" "+currProj.toDoList[t].title)}m()}))}()}var c};function g(t){let e=0;for(let n=0;n<C.length;n++)if(e=n,C[n].title==t)return C[n]}const y=E(".projectSection");function j(t){const e=E(".sidebarProject");let n=document.createElement("span");n.textContent=t,n.classList.add("projectNameSidebar"),e.appendChild(n)}function v(t){w();const e=document.createElement("div"),n=document.createElement("ul");n.classList.add("todoUL");const s=document.createElement("input");s.type="checkbox",s.classList.add("projectCheckbox");const r=document.createElement("span");if(t.title.length>30){let e=t.title.slice(0,31);r.textContent=e+"..."}else r.textContent=t.title;r.classList.add("projectNameMain");const l=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),p=document.createElement("div"),m=new Image;m.src=i,m.classList.add("projAdd");const h=new Image;h.src=c,h.classList.add("projEdit");const g=new Image;g.src=o,g.classList.add("projRemove"),d.appendChild(m),a.appendChild(h),p.appendChild(g),l.appendChild(d),l.appendChild(a),l.appendChild(p),l.classList.add("projectOptions"),e.appendChild(s),e.appendChild(r),e.appendChild(l),e.classList.add("project"),y.appendChild(e),y.appendChild(n),function(t){const e=0;for(;t.toDoList;)u(t.toDoList[e]),e++}(t),document.addEventListener("click",f),console.log("this console log is after the projectElisteners it looks like its working??")}function w(){for(document.removeEventListener("click",f);y.firstChild;)y.removeChild(y.firstChild)}let C=[];function E(t){return document.querySelector(t)}!function(){const t=document.querySelector(".menuContainer"),c=document.querySelector(".mainLogo"),s=document.querySelector(".menuClose"),r=document.querySelector(".createProj"),l=new Image;l.src=e,l.classList.add("main-menu-logo");const d=new Image;d.src=n,d.classList.add("main-logo");const a=new Image;a.src=o,a.classList.add("menuClose");const u=new Image;u.src=i,u.classList.add("addProjButton"),t.appendChild(l),c.appendChild(d),s.appendChild(a),r.appendChild(u);const p=document.querySelector(".sidebar-menu"),m=document.querySelector(".newProjectOverlay");t.addEventListener("click",(function(){p.style.animation="menuSlideOn 1.5s forwards"})),s.addEventListener("click",(function(){p.style.animation="menuSlideClose 1.5s forwards"})),r.addEventListener("click",(function(){p.style.animation="menuSlideClose 1.5s forwards",m.style.animation="projectSlideDown 1.5s forwards"})),p.addEventListener("click",(t=>{"SPAN"===t.target.tagName&&(console.log("the following is e.target.value"),console.log(t.target.textContent),v(g(t.target.textContent)))}))}(),function(){const t=document.querySelector(".closeButton"),e=document.querySelector(".submitButton");t.addEventListener("click",(function(){l.style.animation="projectSlideUp 1.5s forwards",a()})),e.addEventListener("click",(function(){l.style.animation="projectSlideUp 1.5s forwards";const t=function(){const t=document.getElementById("title").value;let e=document.getElementById("description").value;if(t){const n=new r(t,e);return C.push(n),n}return d(),a(),void(l.style.animation="projectSlideDown 1.5s forwards")}();if(t){j(t.title),v(t);for(let t=0;t<C.length;t++)console.log(t+1+" "+C[t].title)}a()}))}(),v({title:"defaultProject",description:"This is a default project. You can also create your own :)"}),j("defaultProject"),C[0]={title:"defaultProject",description:"This is a default project. You can also create your own :)"}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBRXJCLElBQUksSUFBSW5FLEVBQUksRUFBR0EsRUFBSUMsRUFBUTlFLE9BQVE2RSxJQUMvQkgsUUFBUUMsSUFBS0UsRUFBRSxFQUFJLElBQUtDLEVBQVFELEdBQUd0RCxNQUUzQyxDQUNBeUIsR0FDSixHQUNKLENNNUJBcUcsR0FDQXRDLEVBQXFCLENBQUN4RixNQUFPLGlCQUFrQkMsWUFBYSwrREFDNURvRixFQUFvQixrQkFDcEI5QixFQUFRLEdBQUssQ0FBQ3ZELE1BQU8saUJBQWtCQyxZQUFhLDZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvdGFza0NsYXNzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0Q2xhc3MuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RGb3JtLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy90YXNrRE9NLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy90YXNrRm9ybS5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEV2ZW50TGlzdGVuZXJzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0RE9NLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9tZW51RXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImV4cG9ydCBjbGFzcyBUYXNre1xuICAgIGNvbnN0cnVjdG9yKHRUaXRsZSwgdERlc2MsIHREdWUsIHRQcmlvLCB0UHJvail7XG4gICAgICAgIHRoaXMudFRpdGxlID0gdFRpdGxlO1xuICAgICAgICB0aGlzLnREZXNjID0gdERlc2M7XG4gICAgICAgIHRoaXMudER1ZSA9IHREdWU7XG4gICAgICAgIHRoaXMudFByaW8gPSB0UHJpbztcbiAgICAgICAgdGhpcy50UHJvaiA9IHRQcm9qO1xuICAgIH1cbiAgICBzZXQgdFRpdGxlKG5ld3RUaXRsZSl7XG4gICAgICAgIHRoaXMuX3RUaXRsZSA9IG5ld3RUaXRsZTtcbiAgICB9XG4gICAgc2V0IHREZXNjKG5ld3REZXNjKXtcbiAgICAgICAgdGhpcy5fdERlc2MgPSBuZXd0RGVzYztcbiAgICB9XG4gICAgc2V0IHREdWUobmV3dER1ZSl7XG4gICAgICAgIHRoaXMuX3REdWUgPSBuZXd0RHVlO1xuICAgIH1cbiAgICBzZXQgdFByaW8obmV3dFByaW8pe1xuICAgICAgICB0aGlzLl90UHJpbyA9IG5ld3RQcmlvO1xuICAgIH1cbiAgICBzZXQgdFByb2oobmV3dFByb2ope1xuICAgICAgICB0aGlzLl90UHJvaiA9IG5ld3RQcm9qO1xuICAgIH1cblxuICAgIGdldCB0VGl0bGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RUaXRsZTtcbiAgICB9XG4gICAgZ2V0IHREZXNjKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90RGVzYztcbiAgICB9XG4gICAgZ2V0IHREdWUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3REdWU7XG4gICAgfVxuICAgIGdldCB0UHJpbygpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdFByaW87XG4gICAgfVxuICAgIGdldCB0UHJvaigpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdFByb2o7XG4gICAgfVxufSIsImltcG9ydCB7IFRhc2sgfSBmcm9tIFwiLi90YXNrQ2xhc3NcIjtcblxuZXhwb3J0IGNsYXNzIFByb2plY3R7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uKXtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMudG9Eb3MgPSBbXTtcbiAgICB9XG4gICAgbmV3VGFzayhUdGl0bGUsIFRkZXNjLCBUZHVlLCBUcHJpbywgVHByb2ope1xuICAgICAgICBsZXQgdCA9IG5ldyBUYXNrKFR0aXRsZSwgVGRlc2MsIFRkdWUsIFRwcmlvLCBUcHJvaik7XG4gICAgICAgIHRoaXMuX3RvRG9zLnB1c2godCk7Ly9wbGFjZWQgdW5kZXJzY29yZVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG5cbiAgICBnZXQgbnVtT2ZUYXNrcygpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9Eb3MubGVuZ3RoOy8vcGxhY2VkIHVuZGVyc2NvcmVcbiAgICB9XG5cbiAgICBnZXQgdGl0bGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH1cbiAgICBnZXQgZGVzY3JpcHRpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBnZXQgdG9Eb0xpc3QoKXsvL2dldCBhcnJheSB0aGVuIHB1c2ggYSB0b0RvXG4gICAgICAgIHJldHVybiB0aGlzLl90b0RvcztcbiAgICB9XG5cbiAgICBzZXQgdGl0bGUobmV3VGl0bGUpe1xuICAgICAgICB0aGlzLl90aXRsZSA9IG5ld1RpdGxlO1xuICAgIH1cbiAgICBzZXQgZGVzY3JpcHRpb24obmV3RGVzYyl7XG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gbmV3RGVzYztcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG5pbXBvcnQgeyBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0VG9TaWRlYmFyIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgZGlzcGxheVByb2plY3RJbk1haW4gfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG4vL2ltcG9ydCB7IHByb2plY3RFTGlzdGVuZXJzIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBfdGVzdGVyaW5nIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG5cbmNvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RPdmVybGF5U3R1ZmYoKXtcbiAgICAvL2NvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuICAgIC8vYnV0dG9uc1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZUJ1dHRvblwiKTtcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdEJ1dHRvblwiKTtcblxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHMnO1xuICAgICAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgfSlcbiAgICBzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwic3VibWl0IGJ1dHRvbiBjbGlja2VkXCIpO1xuICAgICAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSAncHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIGNvbnN0IHByb2plY3RQYXJhbSA9IGV4dHJhY3REYXRhRm9yUHJvamVjdCgpO1xuICAgICAgICAvL2NyZWF0ZVByb2plY3RET00ocHJvamVjdFBhcmFtKTsvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgaWYocHJvamVjdFBhcmFtKXtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJwcm9qZWN0IG9iaiByZXR1cm5lZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RQYXJhbS50aXRsZSkvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgICAgIGRpc3BsYXlQcm9qZWN0SW5NYWluKHByb2plY3RQYXJhbSk7XG4gICAgICAgICAgICAvL3Byb2plY3RFTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBmb3IobGV0IGEgPSAwOyBhIDwgcHJvakFyci5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coKGErMSkrIFwiIFwiKyBwcm9qQXJyW2FdLnRpdGxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBleHRyYWN0RGF0YUZvclByb2plY3QoKXtcbiAgICBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS52YWx1ZVxuICAgIGxldCBkZXNjSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xuXG4gICAgaWYodGl0bGVJbnB1dCl7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJkZXRlY3RlZCB0aXRsZVwiKTsvL2RlYnVnZ2luZ1xuICAgICAgICBjb25zdCBwcm9qZWN0TWFkZSA9IG5ldyBQcm9qZWN0KHRpdGxlSW5wdXQsIGRlc2NJbnB1dCk7XG4gICAgICAgIHByb2pBcnIucHVzaChwcm9qZWN0TWFkZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2cocHJvakFyclsocHJvakFyci5sZW5ndGgpLTFdLnRpdGxlKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwcm9qQXJyWyhwcm9qQXJyLmxlbmd0aCktMV0uZGVzY3JpcHRpb24pO1xuICAgICAgICByZXR1cm4gcHJvamVjdE1hZGU7XG4gICAgfWVsc2V7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJOZWVkIGEgdGl0bGUgdG8gY3JlYXRlIGEgcHJvamVjdCFcIik7Ly9kZWJ1Z2dpbmdcbiAgICAgICAgZGlzcGxheU5lZWRUaXRsZSgpOy8vIENBTiBJTlNFUlQgRE9NIE1BTklQVUxBVElPTiBUTyBTSElGVCBET1dOIFRIRSBFUlJPUiBPVkVSTEFZIDopXG4gICAgICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlOZWVkVGl0bGUoKXtcbiAgICBjb25zdCBlcnJvck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yUHJvamVjdE92ZXJsYXlcIik7XG4gICAgZXJyb3JPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlRG93biAxLjVzIGZvcndhcmRzXCJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGVycm9yT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHNcIlxuICAgIH0sIDI1MDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdEZvcm1DbGVhcigpe1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIikudmFsdWUgPSBcIlwiO1xufSIsImV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5VGFza0luTWFpbih0YXNrKXsvLyhwcm9qZWN0LCB1bCkgbWlnaHQgYmUgbmVlZGVkIGFzIHBhcmFtcyBidXQgcHJvYnMgbm90XG4gICAgY29uc3QgcHJvalVMID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvVUxcIik7XG5cbiAgICBjb25zdCB0YXNrTEkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIHRhc2tMSS5jbGFzc0xpc3QuYWRkKFwidG9kb1wiKTtcblxuICAgIGNvbnN0IHRhc2tDaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgdGFza0NoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgdGFza0NoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJ0b2RvQ2hlY2tcIik7XG5cbiAgICBjb25zdCB0YXNrRGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0YXNrRGF0ZUlucHV0LnR5cGUgPSBcImRhdGVcIjtcbiAgICB0YXNrRGF0ZUlucHV0LmNsYXNzTGlzdC5hZGQoXCJ0b2RvRGF0ZVwiKTtcblxuICAgIHRhc2tMSS5hcHBlbmRDaGlsZCh0YXNrRGF0ZUlucHV0KTtcbiAgICB0YXNrTEkuYXBwZW5kQ2hpbGQodGFza0NoZWNrYm94KTtcblxuICAgIHRhc2tMSS50ZXh0Q29udGVudCA9IHRhc2sudFRpdGxlICsgXCIgIFwiICsgdGFzay50RHVlO1xuXG4gICAgcHJvalVMLmFwcGVuZENoaWxkKHRhc2tMSSk7XG59IiwiaW1wb3J0IHsgZHFzIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBmaW5kUHJvamVjdEluQXJyIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBkaXNwbGF5TmVlZFRpdGxlIH0gZnJvbSBcIi4vcHJvamVjdEZvcm1cIjtcbmltcG9ydCB7IFRhc2sgfSBmcm9tIFwiLi90YXNrQ2xhc3NcIjtcbmltcG9ydCB7IGRpc3BsYXlUYXNrSW5NYWluIH0gZnJvbSBcIi4vdGFza0RPTVwiO1xuXG5leHBvcnQgY29uc3QgdGFza092ZXJsYXkgPSBkcXMoXCIubmV3VGFza092ZXJsYXlcIik7XG4vL2NvbnN0IGN1cnJQcm9qID0ge307Ly9NSUdIVCBCRSBPSyBUTyBQTEFDRSBXSVRISU4gZXh0cmFjdERhdGFGb3JUYXNrIGZ1bmNcblxuZXhwb3J0IGZ1bmN0aW9uIHRhc2tPdmVybGF5TGlzdGVuZXJzKHByb2plY3RQYXJhbTEyMyl7XG4gICAgY29uc3QgdGFza0Nsb3NlID0gZHFzKFwiLnRhc2tDbG9zZUJ1dHRvblwiKTtcbiAgICBjb25zdCB0YXNrU3VibWl0ID0gZHFzKFwiLnRhc2tTdWJtaXRCdXR0b25cIik7XG5cbiAgICB0YXNrQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICB0YXNrRm9ybUNsZWFyKCk7XG4gICAgICAgIHRhc2tPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkc1wiXG4gICAgfSk7XG4gICAgdGFza1N1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHRhc2tPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkc1wiXG4gICAgICAgIGNvbnN0IG1hZGVUYXNrID0gZXh0cmFjdERhdGFGb3JUYXNrKHByb2plY3RQYXJhbTEyMyk7XG4gICAgICAgIGlmKG1hZGVUYXNrKXtcbiAgICAgICAgICAgIGRpc3BsYXlUYXNrSW5NYWluKG1hZGVUYXNrKTsvL2N1cnJlbnQgcHJvamVjdCBpcyBhbHJlYWR5IGRldGVjdGVkIGluIGV4dHJhY3REYXRhRm9yVGFzayBmdW5jLi5tYXkgbm90IG5lZWQgcHJvaiBhbmQgdWwgYXMgcGFyYW1zXG4gICAgICAgICAgICBmb3IobGV0IGEgPSAwOyBhIDwgY3VyclByb2oudG9Eb0xpc3QubGVuZ3RoOyBhKyspe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKChhKzEpKyBcIiBcIisgY3VyclByb2oudG9Eb0xpc3RbYV0udGl0bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRhc2tGb3JtQ2xlYXIoKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3REYXRhRm9yVGFzayhwcm9qZWN0MTIzNCl7XG4gICAgY29uc3QgdGFza1RpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0VGl0bGVcIikudmFsdWU7XG4gICAgY29uc3QgdGFza0Rlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInREZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidER1ZURhdGVcIikudmFsdWU7XG4gICAgY29uc3QgdGFza1ByaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRUYXNrUHJpb1wiKS52YWx1ZTtcbiAgICBjb25zdCB0YXNrUHJvaiA9IGRxcyhcIi5wcm9qZWN0TmFtZU1haW5cIik7Ly9TSE9VTEQgTk9UIEJFIE5FRURFRCBHSVZFTiBQQVJBTVxuXG4gICAgaWYodGFza1RpdGxlICYmIHRhc2tEdWVEYXRlKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJoZXJlaWFtXCIpO1xuICAgICAgICBjb25zdCB0YXNrTWFkZSA9IG5ldyBUYXNrKHRhc2tUaXRsZSwgdGFza0Rlc2MsIHRhc2tEdWVEYXRlLCB0YXNrUHJpbywgdGFza1Byb2oudGV4dENvbnRlbnQpOy8vdGFza1Byb2ogYXMgbGFzdCBwYXJhbVxuICAgICAgICAvL2NvbnN0IGN1cnJQcm9qID0gZmluZFByb2plY3RJbkFycih0YXNrUHJvaik7XG4gICAgICAgIHByb2plY3QudG9Eb0xpc3QucHVzaCh0YXNrTWFkZSk7Ly9jdXJyUHJvai50b0RvTGlzdC5wdXNoKHRhc2tNYWRlKTsgRVJST1IgSVMgSEFQUEVOSU5HIEhFUkUgTkVFRCBUTyBGSU5EIEEgV0FZIFRPIEFDQ0VTIFRIRSBBUlJBWSBBTkQgUFVTSCBJTlRPIElUXG4gICAgICAgIHRhc2tGb3JtQ2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHRhc2tNYWRlO1xuICAgIH1lbHNle1xuICAgICAgICBkaXNwbGF5TmVlZFRpdGxlKCk7XG4gICAgICAgIHRhc2tGb3JtQ2xlYXIoKTtcbiAgICAgICAgdGFza092ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRhc2tGb3JtQ2xlYXIoKXtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRUaXRsZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0RGVzY3JpcHRpb25cIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidER1ZURhdGVcIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidFRhc2tQcmlvXCIpLnZhbHVlID0gXCJTZWxlY3QgT25lXCI7XG59IiwiaW1wb3J0IHsgZHFzIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBjbGVhck1haW4gfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG5pbXBvcnQgeyB0YXNrT3ZlcmxheSwgdGFza092ZXJsYXlMaXN0ZW5lcnMgfSBmcm9tIFwiLi90YXNrRm9ybVwiO1xuLy9pbXBvcnQgeyBwcm9qT3ZlcmxheSB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuXG4vL2NvbnN0IHByb2pUYXNrQWRkID0gZHFzKFwiLnByb2pBZGRcIik7XG4vL2NvbnN0IHByb2pSZW1CdXR0b24gPSBkcXMoXCIucHJvalJlbW92ZVwiKTtcbmNvbnN0IHByb2pPdmVybGF5MSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0RUxpc3RlbmVycygpe1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3Rlc3RlcmluZylcbn07XG5cbmV4cG9ydCB2YXIgX3Rlc3RlcmluZyA9IGZ1bmN0aW9uKGUpe1xuICAgIC8vZ28gdGhyb3VoZyBhcnJheSBjb21wYXJpbmcgdGl0bGVcbiAgICAgICAgLy93aGVuIGZvdW5kIGZpbGwgcHJvamVjdEZvcm0gYW5kIGRyb3AgZm9ybSBkb3duIGZvciB1c2VyXG4gICAgICAgIC8vaWYgc3VibWl0IHRoZW4gcmVwbGFjZSBpbmZvIHdpdGggbmV3IGluZm9cbiAgICAgICAgLy9lbHNlIGlmIGNhbmNlbCB0aGVuIGxlYXZlIHByb2plY3QgYXMgaXQgd2FzXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJpbiBwcm9qRWRpdEJ1dHRvbiBldmVudExpc3RlbmVyXCIpO1xuICAgICAgICBjb25zdCBlZGl0QnV0dG9uID0gZS50YXJnZXQubWF0Y2hlcyhcIi5wcm9qRWRpdFwiKTtcbiAgICAgICAgY29uc3QgcmVtb3ZlQnV0dG9uID0gZS50YXJnZXQubWF0Y2hlcyhcIi5wcm9qUmVtb3ZlXCIpO1xuICAgICAgICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZS50YXJnZXQubWF0Y2hlcyhcIi5wcm9qQWRkXCIpO1xuICAgICAgICBjb25zdCBjdXJyVGl0bGUgPSBkcXMoXCIucHJvamVjdE5hbWVNYWluXCIpO1xuICAgICAgICBpZihlZGl0QnV0dG9uKXsvL3RoaXMgd2lsbCBiZSBkb25lIG9uY2UgJ3JlbW92ZScgaXMgY29tcGxldGVkXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImVkaXRCdXR0b24gY2xpY2tlZFwiKTtcbiAgICAgICAgICAgIGVkaXRGb3JtKGN1cnJUaXRsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAvL2NvbnN0IGZvdW5kUHJvaiA9IGZpbmRQcm9qZWN0SW5BcnIoY3VyclRpdGxlKTsvL3RoaXMgd2lsbCBiZSBsZWZ0IHRpbGwgdGhlIGVuZFxuICAgICAgICAgICAgZm9yKGxldCBhID0gMDsgYSA8IHByb2pBcnIubGVuZ3RoOyBhKyspe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKChhKzEpKyBcIiBcIisgcHJvakFyclthXS50aXRsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2UgaWYocmVtb3ZlQnV0dG9uKXtcbiAgICAgICAgICAgIC8vY29uc3QgY3VyclRpdGxlID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZlQnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICAgICAgICByZW1vdmVQcm9qZWN0U2lkZShjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgcmVtb3ZlUHJvakFycihjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY2xlYXJNYWluKCk7XG4gICAgICAgICAgICAvL2NvbnN0IHNpZGVCYXIgPSBkcXMoXCIuc2lkZWJhci1tZW51XCIpO1xuICAgICAgICAgICAgLy9zaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVPbiAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgICAgIGZvcihsZXQgYSA9IDA7IGEgPCBwcm9qQXJyLmxlbmd0aDsgYSsrKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygoYSsxKSsgXCIgXCIrIHByb2pBcnJbYV0udGl0bGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihhZGRUYXNrQnV0dG9uKXtcbiAgICAgICAgICAgIHRhc2tPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlRG93biAxLjVzIGZvcndhcmRzXCI7XG4gICAgICAgICAgICBjb25zdCBmb3VuZFByb2ogPSBmaW5kUHJvamVjdEluQXJyKGN1cnJUaXRsZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImZvdW5kUHJvamVjdEluQXJyOiBcIiArIGZvdW5kUHJvai50aXRsZSk7XG4gICAgICAgICAgICB0YXNrT3ZlcmxheUxpc3RlbmVycyhmb3VuZFByb2opOy8vYWRkIHByb2ogYXMgcGFyYW0gaGVyZSEhISBmaW5kIHByb2ogb24gbGluZSBiZWZvcmUgdGhpc1xuICAgICAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByb2plY3RTaWRlKHByb2pOYW1lKXtcbiAgICBjb25zdCBzaWRlYmFyUHJvaiA9IGRxcyhcIi5zaWRlYmFyUHJvamVjdFwiKTtcbiAgICBjb25zdCBzaWRlYmFyUHJvakNoaWxkcmVuID0gc2lkZWJhclByb2ouY2hpbGRyZW47XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHNpZGViYXJQcm9qQ2hpbGRyZW4ubGVuZ3RoOyBpKyspe1xuICAgICAgICBpZihzaWRlYmFyUHJvakNoaWxkcmVuW2ldLnRleHRDb250ZW50ID09IHByb2pOYW1lKXtcbiAgICAgICAgICAgIHNpZGViYXJQcm9qLnJlbW92ZUNoaWxkKHNpZGViYXJQcm9qQ2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVQcm9qQXJyKHByb2pOYW1lKXtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvakFyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKHByb2pBcnJbaV0udGl0bGUgPT0gcHJvak5hbWUpe1xuICAgICAgICAgICAgcHJvakFyci5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGVkaXRGb3JtKHByb2plY3RUaXRsZSl7XG4gICAgcHJvak92ZXJsYXkxLnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHMnO1xuICAgIGNvbnN0IHRpdGxlSW4gPSBkcXMoXCIjdGl0bGVcIik7XG4gICAgdGl0bGVJbi52YWx1ZSA9IHByb2plY3RUaXRsZTtcblxuICAgIC8vYWRkIGV2ZW50TGlzdGVuZXIgZm9yIHN1Ym1pdCBhbmQgY2FuY2VsIGJ1dHRvbnMgb24gcHJvamVjdCBmb3JtXG4gICAgLy9ob3BlZnVsbHkgdGhleSB3aWxsIGRvIHNvbWV0aGluZyBkaWZmZXJlbnQ/Pz9cbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kUHJvamVjdEluQXJyKHRpdGxlKXsvL01JR0hUIE5PVCBORUVEIFRISVMgTUlHSFQgTk9UIE5FRUQgVEhJUyBNSUdIVCBOT1QgTkVFRCBUSElTXG4gICAgLy9jb25zb2xlLmxvZyhcImxvb2tpbmcgZm9yIHByb2plY3QgaW4gYXJyXCIpXG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvakFyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgaWYocHJvakFycltpXS50aXRsZSA9PSB0aXRsZSl7XG4gICAgICAgICAgICByZXR1cm4gcHJvakFycltpXTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgUmVtb3ZlIGZyb20gJy4uL3NyYy9pbWdzL2Nsb3NlLnBuZyc7XG5pbXBvcnQgQ3JlYXRlIGZyb20gJy4uL3NyYy9pbWdzL2FkZC5wbmcnO1xuaW1wb3J0IEVkaXQgZnJvbSAnLi4vc3JjL2ltZ3MvZWRpdC5wbmcnO1xuaW1wb3J0IHsgZHFzIH0gZnJvbSAnLi9tZW51RXZlbnRMaXN0ZW5lcnMnO1xuaW1wb3J0IHsgcHJvamVjdEVMaXN0ZW5lcnMgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG5pbXBvcnQgeyBfdGVzdGVyaW5nIH0gZnJvbSAnLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnMnO1xuaW1wb3J0IHsgZGlzcGxheVRhc2tJbk1haW4gfSBmcm9tICcuL3Rhc2tET00nO1xuXG5jb25zdCBtYWluU2VjID0gZHFzKFwiLnByb2plY3RTZWN0aW9uXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkUHJvamVjdFRvU2lkZWJhcihwcm9qZWN0VGl0bGUpe1xuICAgIGNvbnN0IHByb2pTaWRlID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGxldCBwcm9qVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgcHJvalRpdGxlLnRleHRDb250ZW50ID0gcHJvamVjdFRpdGxlO1xuICAgIHByb2pUaXRsZS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0TmFtZVNpZGViYXInKTtcbiAgICBwcm9qU2lkZS5hcHBlbmRDaGlsZChwcm9qVGl0bGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVByb2plY3RJbk1haW4ocHJvamVjdCl7XG4gICAgY2xlYXJNYWluKCk7XG4gICAgY29uc3QgcHJvakRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgdGFza1NlY1VMID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICB0YXNrU2VjVUwuY2xhc3NMaXN0LmFkZChcInRvZG9VTFwiKVxuICAgIFxuICAgIGNvbnN0IHByb2pDaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgcHJvakNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgcHJvakNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0Q2hlY2tib3hcIik7XG5cbiAgICBcbiAgICBjb25zdCBwcm9qTmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgaWYocHJvamVjdC50aXRsZS5sZW5ndGggPiAzMCl7XG4gICAgICAgIGxldCBtYWluTW9kUHJvalRpdGxlID0gcHJvamVjdC50aXRsZS5zbGljZSgwLDMxKTtcbiAgICAgICAgcHJvak5hbWVTcGFuLnRleHRDb250ZW50ID0gbWFpbk1vZFByb2pUaXRsZSArIFwiLi4uXCI7XG4gICAgfWVsc2V7XG4gICAgICAgIHByb2pOYW1lU3Bhbi50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG4gICAgfVxuICAgIHByb2pOYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdE5hbWVNYWluXCIpO1xuXG4gICAgXG4gICAgY29uc3QgYnV0dG9uQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIFxuICAgIGNvbnN0IGFkZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGVkaXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCByZW1vdmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGNvbnN0IGFkZEljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBhZGRJY29uLnNyYyA9IENyZWF0ZTtcbiAgICBhZGRJY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2pBZGQnKTtcblxuICAgIGNvbnN0IGVkaXRJY29uID0gbmV3IEltYWdlKCk7XG4gICAgZWRpdEljb24uc3JjID0gRWRpdDtcbiAgICBlZGl0SWNvbi5jbGFzc0xpc3QuYWRkKCdwcm9qRWRpdCcpO1xuXG4gICAgY29uc3QgcmVtSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIHJlbUljb24uc3JjID0gUmVtb3ZlO1xuICAgIHJlbUljb24uY2xhc3NMaXN0LmFkZCgncHJvalJlbW92ZScpO1xuXG4gICAgYWRkRGl2LmFwcGVuZENoaWxkKGFkZEljb24pO1xuICAgIGVkaXREaXYuYXBwZW5kQ2hpbGQoZWRpdEljb24pO1xuICAgIHJlbW92ZURpdi5hcHBlbmRDaGlsZChyZW1JY29uKTtcbiAgICBcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKGFkZERpdik7XG4gICAgYnV0dG9uQ29udC5hcHBlbmRDaGlsZChlZGl0RGl2KTtcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKHJlbW92ZURpdik7XG4gICAgYnV0dG9uQ29udC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdE9wdGlvbnNcIik7XG5cbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKHByb2pDaGVja2JveCk7XG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChwcm9qTmFtZVNwYW4pO1xuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQoYnV0dG9uQ29udCk7XG4gICAgcHJvakRpdi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFwiKTtcblxuICAgIG1haW5TZWMuYXBwZW5kQ2hpbGQocHJvakRpdik7XG4gICAgbWFpblNlYy5hcHBlbmRDaGlsZCh0YXNrU2VjVUwpO1xuICAgIFxuICAgIC8vY2hlY2sgZm9yIHRhc2tzIHdpdGggYSBsb29wIGFuZCBkaXNwbGF5IGVhY2hcbiAgICBjaGVja0ZvclRhc2tzKHByb2plY3QpO1xuXG4gICAgLy9jYWxsIGV2ZW50TGlzdGVuZXIgaGVyZVxuICAgIHByb2plY3RFTGlzdGVuZXJzKCk7Ly9XSUxMIEhBVkUgVE8gQUREIEVWRU5UIExJU1RFTkVSUyBGT1IgVEFTS1MgSEVSRT8/P1xuICAgIGNvbnNvbGUubG9nKFwidGhpcyBjb25zb2xlIGxvZyBpcyBhZnRlciB0aGUgcHJvamVjdEVsaXN0ZW5lcnMgaXQgbG9va3MgbGlrZSBpdHMgd29ya2luZz8/XCIpO1xufVxuXG5mdW5jdGlvbiBjaGVja0ZvclRhc2tzKHByb2ope1xuICAgIC8vZ2l2ZW4gcHJvaiBhcyBwYXJhbSB3ZSB3aWxsIGNoZWNrIGlmIGl0IGNvbnRhaW5zIGFueSB0YXNrcyB0aGF0IG5lZWQgdG8gYmUgY3JlYXRlZFxuICAgIGNvbnN0IGkgPSAwO1xuICAgIHdoaWxlKHByb2oudG9Eb0xpc3Qpe1xuICAgICAgICBkaXNwbGF5VGFza0luTWFpbihwcm9qLnRvRG9MaXN0W2ldKTtcbiAgICAgICAgaSsrO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTWFpbigpe1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3Rlc3RlcmluZyk7XG4gICAgd2hpbGUobWFpblNlYy5maXJzdENoaWxkKXtcbiAgICAgICAgbWFpblNlYy5yZW1vdmVDaGlsZChtYWluU2VjLmZpcnN0Q2hpbGQpXG4gICAgfVxufSIsImltcG9ydCBNZW51IGZyb20gJy4uL3NyYy9pbWdzL21lbnUucG5nJ1xuaW1wb3J0IEJyYW5kIGZyb20gJy4uL3NyYy9pbWdzL1dvcmtlckFudHNNb2QucG5nJztcbmltcG9ydCBDbG9zZSBmcm9tICcuLi9zcmMvaW1ncy9jbG9zZS5wbmcnO1xuaW1wb3J0IENyZWF0ZSBmcm9tICcuLi9zcmMvaW1ncy9hZGQucG5nJztcbmltcG9ydCB7IGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSAnLi9wcm9qZWN0RE9NJztcbmltcG9ydCB7IGZpbmRQcm9qZWN0SW5BcnIgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG4vL0kgTkVFRCBUTyBBREQgQSBHTE9CQUwgVkFSSUFCTEUgQVJSQVkgVEhBVCBTVE9SRVMgQUxMIFRIRSBQUk9KRUNUUyBIRVJFXG5leHBvcnQgbGV0IHByb2pBcnIgPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRxcyhjKXtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lbnVFdmVudExpc3Rlbigpe1xuICAgIGNvbnN0IG1lbnVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVDb250YWluZXJcIik7XG4gICAgY29uc3QgbWFpbkxvZ29Db250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluTG9nb1wiKTtcbiAgICBjb25zdCBjbG9zZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudUNsb3NlXCIpO1xuICAgIGNvbnN0IGNyZWF0ZVByb2pDb250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jcmVhdGVQcm9qXCIpO1xuICAgIFxuICAgIGNvbnN0IG1lbnVJY29uID0gbmV3IEltYWdlKCk7XG4gICAgbWVudUljb24uc3JjID0gTWVudTtcbiAgICBtZW51SWNvbi5jbGFzc0xpc3QuYWRkKCdtYWluLW1lbnUtbG9nbycpO1xuXG4gICAgY29uc3QgbWFpbkxvZ29JbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBtYWluTG9nb0ltZy5zcmMgPSBCcmFuZDtcbiAgICBtYWluTG9nb0ltZy5jbGFzc0xpc3QuYWRkKCdtYWluLWxvZ28nKTtcblxuICAgIGNvbnN0IGNsb3NlSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGNsb3NlSWNvbi5zcmMgPSBDbG9zZTtcbiAgICBjbG9zZUljb24uY2xhc3NMaXN0LmFkZCgnbWVudUNsb3NlJyk7XG5cbiAgICBjb25zdCBjcmVhdGVQcm9qSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGNyZWF0ZVByb2pJY29uLnNyYyA9IENyZWF0ZTtcbiAgICBjcmVhdGVQcm9qSWNvbi5jbGFzc0xpc3QuYWRkKCdhZGRQcm9qQnV0dG9uJyk7XG5cbiAgICBtZW51Q29udGFpbmVyLmFwcGVuZENoaWxkKG1lbnVJY29uKTtcbiAgICBtYWluTG9nb0NvbnQuYXBwZW5kQ2hpbGQobWFpbkxvZ29JbWcpO1xuICAgIGNsb3NlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNsb3NlSWNvbik7XG4gICAgY3JlYXRlUHJvakNvbnQuYXBwZW5kQ2hpbGQoY3JlYXRlUHJvakljb24pO1xuXG4gICAgY29uc3Qgc2lkZUJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhci1tZW51XCIpO1xuICAgIGNvbnN0IHByb2pPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuICAgIG1lbnVDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVPbiAxLjVzIGZvcndhcmRzJztcbiAgICB9KTtcbiAgICBjbG9zZUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNpZGVCYXIuc3R5bGUuYW5pbWF0aW9uID0gJ21lbnVTbGlkZUNsb3NlIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIGNyZWF0ZVByb2pDb250LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImNyZWF0ZSBwcm9qZWN0IGJ1dHRvbiBjbGlja2VkISFcIik7XG4gICAgICAgIHNpZGVCYXIuc3R5bGUuYW5pbWF0aW9uID0gJ21lbnVTbGlkZUNsb3NlIDEuNXMgZm9yd2FyZHMnO1xuICAgICAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSAncHJvamVjdFNsaWRlRG93biAxLjVzIGZvcndhcmRzJztcbiAgICB9KTtcbiAgICBzaWRlQmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYoZS50YXJnZXQudGFnTmFtZSA9PT0gJ1NQQU4nKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGhlIGZvbGxvd2luZyBpcyBlLnRhcmdldC52YWx1ZVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0LnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3BQcm9qID0gZmluZFByb2plY3RJbkFycihlLnRhcmdldC50ZXh0Q29udGVudClcbiAgICAgICAgICAgIGRpc3BsYXlQcm9qZWN0SW5NYWluKGRpc3BQcm9qKTtcbiAgICAgICAgICAgIC8vZGlzcGxheVRhc2tJbk1haW4oZGlzcFByb2opOy8vVEhJUyBNSUdIVCBIQVZFIFRPIEJFIENBTExFRCBXSVRISU4gRElTUExBWVBST0pFQ1RJTk1BSU4gV0lUSCBUSEUgUFJPSkVDVCBBTkQgVUwgUEFSQU1FVEVSU1xuICAgICAgICB9XG4gICAgfSk7XG59IiwiaW1wb3J0IHsgbWVudUV2ZW50TGlzdGVuLCBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0VG9TaWRlYmFyLCBkaXNwbGF5UHJvamVjdEluTWFpbiB9IGZyb20gXCIuL3Byb2plY3RET01cIjtcbmltcG9ydCB7IHByb2plY3RPdmVybGF5U3R1ZmYgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xuaW1wb3J0IHsgdGFza092ZXJsYXlMaXN0ZW5lcnMgfSBmcm9tIFwiLi90YXNrRm9ybVwiO1xuLy9pbXBvcnQgeyBwcm9qZWN0RUxpc3RlbmVycyB9IGZyb20gXCIuL3Byb2plY3RFdmVudExpc3RlbmVyc1wiO1xuLy8gaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RDbGFzc1wiO1xuLy8gaW1wb3J0IHsgY3JlYXRlUHJvamVjdEZyb21EYXRhIH0gZnJvbSBcIi4vcHJvamVjdEZvcm1cIjtcbm1lbnVFdmVudExpc3RlbigpO1xucHJvamVjdE92ZXJsYXlTdHVmZigpO1xuZGlzcGxheVByb2plY3RJbk1haW4oe3RpdGxlOiBcImRlZmF1bHRQcm9qZWN0XCIsIGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBkZWZhdWx0IHByb2plY3QuIFlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gOilcIn0pO1xuYWRkUHJvamVjdFRvU2lkZWJhcihcImRlZmF1bHRQcm9qZWN0XCIpO1xucHJvakFyclswXSA9IHt0aXRsZTogXCJkZWZhdWx0UHJvamVjdFwiLCBkZXNjcmlwdGlvbjogXCJUaGlzIGlzIGEgZGVmYXVsdCBwcm9qZWN0LiBZb3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIDopXCJ9O1xuLy90YXNrT3ZlcmxheUxpc3RlbmVycygpO1xuLy9wcm9qZWN0RUxpc3RlbmVycygpO1xuLy8gbGV0IHByb2oxID0gbmV3IFByb2plY3QoXCJjYXJsb3NCcnVoXCIsIFwiYXBpdWZcIik7XG4vLyBjb25zb2xlLmxvZyhwcm9qMS5uYW1lKTtcbi8vIGNvbnNvbGUubG9nKHByb2oxLmRlc2NyaXB0aW9uKTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImkiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiVGFzayIsImNvbnN0cnVjdG9yIiwidFRpdGxlIiwidERlc2MiLCJ0RHVlIiwidFByaW8iLCJ0UHJvaiIsIm5ld3RUaXRsZSIsIl90VGl0bGUiLCJuZXd0RGVzYyIsIl90RGVzYyIsIm5ld3REdWUiLCJfdER1ZSIsIm5ld3RQcmlvIiwiX3RQcmlvIiwibmV3dFByb2oiLCJfdFByb2oiLCJQcm9qZWN0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInRvRG9zIiwibmV3VGFzayIsIlR0aXRsZSIsIlRkZXNjIiwiVGR1ZSIsIlRwcmlvIiwiVHByb2oiLCJ0IiwiX3RvRG9zIiwicHVzaCIsIm51bU9mVGFza3MiLCJfdGl0bGUiLCJfZGVzY3JpcHRpb24iLCJ0b0RvTGlzdCIsIm5ld1RpdGxlIiwibmV3RGVzYyIsInByb2pPdmVybGF5IiwicXVlcnlTZWxlY3RvciIsImRpc3BsYXlOZWVkVGl0bGUiLCJlcnJvck92ZXJsYXkiLCJzdHlsZSIsImFuaW1hdGlvbiIsInNldFRpbWVvdXQiLCJwcm9qZWN0Rm9ybUNsZWFyIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsImRpc3BsYXlUYXNrSW5NYWluIiwidGFzayIsInByb2pVTCIsInRhc2tMSSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0YXNrQ2hlY2tib3giLCJ0eXBlIiwidGFza0RhdGVJbnB1dCIsImFwcGVuZENoaWxkIiwidGV4dENvbnRlbnQiLCJ0YXNrT3ZlcmxheSIsImRxcyIsInRhc2tGb3JtQ2xlYXIiLCJwcm9qT3ZlcmxheTEiLCJfdGVzdGVyaW5nIiwiZWRpdEJ1dHRvbiIsInRhcmdldCIsIm1hdGNoZXMiLCJyZW1vdmVCdXR0b24iLCJhZGRUYXNrQnV0dG9uIiwiY3VyclRpdGxlIiwiY29uc29sZSIsImxvZyIsInByb2plY3RUaXRsZSIsImEiLCJwcm9qQXJyIiwicHJvak5hbWUiLCJzaWRlYmFyUHJvaiIsInNpZGViYXJQcm9qQ2hpbGRyZW4iLCJjaGlsZHJlbiIsInJlbW92ZUNoaWxkIiwicmVtb3ZlUHJvamVjdFNpZGUiLCJzcGxpY2UiLCJyZW1vdmVQcm9qQXJyIiwiY2xlYXJNYWluIiwiZm91bmRQcm9qIiwiZmluZFByb2plY3RJbkFyciIsInByb2plY3RQYXJhbTEyMyIsInRhc2tDbG9zZSIsInRhc2tTdWJtaXQiLCJhZGRFdmVudExpc3RlbmVyIiwibWFkZVRhc2siLCJwcm9qZWN0MTIzNCIsInRhc2tUaXRsZSIsInRhc2tEZXNjIiwidGFza0R1ZURhdGUiLCJ0YXNrUHJpbyIsInRhc2tQcm9qIiwidGFza01hZGUiLCJwcm9qZWN0IiwiZXh0cmFjdERhdGFGb3JUYXNrIiwiY3VyclByb2oiLCJ0YXNrT3ZlcmxheUxpc3RlbmVycyIsImluZGV4IiwibWFpblNlYyIsImFkZFByb2plY3RUb1NpZGViYXIiLCJwcm9qU2lkZSIsInByb2pUaXRsZSIsImRpc3BsYXlQcm9qZWN0SW5NYWluIiwicHJvakRpdiIsInRhc2tTZWNVTCIsInByb2pDaGVja2JveCIsInByb2pOYW1lU3BhbiIsIm1haW5Nb2RQcm9qVGl0bGUiLCJzbGljZSIsImJ1dHRvbkNvbnQiLCJhZGREaXYiLCJlZGl0RGl2IiwicmVtb3ZlRGl2IiwiYWRkSWNvbiIsIkltYWdlIiwiZWRpdEljb24iLCJyZW1JY29uIiwicHJvaiIsImNoZWNrRm9yVGFza3MiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZmlyc3RDaGlsZCIsImMiLCJtZW51Q29udGFpbmVyIiwibWFpbkxvZ29Db250IiwiY2xvc2VDb250YWluZXIiLCJjcmVhdGVQcm9qQ29udCIsIm1lbnVJY29uIiwibWFpbkxvZ29JbWciLCJjbG9zZUljb24iLCJjcmVhdGVQcm9qSWNvbiIsInNpZGVCYXIiLCJ0YWdOYW1lIiwibWVudUV2ZW50TGlzdGVuIiwiY2xvc2VCdXR0b24iLCJzdWJtaXRCdXR0b24iLCJwcm9qZWN0UGFyYW0iLCJ0aXRsZUlucHV0IiwiZGVzY0lucHV0IiwicHJvamVjdE1hZGUiLCJleHRyYWN0RGF0YUZvclByb2plY3QiLCJwcm9qZWN0T3ZlcmxheVN0dWZmIl0sInNvdXJjZVJvb3QiOiIifQ==