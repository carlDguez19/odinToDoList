(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&!e;)e=o[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"abbfad808c2786a6a2d4.png",n=t.p+"986e98635b18601755cf.png",o=t.p+"177a54134d0bd5aefd06.png",i=t.p+"edb755c23d1ebcf9c7a4.png",c=t.p+"c9c7160b568bb10d504c.png";class s{constructor(t,e){this.title=t,this.description=e,this.toDos=[]}get title(){return this._title}get description(){return this._description}get toDoList(){return this._toDos}set title(t){this._title=t}set description(t){this._description=t}}const r=document.querySelector(".newProjectOverlay");function l(){const t=document.querySelector(".errorProjectOverlay");t.style.animation="projectSlideDown 1.5s forwards",setTimeout((function(){t.style.animation="projectSlideUp 1.5s forwards"}),2500)}function d(){document.getElementById("title").value="",document.getElementById("description").value=""}class a{constructor(t,e,n,o,i){this.tTitle=t,this.tDesc=e,this.tDue=n,this.tPrio=o,this.tProj=i}set tTitle(t){this._tTitle=t}set tDesc(t){this._tDesc=t}set tDue(t){this._tDue=t}set tPrio(t){this._tPrio=t}set tProj(t){this._tProj=t}get tTitle(){return this._tTitle}get tDesc(){return this._tDesc}get tDue(){return this._tDue}get tPrio(){return this._tPrio}get tProj(){return this._tProj}}function u(t){const e=document.querySelector(".todoUL"),n=document.createElement("li");n.classList.add("todo");const o=document.createElement("input");o.type="checkbox",o.classList.add("todoCheck");const i=document.createElement("input");i.type="date",i.classList.add("todoDate"),n.appendChild(i),n.appendChild(o),n.textContent=t.tTitle+"  "+t.tDue,e.appendChild(n)}const p=E(".newTaskOverlay");function m(){document.getElementById("tTitle").value="",document.getElementById("tDescription").value="",document.getElementById("tDueDate").value="",document.getElementById("tTaskPrio").value="Select One"}const f=document.querySelector(".newProjectOverlay");var h=function(t){const e=t.target.matches(".projEdit"),n=t.target.matches(".projRemove"),o=t.target.matches(".projAdd"),i=E(".projectNameMain");if(e){console.log("editButton clicked"),c=i.textContent,f.style.animation="projectSlideDown 1.5s forwards",E("#title").value=c;for(let t=0;t<C.length;t++)console.log(t+1+" "+C[t].title)}else if(n){console.log("removeButton clicked"),function(t){const e=E(".sidebarProject"),n=e.children;for(let o=0;o<n.length;o++)n[o].textContent==t&&e.removeChild(n[o])}(i.textContent),function(t){for(let e=0;e<C.length;e++)C[e].title==t&&C.splice(e,1)}(i.textContent),w();for(let t=0;t<C.length;t++)console.log(t+1+" "+C[t].title)}else o&&(p.style.animation="projectSlideDown 1.5s forwards",function(t){const e=E(".taskCloseButton"),n=E(".taskSubmitButton");e.addEventListener("click",(function(){m(),p.style.animation="projectSlideUp 1.5s forwards"})),n.addEventListener("click",(function(){p.style.animation="projectSlideUp 1.5s forwards";const e=function(t){const e=document.getElementById("tTitle").value,n=document.getElementById("tDescription").value,o=document.getElementById("tDueDate").value,i=document.getElementById("tTaskPrio").value;if(E(".projectNameMain"),e&&o){console.log(t.title);const c=new a(e,n,o,i,t.title);return project.toDoList.push(c),m(),c}return l(),m(),void(p.style.animation="projectSlideDown 1.5s forwards")}(t);if(e){u(e);for(let t=0;t<currProj.toDoList.length;t++)console.log(t+1+" "+currProj.toDoList[t].title)}m()}))}(g(i)));var c};function g(t){let e=0;for(let n=0;n<C.length;n++)if(e=n,C[n].title==t)return C[n]}const y=E(".projectSection");function j(t){const e=E(".sidebarProject");let n=document.createElement("span");n.textContent=t,n.classList.add("projectNameSidebar"),e.appendChild(n)}function v(t){w();const e=document.createElement("div"),n=document.createElement("ul");n.classList.add("todoUL");const s=document.createElement("input");s.type="checkbox",s.classList.add("projectCheckbox");const r=document.createElement("span");if(t.title.length>30){let e=t.title.slice(0,31);r.textContent=e+"..."}else r.textContent=t.title;r.classList.add("projectNameMain");const l=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),p=document.createElement("div"),m=new Image;m.src=i,m.classList.add("projAdd");const f=new Image;f.src=c,f.classList.add("projEdit");const g=new Image;g.src=o,g.classList.add("projRemove"),d.appendChild(m),a.appendChild(f),p.appendChild(g),l.appendChild(d),l.appendChild(a),l.appendChild(p),l.classList.add("projectOptions"),e.appendChild(s),e.appendChild(r),e.appendChild(l),e.classList.add("project"),y.appendChild(e),y.appendChild(n),function(t){const e=0;for(;t.toDoList;)u(t.toDoList[e]),e++}(t),document.addEventListener("click",h),console.log("this console log is after the projectElisteners it looks like its working??")}function w(){for(document.removeEventListener("click",h);y.firstChild;)y.removeChild(y.firstChild)}let C=[];function E(t){return document.querySelector(t)}!function(){const t=document.querySelector(".menuContainer"),c=document.querySelector(".mainLogo"),s=document.querySelector(".menuClose"),r=document.querySelector(".createProj"),l=new Image;l.src=e,l.classList.add("main-menu-logo");const d=new Image;d.src=n,d.classList.add("main-logo");const a=new Image;a.src=o,a.classList.add("menuClose");const u=new Image;u.src=i,u.classList.add("addProjButton"),t.appendChild(l),c.appendChild(d),s.appendChild(a),r.appendChild(u);const p=document.querySelector(".sidebar-menu"),m=document.querySelector(".newProjectOverlay");t.addEventListener("click",(function(){p.style.animation="menuSlideOn 1.5s forwards"})),s.addEventListener("click",(function(){p.style.animation="menuSlideClose 1.5s forwards"})),r.addEventListener("click",(function(){p.style.animation="menuSlideClose 1.5s forwards",m.style.animation="projectSlideDown 1.5s forwards"})),p.addEventListener("click",(t=>{"SPAN"===t.target.tagName&&(console.log("the following is e.target.value"),console.log(t.target.textContent),v(g(t.target.textContent)))}))}(),function(){const t=document.querySelector(".closeButton"),e=document.querySelector(".submitButton");t.addEventListener("click",(function(){r.style.animation="projectSlideUp 1.5s forwards",d()})),e.addEventListener("click",(function(){r.style.animation="projectSlideUp 1.5s forwards";const t=function(){const t=document.getElementById("title").value;let e=document.getElementById("description").value;if(t){const n=new s(t,e);return C.push(n),n}return l(),d(),void(r.style.animation="projectSlideDown 1.5s forwards")}();if(t){j(t.title),v(t);for(let t=0;t<C.length;t++)console.log(t+1+" "+C[t].title)}d()}))}(),v({title:"defaultProject",description:"This is a default project. You can also create your own :)"}),j("defaultProject"),C[0]={title:"defaultProject",description:"This is a default project. You can also create your own :)"}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQUFzQixDQUFDLEVDRDNCQSxFQUFvQkMsRUFBSSxXQUN2QixHQUEwQixpQkFBZkMsV0FBeUIsT0FBT0EsV0FDM0MsSUFDQyxPQUFPQyxNQUFRLElBQUlDLFNBQVMsY0FBYixFQUNoQixDQUFFLE1BQU9DLEdBQ1IsR0FBc0IsaUJBQVhDLE9BQXFCLE9BQU9BLE1BQ3hDLENBQ0EsQ0FQdUIsRyxNQ0F4QixJQUFJQyxFQUNBUCxFQUFvQkMsRUFBRU8sZ0JBQWVELEVBQVlQLEVBQW9CQyxFQUFFUSxTQUFXLElBQ3RGLElBQUlDLEVBQVdWLEVBQW9CQyxFQUFFUyxTQUNyQyxJQUFLSCxHQUFhRyxJQUNiQSxFQUFTQyxnQkFDWkosRUFBWUcsRUFBU0MsY0FBY0MsTUFDL0JMLEdBQVcsQ0FDZixJQUFJTSxFQUFVSCxFQUFTSSxxQkFBcUIsVUFDNUMsR0FBR0QsRUFBUUUsT0FFVixJQURBLElBQUlDLEVBQUlILEVBQVFFLE9BQVMsRUFDbEJDLEdBQUssSUFBTVQsR0FBV0EsRUFBWU0sRUFBUUcsS0FBS0osR0FFeEQsQ0FJRCxJQUFLTCxFQUFXLE1BQU0sSUFBSVUsTUFBTSx5REFDaENWLEVBQVlBLEVBQVVXLFFBQVEsT0FBUSxJQUFJQSxRQUFRLFFBQVMsSUFBSUEsUUFBUSxZQUFhLEtBQ3BGbEIsRUFBb0JtQixFQUFJWixDLGdMQ2xCakIsTUFBTWEsRUFDVCxXQUFBQyxDQUFZQyxFQUFPQyxHQUNmcEIsS0FBS21CLE1BQVFBLEVBQ2JuQixLQUFLb0IsWUFBY0EsRUFDbkJwQixLQUFLcUIsTUFBUSxFQUNqQixDQUNBLFNBQUlGLEdBQ0EsT0FBT25CLEtBQUtzQixNQUNoQixDQUNBLGVBQUlGLEdBQ0EsT0FBT3BCLEtBQUt1QixZQUNoQixDQUNBLFlBQUlDLEdBQ0EsT0FBT3hCLEtBQUt5QixNQUNoQixDQUVBLFNBQUlOLENBQU1PLEdBQ04xQixLQUFLc0IsT0FBU0ksQ0FDbEIsQ0FDQSxlQUFJTixDQUFZTyxHQUNaM0IsS0FBS3VCLGFBQWVJLENBQ3hCLEVDZEosTUFBTUMsRUFBY3JCLFNBQVNzQixjQUFjLHNCQW1EcEMsU0FBU0MsSUFDWixNQUFNQyxFQUFleEIsU0FBU3NCLGNBQWMsd0JBQzVDRSxFQUFhQyxNQUFNQyxVQUFZLGlDQUMvQkMsWUFBVyxXQUNQSCxFQUFhQyxNQUFNQyxVQUFZLDhCQUNuQyxHQUFHLEtBQ1AsQ0FFTyxTQUFTRSxJQUNaNUIsU0FBUzZCLGVBQWUsU0FBU0MsTUFBUSxHQUN6QzlCLFNBQVM2QixlQUFlLGVBQWVDLE1BQVEsRUFDbkQsQ0NyRU8sTUFBTUMsRUFDVCxXQUFBcEIsQ0FBWXFCLEVBQVFDLEVBQU9DLEVBQU1DLEVBQU9DLEdBQ3BDM0MsS0FBS3VDLE9BQVNBLEVBQ2R2QyxLQUFLd0MsTUFBUUEsRUFDYnhDLEtBQUt5QyxLQUFPQSxFQUNaekMsS0FBSzBDLE1BQVFBLEVBQ2IxQyxLQUFLMkMsTUFBUUEsQ0FDakIsQ0FDQSxVQUFJSixDQUFPSyxHQUNQNUMsS0FBSzZDLFFBQVVELENBQ25CLENBQ0EsU0FBSUosQ0FBTU0sR0FDTjlDLEtBQUsrQyxPQUFTRCxDQUNsQixDQUNBLFFBQUlMLENBQUtPLEdBQ0xoRCxLQUFLaUQsTUFBUUQsQ0FDakIsQ0FDQSxTQUFJTixDQUFNUSxHQUNObEQsS0FBS21ELE9BQVNELENBQ2xCLENBQ0EsU0FBSVAsQ0FBTVMsR0FDTnBELEtBQUtxRCxPQUFTRCxDQUNsQixDQUVBLFVBQUliLEdBQ0EsT0FBT3ZDLEtBQUs2QyxPQUNoQixDQUNBLFNBQUlMLEdBQ0EsT0FBT3hDLEtBQUsrQyxNQUNoQixDQUNBLFFBQUlOLEdBQ0EsT0FBT3pDLEtBQUtpRCxLQUNoQixDQUNBLFNBQUlQLEdBQ0EsT0FBTzFDLEtBQUttRCxNQUNoQixDQUNBLFNBQUlSLEdBQ0EsT0FBTzNDLEtBQUtxRCxNQUNoQixFQ3RDRyxTQUFTQyxFQUFrQkMsR0FDOUIsTUFBTUMsRUFBU2pELFNBQVNzQixjQUFjLFdBRWhDNEIsRUFBU2xELFNBQVNtRCxjQUFjLE1BQ3RDRCxFQUFPRSxVQUFVQyxJQUFJLFFBRXJCLE1BQU1DLEVBQWV0RCxTQUFTbUQsY0FBYyxTQUM1Q0csRUFBYUMsS0FBTyxXQUNwQkQsRUFBYUYsVUFBVUMsSUFBSSxhQUUzQixNQUFNRyxFQUFnQnhELFNBQVNtRCxjQUFjLFNBQzdDSyxFQUFjRCxLQUFPLE9BQ3JCQyxFQUFjSixVQUFVQyxJQUFJLFlBRTVCSCxFQUFPTyxZQUFZRCxHQUNuQk4sRUFBT08sWUFBWUgsR0FFbkJKLEVBQU9RLFlBQWNWLEVBQUtoQixPQUFTLEtBQU9nQixFQUFLZCxLQUUvQ2UsRUFBT1EsWUFBWVAsRUFDdkIsQ0NkTyxNQUFNUyxFQUFjQyxFQUFJLG1CQThDeEIsU0FBU0MsSUFDWjdELFNBQVM2QixlQUFlLFVBQVVDLE1BQVEsR0FDMUM5QixTQUFTNkIsZUFBZSxnQkFBZ0JDLE1BQVEsR0FDaEQ5QixTQUFTNkIsZUFBZSxZQUFZQyxNQUFRLEdBQzVDOUIsU0FBUzZCLGVBQWUsYUFBYUMsTUFBUSxZQUNqRCxDQ2pEQSxNQUFNZ0MsRUFBZTlELFNBQVNzQixjQUFjLHNCQU1yQyxJQUFJeUMsRUFBYSxTQUFTcEUsR0FNekIsTUFBTXFFLEVBQWFyRSxFQUFFc0UsT0FBT0MsUUFBUSxhQUM5QkMsRUFBZXhFLEVBQUVzRSxPQUFPQyxRQUFRLGVBQ2hDRSxFQUFnQnpFLEVBQUVzRSxPQUFPQyxRQUFRLFlBQ2pDRyxFQUFZVCxFQUFJLG9CQUN0QixHQUFHSSxFQUFXLENBQ1ZNLFFBQVFDLElBQUksc0JBMkNOQyxFQTFDR0gsRUFBVVgsWUEyQzNCSSxFQUFhckMsTUFBTUMsVUFBWSxpQ0FDZmtDLEVBQUksVUFDWjlCLE1BQVEwQyxFQTNDUixJQUFJLElBQUlDLEVBQUksRUFBR0EsRUFBSUMsRUFBUXJFLE9BQVFvRSxJQUMvQkgsUUFBUUMsSUFBS0UsRUFBRSxFQUFJLElBQUtDLEVBQVFELEdBQUc3RCxNQUUzQyxNQUFNLEdBQUd1RCxFQUFhLENBRWxCRyxRQUFRQyxJQUFJLHdCQWlCeEIsU0FBMkJJLEdBQ3ZCLE1BQU1DLEVBQWNoQixFQUFJLG1CQUNsQmlCLEVBQXNCRCxFQUFZRSxTQUN4QyxJQUFJLElBQUl4RSxFQUFJLEVBQUdBLEVBQUl1RSxFQUFvQnhFLE9BQVFDLElBQ3hDdUUsRUFBb0J2RSxHQUFHb0QsYUFBZWlCLEdBQ3JDQyxFQUFZRyxZQUFZRixFQUFvQnZFLEdBR3hELENBeEJZMEUsQ0FBa0JYLEVBQVVYLGFBMEJ4QyxTQUF1QmlCLEdBQ25CLElBQUksSUFBSXJFLEVBQUksRUFBR0EsRUFBSW9FLEVBQVFyRSxPQUFRQyxJQUM1Qm9FLEVBQVFwRSxHQUFHTSxPQUFTK0QsR0FDbkJELEVBQVFPLE9BQU8zRSxFQUFHLEVBRzlCLENBL0JZNEUsQ0FBY2IsRUFBVVgsYUFDeEJ5QixJQUdBLElBQUksSUFBSVYsRUFBSSxFQUFHQSxFQUFJQyxFQUFRckUsT0FBUW9FLElBQy9CSCxRQUFRQyxJQUFLRSxFQUFFLEVBQUksSUFBS0MsRUFBUUQsR0FBRzdELE1BRTNDLE1BQ1F3RCxJQUNKVCxFQUFZbEMsTUFBTUMsVUFBWSxpQ0RuQ25DLFNBQThCMEQsR0FDakMsTUFBTUMsRUFBWXpCLEVBQUksb0JBQ2hCMEIsRUFBYTFCLEVBQUkscUJBRXZCeUIsRUFBVUUsaUJBQWlCLFNBQVMsV0FDaEMxQixJQUNBRixFQUFZbEMsTUFBTUMsVUFBWSw4QkFDbEMsSUFDQTRELEVBQVdDLGlCQUFpQixTQUFTLFdBQ2pDNUIsRUFBWWxDLE1BQU1DLFVBQVksK0JBQzlCLE1BQU04RCxFQVdQLFNBQTRCQyxHQUMvQixNQUFNQyxFQUFZMUYsU0FBUzZCLGVBQWUsVUFBVUMsTUFDOUM2RCxFQUFXM0YsU0FBUzZCLGVBQWUsZ0JBQWdCQyxNQUNuRDhELEVBQWM1RixTQUFTNkIsZUFBZSxZQUFZQyxNQUNsRCtELEVBQVc3RixTQUFTNkIsZUFBZSxhQUFhQyxNQUd0RCxHQUZpQjhCLEVBQUksb0JBRWxCOEIsR0FBYUUsRUFBWSxDQUN4QnRCLFFBQVFDLElBQUlrQixFQUFZN0UsT0FDeEIsTUFBTWtGLEVBQVcsSUFBSS9ELEVBQUsyRCxFQUFXQyxFQUFVQyxFQUFhQyxFQUFVSixFQUFZN0UsT0FJbEYsT0FGQW1GLFFBQVE5RSxTQUFTK0UsS0FBS0YsR0FDdEJqQyxJQUNPaUMsQ0FDWCxDQUlJLE9BSEF2RSxJQUNBc0MsU0FDQUYsRUFBWWxDLE1BQU1DLFVBQVksaUNBR3RDLENBL0J5QnVFLENBQW1CYixHQUNwQyxHQUFHSSxFQUFTLENBQ1J6QyxFQUFrQnlDLEdBQ2xCLElBQUksSUFBSWYsRUFBSSxFQUFHQSxFQUFJeUIsU0FBU2pGLFNBQVNaLE9BQVFvRSxJQUN6Q0gsUUFBUUMsSUFBS0UsRUFBRSxFQUFJLElBQUt5QixTQUFTakYsU0FBU3dELEdBQUc3RCxNQUVyRCxDQUNBaUQsR0FDSixHQUNKLENDa0JZc0MsQ0FEa0JDLEVBQWlCL0IsS0F1Qi9DLElBQWtCRyxDQXBCbEIsRUE0Qk8sU0FBUzRCLEVBQWlCeEYsR0FFN0IsSUFBSXlGLEVBQVEsRUFDWixJQUFJLElBQUkvRixFQUFJLEVBQUdBLEVBQUlvRSxFQUFRckUsT0FBUUMsSUFFL0IsR0FEQStGLEVBQVEvRixFQUNMb0UsRUFBUXBFLEdBQUdNLE9BQVNBLEVBQ25CLE9BQU84RCxFQUFRcEUsRUFHM0IsQ0M3RUEsTUFBTWdHLEVBQVUxQyxFQUFJLG1CQUViLFNBQVMyQyxFQUFvQi9CLEdBQ2hDLE1BQU1nQyxFQUFXNUMsRUFBSSxtQkFDckIsSUFBSTZDLEVBQVl6RyxTQUFTbUQsY0FBYyxRQUN2Q3NELEVBQVUvQyxZQUFjYyxFQUN4QmlDLEVBQVVyRCxVQUFVQyxJQUFJLHNCQUN4Qm1ELEVBQVMvQyxZQUFZZ0QsRUFDekIsQ0FFTyxTQUFTQyxFQUFxQlgsR0FDakNaLElBQ0EsTUFBTXdCLEVBQVUzRyxTQUFTbUQsY0FBYyxPQUVqQ3lELEVBQVk1RyxTQUFTbUQsY0FBYyxNQUN6Q3lELEVBQVV4RCxVQUFVQyxJQUFJLFVBRXhCLE1BQU13RCxFQUFlN0csU0FBU21ELGNBQWMsU0FDNUMwRCxFQUFhdEQsS0FBTyxXQUNwQnNELEVBQWF6RCxVQUFVQyxJQUFJLG1CQUczQixNQUFNeUQsRUFBZTlHLFNBQVNtRCxjQUFjLFFBQzVDLEdBQUc0QyxFQUFRbkYsTUFBTVAsT0FBUyxHQUFHLENBQ3pCLElBQUkwRyxFQUFtQmhCLEVBQVFuRixNQUFNb0csTUFBTSxFQUFFLElBQzdDRixFQUFhcEQsWUFBY3FELEVBQW1CLEtBQ2xELE1BQ0lELEVBQWFwRCxZQUFjcUMsRUFBUW5GLE1BRXZDa0csRUFBYTFELFVBQVVDLElBQUksbUJBRzNCLE1BQU00RCxFQUFhakgsU0FBU21ELGNBQWMsT0FFcEMrRCxFQUFTbEgsU0FBU21ELGNBQWMsT0FDaENnRSxFQUFVbkgsU0FBU21ELGNBQWMsT0FDakNpRSxFQUFZcEgsU0FBU21ELGNBQWMsT0FFbkNrRSxFQUFVLElBQUlDLE1BQ3BCRCxFQUFRbkgsSUFBTSxFQUNkbUgsRUFBUWpFLFVBQVVDLElBQUksV0FFdEIsTUFBTWtFLEVBQVcsSUFBSUQsTUFDckJDLEVBQVNySCxJQUFNLEVBQ2ZxSCxFQUFTbkUsVUFBVUMsSUFBSSxZQUV2QixNQUFNbUUsRUFBVSxJQUFJRixNQUNwQkUsRUFBUXRILElBQU0sRUFDZHNILEVBQVFwRSxVQUFVQyxJQUFJLGNBRXRCNkQsRUFBT3pELFlBQVk0RCxHQUNuQkYsRUFBUTFELFlBQVk4RCxHQUNwQkgsRUFBVTNELFlBQVkrRCxHQUV0QlAsRUFBV3hELFlBQVl5RCxHQUN2QkQsRUFBV3hELFlBQVkwRCxHQUN2QkYsRUFBV3hELFlBQVkyRCxHQUN2QkgsRUFBVzdELFVBQVVDLElBQUksa0JBRXpCc0QsRUFBUWxELFlBQVlvRCxHQUNwQkYsRUFBUWxELFlBQVlxRCxHQUNwQkgsRUFBUWxELFlBQVl3RCxHQUNwQk4sRUFBUXZELFVBQVVDLElBQUksV0FFdEJpRCxFQUFRN0MsWUFBWWtELEdBQ3BCTCxFQUFRN0MsWUFBWW1ELEdBVXhCLFNBQXVCYSxHQUVuQixNQUFNbkgsRUFBSSxFQUNWLEtBQU1tSCxFQUFLeEcsVUFDUDhCLEVBQWtCMEUsRUFBS3hHLFNBQVNYLElBQ2hDQSxHQUVSLENBZElvSCxDQUFjM0IsR0RqRWQvRixTQUFTdUYsaUJBQWlCLFFBQVN4QixHQ3FFbkNPLFFBQVFDLElBQUksOEVBQ2hCLENBV08sU0FBU1ksSUFFWixJQURBbkYsU0FBUzJILG9CQUFvQixRQUFTNUQsR0FDaEN1QyxFQUFRc0IsWUFDVnRCLEVBQVF2QixZQUFZdUIsRUFBUXNCLFdBRXBDLENDMUZPLElBQUlsRCxFQUFVLEdBRWQsU0FBU2QsRUFBSWlFLEdBQ2hCLE9BQU83SCxTQUFTc0IsY0FBY3VHLEVBQ2xDLEVBRU8sV0FDSCxNQUFNQyxFQUFnQjlILFNBQVNzQixjQUFjLGtCQUN2Q3lHLEVBQWUvSCxTQUFTc0IsY0FBYyxhQUN0QzBHLEVBQWlCaEksU0FBU3NCLGNBQWMsY0FDeEMyRyxFQUFpQmpJLFNBQVNzQixjQUFjLGVBRXhDNEcsRUFBVyxJQUFJWixNQUNyQlksRUFBU2hJLElBQU0sRUFDZmdJLEVBQVM5RSxVQUFVQyxJQUFJLGtCQUV2QixNQUFNOEUsRUFBYyxJQUFJYixNQUN4QmEsRUFBWWpJLElBQU0sRUFDbEJpSSxFQUFZL0UsVUFBVUMsSUFBSSxhQUUxQixNQUFNK0UsRUFBWSxJQUFJZCxNQUN0QmMsRUFBVWxJLElBQU0sRUFDaEJrSSxFQUFVaEYsVUFBVUMsSUFBSSxhQUV4QixNQUFNZ0YsRUFBaUIsSUFBSWYsTUFDM0JlLEVBQWVuSSxJQUFNLEVBQ3JCbUksRUFBZWpGLFVBQVVDLElBQUksaUJBRTdCeUUsRUFBY3JFLFlBQVl5RSxHQUMxQkgsRUFBYXRFLFlBQVkwRSxHQUN6QkgsRUFBZXZFLFlBQVkyRSxHQUMzQkgsRUFBZXhFLFlBQVk0RSxHQUUzQixNQUFNQyxFQUFVdEksU0FBU3NCLGNBQWMsaUJBQ2pDRCxFQUFjckIsU0FBU3NCLGNBQWMsc0JBRTNDd0csRUFBY3ZDLGlCQUFpQixTQUFTLFdBQ3BDK0MsRUFBUTdHLE1BQU1DLFVBQVksMkJBQzlCLElBQ0FzRyxFQUFlekMsaUJBQWlCLFNBQVMsV0FDckMrQyxFQUFRN0csTUFBTUMsVUFBWSw4QkFDOUIsSUFDQXVHLEVBQWUxQyxpQkFBaUIsU0FBUyxXQUVyQytDLEVBQVE3RyxNQUFNQyxVQUFZLCtCQUMxQkwsRUFBWUksTUFBTUMsVUFBWSxnQ0FDbEMsSUFDQTRHLEVBQVEvQyxpQkFBaUIsU0FBVTVGLElBQ1AsU0FBckJBLEVBQUVzRSxPQUFPc0UsVUFDUmpFLFFBQVFDLElBQUksbUNBQ1pELFFBQVFDLElBQUk1RSxFQUFFc0UsT0FBT1AsYUFFckJnRCxFQURpQk4sRUFBaUJ6RyxFQUFFc0UsT0FBT1AsY0FHL0MsR0FFUixDQ3hEQThFLEdQRU8sV0FJSCxNQUFNQyxFQUFjekksU0FBU3NCLGNBQWMsZ0JBQ3JDb0gsRUFBZTFJLFNBQVNzQixjQUFjLGlCQUU1Q21ILEVBQVlsRCxpQkFBaUIsU0FBUyxXQUNsQ2xFLEVBQVlJLE1BQU1DLFVBQVksK0JBQzlCRSxHQUNKLElBQ0E4RyxFQUFhbkQsaUJBQWlCLFNBQVMsV0FFbkNsRSxFQUFZSSxNQUFNQyxVQUFZLCtCQUM5QixNQUFNaUgsRUFlZCxXQUNJLE1BQU1DLEVBQWE1SSxTQUFTNkIsZUFBZSxTQUFTQyxNQUNwRCxJQUFJK0csRUFBWTdJLFNBQVM2QixlQUFlLGVBQWVDLE1BRXZELEdBQUc4RyxFQUFXLENBRVYsTUFBTUUsRUFBYyxJQUFJcEksRUFBUWtJLEVBQVlDLEdBSTVDLE9BSEFuRSxFQUFRc0IsS0FBSzhDLEdBR05BLENBQ1gsQ0FLSSxPQUhBdkgsSUFDQUssU0FDQVAsRUFBWUksTUFBTUMsVUFBWSxpQ0FHdEMsQ0FqQzZCcUgsR0FFckIsR0FBR0osRUFBYSxDQUVacEMsRUFBb0JvQyxFQUFhL0gsT0FDakM4RixFQUFxQmlDLEdBRXJCLElBQUksSUFBSWxFLEVBQUksRUFBR0EsRUFBSUMsRUFBUXJFLE9BQVFvRSxJQUMvQkgsUUFBUUMsSUFBS0UsRUFBRSxFQUFJLElBQUtDLEVBQVFELEdBQUc3RCxNQUUzQyxDQUNBZ0IsR0FDSixHQUNKLENPNUJBb0gsR0FDQXRDLEVBQXFCLENBQUM5RixNQUFPLGlCQUFrQkMsWUFBYSwrREFDNUQwRixFQUFvQixrQkFDcEI3QixFQUFRLEdBQUssQ0FBQzlELE1BQU8saUJBQWtCQyxZQUFhLDZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdENsYXNzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0Rm9ybS5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvdGFza0NsYXNzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy90YXNrRE9NLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy90YXNrRm9ybS5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEV2ZW50TGlzdGVuZXJzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0RE9NLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9tZW51RXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImV4cG9ydCBjbGFzcyBQcm9qZWN0e1xuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbil7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLnRvRG9zID0gW107XG4gICAgfVxuICAgIGdldCB0aXRsZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGU7XG4gICAgfVxuICAgIGdldCBkZXNjcmlwdGlvbigpe1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb247XG4gICAgfVxuICAgIGdldCB0b0RvTGlzdCgpey8vZ2V0IGFycmF5IHRoZW4gcHVzaCBhIHRvRG9cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvRG9zO1xuICAgIH1cblxuICAgIHNldCB0aXRsZShuZXdUaXRsZSl7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gbmV3VGl0bGU7XG4gICAgfVxuICAgIHNldCBkZXNjcmlwdGlvbihuZXdEZXNjKXtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBuZXdEZXNjO1xuICAgIH1cblxufSIsImltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0Q2xhc3NcIjtcbmltcG9ydCB7IHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIgfSBmcm9tIFwiLi9wcm9qZWN0RE9NXCI7XG5pbXBvcnQgeyBkaXNwbGF5UHJvamVjdEluTWFpbiB9IGZyb20gXCIuL3Byb2plY3RET01cIjtcbi8vaW1wb3J0IHsgcHJvamVjdEVMaXN0ZW5lcnMgfSBmcm9tIFwiLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IF90ZXN0ZXJpbmcgfSBmcm9tIFwiLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnNcIjtcblxuY29uc3QgcHJvak92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdE92ZXJsYXlTdHVmZigpe1xuICAgIC8vY29uc3QgcHJvak92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG4gICAgLy9idXR0b25zXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlQnV0dG9uXCIpO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0QnV0dG9uXCIpO1xuXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSAncHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICB9KVxuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJzdWJtaXQgYnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgY29uc3QgcHJvamVjdFBhcmFtID0gZXh0cmFjdERhdGFGb3JQcm9qZWN0KCk7XG4gICAgICAgIC8vY3JlYXRlUHJvamVjdERPTShwcm9qZWN0UGFyYW0pOy8vdGhpcyB3aWxsIGJlIGluIHByb2plY3RET00uanMgZmlsZVxuICAgICAgICBpZihwcm9qZWN0UGFyYW0pe1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInByb2plY3Qgb2JqIHJldHVybmVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICAgIGFkZFByb2plY3RUb1NpZGViYXIocHJvamVjdFBhcmFtLnRpdGxlKS8vdGhpcyB3aWxsIGJlIGluIHByb2plY3RET00uanMgZmlsZVxuICAgICAgICAgICAgZGlzcGxheVByb2plY3RJbk1haW4ocHJvamVjdFBhcmFtKTtcbiAgICAgICAgICAgIC8vcHJvamVjdEVMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGZvcihsZXQgYSA9IDA7IGEgPCBwcm9qQXJyLmxlbmd0aDsgYSsrKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygoYSsxKSsgXCIgXCIrIHByb2pBcnJbYV0udGl0bGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvamVjdEZvcm1DbGVhcigpO1xuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGV4dHJhY3REYXRhRm9yUHJvamVjdCgpe1xuICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlXG4gICAgbGV0IGRlc2NJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIikudmFsdWU7XG5cbiAgICBpZih0aXRsZUlucHV0KXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImRldGVjdGVkIHRpdGxlXCIpOy8vZGVidWdnaW5nXG4gICAgICAgIGNvbnN0IHByb2plY3RNYWRlID0gbmV3IFByb2plY3QodGl0bGVJbnB1dCwgZGVzY0lucHV0KTtcbiAgICAgICAgcHJvakFyci5wdXNoKHByb2plY3RNYWRlKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwcm9qQXJyWyhwcm9qQXJyLmxlbmd0aCktMV0udGl0bGUpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKHByb2pBcnJbKHByb2pBcnIubGVuZ3RoKS0xXS5kZXNjcmlwdGlvbik7XG4gICAgICAgIHJldHVybiBwcm9qZWN0TWFkZTtcbiAgICB9ZWxzZXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIk5lZWQgYSB0aXRsZSB0byBjcmVhdGUgYSBwcm9qZWN0IVwiKTsvL2RlYnVnZ2luZ1xuICAgICAgICBkaXNwbGF5TmVlZFRpdGxlKCk7Ly8gQ0FOIElOU0VSVCBET00gTUFOSVBVTEFUSU9OIFRPIFNISUZUIERPV04gVEhFIEVSUk9SIE9WRVJMQVkgOilcbiAgICAgICAgcHJvamVjdEZvcm1DbGVhcigpO1xuICAgICAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkc1wiO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheU5lZWRUaXRsZSgpe1xuICAgIGNvbnN0IGVycm9yT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3JQcm9qZWN0T3ZlcmxheVwiKTtcbiAgICBlcnJvck92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIlxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgZXJyb3JPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkc1wiXG4gICAgfSwgMjUwMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0Rm9ybUNsZWFyKCl7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG59IiwiZXhwb3J0IGNsYXNzIFRhc2t7XG4gICAgY29uc3RydWN0b3IodFRpdGxlLCB0RGVzYywgdER1ZSwgdFByaW8sIHRQcm9qKXtcbiAgICAgICAgdGhpcy50VGl0bGUgPSB0VGl0bGU7XG4gICAgICAgIHRoaXMudERlc2MgPSB0RGVzYztcbiAgICAgICAgdGhpcy50RHVlID0gdER1ZTtcbiAgICAgICAgdGhpcy50UHJpbyA9IHRQcmlvO1xuICAgICAgICB0aGlzLnRQcm9qID0gdFByb2o7XG4gICAgfVxuICAgIHNldCB0VGl0bGUobmV3dFRpdGxlKXtcbiAgICAgICAgdGhpcy5fdFRpdGxlID0gbmV3dFRpdGxlO1xuICAgIH1cbiAgICBzZXQgdERlc2MobmV3dERlc2Mpe1xuICAgICAgICB0aGlzLl90RGVzYyA9IG5ld3REZXNjO1xuICAgIH1cbiAgICBzZXQgdER1ZShuZXd0RHVlKXtcbiAgICAgICAgdGhpcy5fdER1ZSA9IG5ld3REdWU7XG4gICAgfVxuICAgIHNldCB0UHJpbyhuZXd0UHJpbyl7XG4gICAgICAgIHRoaXMuX3RQcmlvID0gbmV3dFByaW87XG4gICAgfVxuICAgIHNldCB0UHJvaihuZXd0UHJvail7XG4gICAgICAgIHRoaXMuX3RQcm9qID0gbmV3dFByb2o7XG4gICAgfVxuXG4gICAgZ2V0IHRUaXRsZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdFRpdGxlO1xuICAgIH1cbiAgICBnZXQgdERlc2MoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3REZXNjO1xuICAgIH1cbiAgICBnZXQgdER1ZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdER1ZTtcbiAgICB9XG4gICAgZ2V0IHRQcmlvKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90UHJpbztcbiAgICB9XG4gICAgZ2V0IHRQcm9qKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90UHJvajtcbiAgICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlUYXNrSW5NYWluKHRhc2spey8vKHByb2plY3QsIHVsKSBtaWdodCBiZSBuZWVkZWQgYXMgcGFyYW1zIGJ1dCBwcm9icyBub3RcbiAgICBjb25zdCBwcm9qVUwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG9VTFwiKTtcblxuICAgIGNvbnN0IHRhc2tMSSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgdGFza0xJLmNsYXNzTGlzdC5hZGQoXCJ0b2RvXCIpO1xuXG4gICAgY29uc3QgdGFza0NoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0YXNrQ2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICB0YXNrQ2hlY2tib3guY2xhc3NMaXN0LmFkZChcInRvZG9DaGVja1wiKTtcblxuICAgIGNvbnN0IHRhc2tEYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHRhc2tEYXRlSW5wdXQudHlwZSA9IFwiZGF0ZVwiO1xuICAgIHRhc2tEYXRlSW5wdXQuY2xhc3NMaXN0LmFkZChcInRvZG9EYXRlXCIpO1xuXG4gICAgdGFza0xJLmFwcGVuZENoaWxkKHRhc2tEYXRlSW5wdXQpO1xuICAgIHRhc2tMSS5hcHBlbmRDaGlsZCh0YXNrQ2hlY2tib3gpO1xuXG4gICAgdGFza0xJLnRleHRDb250ZW50ID0gdGFzay50VGl0bGUgKyBcIiAgXCIgKyB0YXNrLnREdWU7XG5cbiAgICBwcm9qVUwuYXBwZW5kQ2hpbGQodGFza0xJKTtcbn0iLCJpbXBvcnQgeyBkcXMgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGZpbmRQcm9qZWN0SW5BcnIgfSBmcm9tIFwiLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGRpc3BsYXlOZWVkVGl0bGUgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL3Rhc2tDbGFzc1wiO1xuaW1wb3J0IHsgZGlzcGxheVRhc2tJbk1haW4gfSBmcm9tIFwiLi90YXNrRE9NXCI7XG5cbmV4cG9ydCBjb25zdCB0YXNrT3ZlcmxheSA9IGRxcyhcIi5uZXdUYXNrT3ZlcmxheVwiKTtcbi8vY29uc3QgY3VyclByb2ogPSB7fTsvL01JR0hUIEJFIE9LIFRPIFBMQUNFIFdJVEhJTiBleHRyYWN0RGF0YUZvclRhc2sgZnVuY1xuXG5leHBvcnQgZnVuY3Rpb24gdGFza092ZXJsYXlMaXN0ZW5lcnMocHJvamVjdFBhcmFtMTIzKXtcbiAgICBjb25zdCB0YXNrQ2xvc2UgPSBkcXMoXCIudGFza0Nsb3NlQnV0dG9uXCIpO1xuICAgIGNvbnN0IHRhc2tTdWJtaXQgPSBkcXMoXCIudGFza1N1Ym1pdEJ1dHRvblwiKTtcblxuICAgIHRhc2tDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHRhc2tGb3JtQ2xlYXIoKTtcbiAgICAgICAgdGFza092ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzXCJcbiAgICB9KTtcbiAgICB0YXNrU3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgdGFza092ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzXCJcbiAgICAgICAgY29uc3QgbWFkZVRhc2sgPSBleHRyYWN0RGF0YUZvclRhc2socHJvamVjdFBhcmFtMTIzKTtcbiAgICAgICAgaWYobWFkZVRhc2spe1xuICAgICAgICAgICAgZGlzcGxheVRhc2tJbk1haW4obWFkZVRhc2spOy8vY3VycmVudCBwcm9qZWN0IGlzIGFscmVhZHkgZGV0ZWN0ZWQgaW4gZXh0cmFjdERhdGFGb3JUYXNrIGZ1bmMuLm1heSBub3QgbmVlZCBwcm9qIGFuZCB1bCBhcyBwYXJhbXNcbiAgICAgICAgICAgIGZvcihsZXQgYSA9IDA7IGEgPCBjdXJyUHJvai50b0RvTGlzdC5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coKGErMSkrIFwiIFwiKyBjdXJyUHJvai50b0RvTGlzdFthXS50aXRsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGFza0Zvcm1DbGVhcigpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdERhdGFGb3JUYXNrKHByb2plY3QxMjM0KXtcbiAgICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRUaXRsZVwiKS52YWx1ZTtcbiAgICBjb25zdCB0YXNrRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidERlc2NyaXB0aW9uXCIpLnZhbHVlO1xuICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0RHVlRGF0ZVwiKS52YWx1ZTtcbiAgICBjb25zdCB0YXNrUHJpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidFRhc2tQcmlvXCIpLnZhbHVlO1xuICAgIGNvbnN0IHRhc2tQcm9qID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTsvL1NIT1VMRCBOT1QgQkUgTkVFREVEIEdJVkVOIFBBUkFNXG5cbiAgICBpZih0YXNrVGl0bGUgJiYgdGFza0R1ZURhdGUpe1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0MTIzNC50aXRsZSk7XG4gICAgICAgIGNvbnN0IHRhc2tNYWRlID0gbmV3IFRhc2sodGFza1RpdGxlLCB0YXNrRGVzYywgdGFza0R1ZURhdGUsIHRhc2tQcmlvLCBwcm9qZWN0MTIzNC50aXRsZSk7Ly90YXNrUHJvaiBhcyBsYXN0IHBhcmFtXG4gICAgICAgIC8vY29uc3QgY3VyclByb2ogPSBmaW5kUHJvamVjdEluQXJyKHRhc2tQcm9qKTtcbiAgICAgICAgcHJvamVjdC50b0RvTGlzdC5wdXNoKHRhc2tNYWRlKTsvL2N1cnJQcm9qLnRvRG9MaXN0LnB1c2godGFza01hZGUpOyBFUlJPUiBJUyBIQVBQRU5JTkcgSEVSRSBORUVEIFRPIEZJTkQgQSBXQVkgVE8gQUNDRVMgVEhFIEFSUkFZIEFORCBQVVNIIElOVE8gSVRcbiAgICAgICAgdGFza0Zvcm1DbGVhcigpO1xuICAgICAgICByZXR1cm4gdGFza01hZGU7XG4gICAgfWVsc2V7XG4gICAgICAgIGRpc3BsYXlOZWVkVGl0bGUoKTtcbiAgICAgICAgdGFza0Zvcm1DbGVhcigpO1xuICAgICAgICB0YXNrT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkc1wiO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGFza0Zvcm1DbGVhcigpe1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidFRpdGxlXCIpLnZhbHVlID0gXCJcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInREZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0RHVlRGF0ZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0VGFza1ByaW9cIikudmFsdWUgPSBcIlNlbGVjdCBPbmVcIjtcbn0iLCJpbXBvcnQgeyBkcXMgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGNsZWFyTWFpbiB9IGZyb20gXCIuL3Byb2plY3RET01cIjtcbmltcG9ydCB7IHRhc2tPdmVybGF5LCB0YXNrT3ZlcmxheUxpc3RlbmVycyB9IGZyb20gXCIuL3Rhc2tGb3JtXCI7XG4vL2ltcG9ydCB7IHByb2pPdmVybGF5IH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5cbi8vY29uc3QgcHJvalRhc2tBZGQgPSBkcXMoXCIucHJvakFkZFwiKTtcbi8vY29uc3QgcHJvalJlbUJ1dHRvbiA9IGRxcyhcIi5wcm9qUmVtb3ZlXCIpO1xuY29uc3QgcHJvak92ZXJsYXkxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdQcm9qZWN0T3ZlcmxheVwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RFTGlzdGVuZXJzKCl7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGVzdGVyaW5nKVxufTtcblxuZXhwb3J0IHZhciBfdGVzdGVyaW5nID0gZnVuY3Rpb24oZSl7XG4gICAgLy9nbyB0aHJvdWhnIGFycmF5IGNvbXBhcmluZyB0aXRsZVxuICAgICAgICAvL3doZW4gZm91bmQgZmlsbCBwcm9qZWN0Rm9ybSBhbmQgZHJvcCBmb3JtIGRvd24gZm9yIHVzZXJcbiAgICAgICAgLy9pZiBzdWJtaXQgdGhlbiByZXBsYWNlIGluZm8gd2l0aCBuZXcgaW5mb1xuICAgICAgICAvL2Vsc2UgaWYgY2FuY2VsIHRoZW4gbGVhdmUgcHJvamVjdCBhcyBpdCB3YXNcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImluIHByb2pFZGl0QnV0dG9uIGV2ZW50TGlzdGVuZXJcIik7XG4gICAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBlLnRhcmdldC5tYXRjaGVzKFwiLnByb2pFZGl0XCIpO1xuICAgICAgICBjb25zdCByZW1vdmVCdXR0b24gPSBlLnRhcmdldC5tYXRjaGVzKFwiLnByb2pSZW1vdmVcIik7XG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdXR0b24gPSBlLnRhcmdldC5tYXRjaGVzKFwiLnByb2pBZGRcIik7XG4gICAgICAgIGNvbnN0IGN1cnJUaXRsZSA9IGRxcyhcIi5wcm9qZWN0TmFtZU1haW5cIik7XG4gICAgICAgIGlmKGVkaXRCdXR0b24pey8vdGhpcyB3aWxsIGJlIGRvbmUgb25jZSAncmVtb3ZlJyBpcyBjb21wbGV0ZWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZWRpdEJ1dHRvbiBjbGlja2VkXCIpO1xuICAgICAgICAgICAgZWRpdEZvcm0oY3VyclRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIC8vY29uc3QgZm91bmRQcm9qID0gZmluZFByb2plY3RJbkFycihjdXJyVGl0bGUpOy8vdGhpcyB3aWxsIGJlIGxlZnQgdGlsbCB0aGUgZW5kXG4gICAgICAgICAgICBmb3IobGV0IGEgPSAwOyBhIDwgcHJvakFyci5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coKGErMSkrIFwiIFwiKyBwcm9qQXJyW2FdLnRpdGxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZSBpZihyZW1vdmVCdXR0b24pe1xuICAgICAgICAgICAgLy9jb25zdCBjdXJyVGl0bGUgPSBkcXMoXCIucHJvamVjdE5hbWVNYWluXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZW1vdmVCdXR0b24gY2xpY2tlZFwiKTtcbiAgICAgICAgICAgIHJlbW92ZVByb2plY3RTaWRlKGN1cnJUaXRsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICByZW1vdmVQcm9qQXJyKGN1cnJUaXRsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBjbGVhck1haW4oKTtcbiAgICAgICAgICAgIC8vY29uc3Qgc2lkZUJhciA9IGRxcyhcIi5zaWRlYmFyLW1lbnVcIik7XG4gICAgICAgICAgICAvL3NpZGVCYXIuc3R5bGUuYW5pbWF0aW9uID0gJ21lbnVTbGlkZU9uIDEuNXMgZm9yd2FyZHMnO1xuICAgICAgICAgICAgZm9yKGxldCBhID0gMDsgYSA8IHByb2pBcnIubGVuZ3RoOyBhKyspe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKChhKzEpKyBcIiBcIisgcHJvakFyclthXS50aXRsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGFkZFRhc2tCdXR0b24pe1xuICAgICAgICAgICAgdGFza092ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIjtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kUHJvaiA9IGZpbmRQcm9qZWN0SW5BcnIoY3VyclRpdGxlKTtcbiAgICAgICAgICAgIHRhc2tPdmVybGF5TGlzdGVuZXJzKGZvdW5kUHJvaik7Ly9hZGQgcHJvaiBhcyBwYXJhbSBoZXJlISEhIGZpbmQgcHJvaiBvbiBsaW5lIGJlZm9yZSB0aGlzXG4gICAgICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJvamVjdFNpZGUocHJvak5hbWUpe1xuICAgIGNvbnN0IHNpZGViYXJQcm9qID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGNvbnN0IHNpZGViYXJQcm9qQ2hpbGRyZW4gPSBzaWRlYmFyUHJvai5jaGlsZHJlbjtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgc2lkZWJhclByb2pDaGlsZHJlbi5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKHNpZGViYXJQcm9qQ2hpbGRyZW5baV0udGV4dENvbnRlbnQgPT0gcHJvak5hbWUpe1xuICAgICAgICAgICAgc2lkZWJhclByb2oucmVtb3ZlQ2hpbGQoc2lkZWJhclByb2pDaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByb2pBcnIocHJvak5hbWUpe1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaWYocHJvakFycltpXS50aXRsZSA9PSBwcm9qTmFtZSl7XG4gICAgICAgICAgICBwcm9qQXJyLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZWRpdEZvcm0ocHJvamVjdFRpdGxlKXtcbiAgICBwcm9qT3ZlcmxheTEuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgY29uc3QgdGl0bGVJbiA9IGRxcyhcIiN0aXRsZVwiKTtcbiAgICB0aXRsZUluLnZhbHVlID0gcHJvamVjdFRpdGxlO1xuXG4gICAgLy9hZGQgZXZlbnRMaXN0ZW5lciBmb3Igc3VibWl0IGFuZCBjYW5jZWwgYnV0dG9ucyBvbiBwcm9qZWN0IGZvcm1cbiAgICAvL2hvcGVmdWxseSB0aGV5IHdpbGwgZG8gc29tZXRoaW5nIGRpZmZlcmVudD8/P1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRQcm9qZWN0SW5BcnIodGl0bGUpey8vTUlHSFQgTk9UIE5FRUQgVEhJUyBNSUdIVCBOT1QgTkVFRCBUSElTIE1JR0hUIE5PVCBORUVEIFRISVNcbiAgICAvL2NvbnNvbGUubG9nKFwibG9va2luZyBmb3IgcHJvamVjdCBpbiBhcnJcIilcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICBpZihwcm9qQXJyW2ldLnRpdGxlID09IHRpdGxlKXtcbiAgICAgICAgICAgIHJldHVybiBwcm9qQXJyW2ldO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBSZW1vdmUgZnJvbSAnLi4vc3JjL2ltZ3MvY2xvc2UucG5nJztcbmltcG9ydCBDcmVhdGUgZnJvbSAnLi4vc3JjL2ltZ3MvYWRkLnBuZyc7XG5pbXBvcnQgRWRpdCBmcm9tICcuLi9zcmMvaW1ncy9lZGl0LnBuZyc7XG5pbXBvcnQgeyBkcXMgfSBmcm9tICcuL21lbnVFdmVudExpc3RlbmVycyc7XG5pbXBvcnQgeyBwcm9qZWN0RUxpc3RlbmVycyB9IGZyb20gJy4vcHJvamVjdEV2ZW50TGlzdGVuZXJzJztcbmltcG9ydCB7IF90ZXN0ZXJpbmcgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG5pbXBvcnQgeyBkaXNwbGF5VGFza0luTWFpbiB9IGZyb20gJy4vdGFza0RPTSc7XG5cbmNvbnN0IG1haW5TZWMgPSBkcXMoXCIucHJvamVjdFNlY3Rpb25cIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RUaXRsZSl7XG4gICAgY29uc3QgcHJvalNpZGUgPSBkcXMoXCIuc2lkZWJhclByb2plY3RcIik7XG4gICAgbGV0IHByb2pUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBwcm9qVGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0VGl0bGU7XG4gICAgcHJvalRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3ROYW1lU2lkZWJhcicpO1xuICAgIHByb2pTaWRlLmFwcGVuZENoaWxkKHByb2pUaXRsZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5UHJvamVjdEluTWFpbihwcm9qZWN0KXtcbiAgICBjbGVhck1haW4oKTtcbiAgICBjb25zdCBwcm9qRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBjb25zdCB0YXNrU2VjVUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRhc2tTZWNVTC5jbGFzc0xpc3QuYWRkKFwidG9kb1VMXCIpXG4gICAgXG4gICAgY29uc3QgcHJvakNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBwcm9qQ2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICBwcm9qQ2hlY2tib3guY2xhc3NMaXN0LmFkZChcInByb2plY3RDaGVja2JveFwiKTtcblxuICAgIFxuICAgIGNvbnN0IHByb2pOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBpZihwcm9qZWN0LnRpdGxlLmxlbmd0aCA+IDMwKXtcbiAgICAgICAgbGV0IG1haW5Nb2RQcm9qVGl0bGUgPSBwcm9qZWN0LnRpdGxlLnNsaWNlKDAsMzEpO1xuICAgICAgICBwcm9qTmFtZVNwYW4udGV4dENvbnRlbnQgPSBtYWluTW9kUHJvalRpdGxlICsgXCIuLi5cIjtcbiAgICB9ZWxzZXtcbiAgICAgICAgcHJvak5hbWVTcGFuLnRleHRDb250ZW50ID0gcHJvamVjdC50aXRsZTtcbiAgICB9XG4gICAgcHJvak5hbWVTcGFuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0TmFtZU1haW5cIik7XG5cbiAgICBcbiAgICBjb25zdCBidXR0b25Db250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG4gICAgY29uc3QgYWRkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgZWRpdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHJlbW92ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgYWRkSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGFkZEljb24uc3JjID0gQ3JlYXRlO1xuICAgIGFkZEljb24uY2xhc3NMaXN0LmFkZCgncHJvakFkZCcpO1xuXG4gICAgY29uc3QgZWRpdEljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBlZGl0SWNvbi5zcmMgPSBFZGl0O1xuICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2pFZGl0Jyk7XG5cbiAgICBjb25zdCByZW1JY29uID0gbmV3IEltYWdlKCk7XG4gICAgcmVtSWNvbi5zcmMgPSBSZW1vdmU7XG4gICAgcmVtSWNvbi5jbGFzc0xpc3QuYWRkKCdwcm9qUmVtb3ZlJyk7XG5cbiAgICBhZGREaXYuYXBwZW5kQ2hpbGQoYWRkSWNvbik7XG4gICAgZWRpdERpdi5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG4gICAgcmVtb3ZlRGl2LmFwcGVuZENoaWxkKHJlbUljb24pO1xuICAgIFxuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQoYWRkRGl2KTtcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKGVkaXREaXYpO1xuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQocmVtb3ZlRGl2KTtcbiAgICBidXR0b25Db250LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0T3B0aW9uc1wiKTtcblxuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQocHJvakNoZWNrYm94KTtcbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKHByb2pOYW1lU3Bhbik7XG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChidXR0b25Db250KTtcbiAgICBwcm9qRGl2LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xuXG4gICAgbWFpblNlYy5hcHBlbmRDaGlsZChwcm9qRGl2KTtcbiAgICBtYWluU2VjLmFwcGVuZENoaWxkKHRhc2tTZWNVTCk7XG4gICAgXG4gICAgLy9jaGVjayBmb3IgdGFza3Mgd2l0aCBhIGxvb3AgYW5kIGRpc3BsYXkgZWFjaFxuICAgIGNoZWNrRm9yVGFza3MocHJvamVjdCk7XG5cbiAgICAvL2NhbGwgZXZlbnRMaXN0ZW5lciBoZXJlXG4gICAgcHJvamVjdEVMaXN0ZW5lcnMoKTsvL1dJTEwgSEFWRSBUTyBBREQgRVZFTlQgTElTVEVORVJTIEZPUiBUQVNLUyBIRVJFPz8/XG4gICAgY29uc29sZS5sb2coXCJ0aGlzIGNvbnNvbGUgbG9nIGlzIGFmdGVyIHRoZSBwcm9qZWN0RWxpc3RlbmVycyBpdCBsb29rcyBsaWtlIGl0cyB3b3JraW5nPz9cIik7XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yVGFza3MocHJvail7XG4gICAgLy9naXZlbiBwcm9qIGFzIHBhcmFtIHdlIHdpbGwgY2hlY2sgaWYgaXQgY29udGFpbnMgYW55IHRhc2tzIHRoYXQgbmVlZCB0byBiZSBjcmVhdGVkXG4gICAgY29uc3QgaSA9IDA7XG4gICAgd2hpbGUocHJvai50b0RvTGlzdCl7XG4gICAgICAgIGRpc3BsYXlUYXNrSW5NYWluKHByb2oudG9Eb0xpc3RbaV0pO1xuICAgICAgICBpKys7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJNYWluKCl7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGVzdGVyaW5nKTtcbiAgICB3aGlsZShtYWluU2VjLmZpcnN0Q2hpbGQpe1xuICAgICAgICBtYWluU2VjLnJlbW92ZUNoaWxkKG1haW5TZWMuZmlyc3RDaGlsZClcbiAgICB9XG59IiwiaW1wb3J0IE1lbnUgZnJvbSAnLi4vc3JjL2ltZ3MvbWVudS5wbmcnXG5pbXBvcnQgQnJhbmQgZnJvbSAnLi4vc3JjL2ltZ3MvV29ya2VyQW50c01vZC5wbmcnO1xuaW1wb3J0IENsb3NlIGZyb20gJy4uL3NyYy9pbWdzL2Nsb3NlLnBuZyc7XG5pbXBvcnQgQ3JlYXRlIGZyb20gJy4uL3NyYy9pbWdzL2FkZC5wbmcnO1xuaW1wb3J0IHsgZGlzcGxheVByb2plY3RJbk1haW4gfSBmcm9tICcuL3Byb2plY3RET00nO1xuaW1wb3J0IHsgZmluZFByb2plY3RJbkFyciB9IGZyb20gJy4vcHJvamVjdEV2ZW50TGlzdGVuZXJzJztcbi8vSSBORUVEIFRPIEFERCBBIEdMT0JBTCBWQVJJQUJMRSBBUlJBWSBUSEFUIFNUT1JFUyBBTEwgVEhFIFBST0pFQ1RTIEhFUkVcbmV4cG9ydCBsZXQgcHJvakFyciA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gZHFzKGMpe1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVudUV2ZW50TGlzdGVuKCl7XG4gICAgY29uc3QgbWVudUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudUNvbnRhaW5lclwiKTtcbiAgICBjb25zdCBtYWluTG9nb0NvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5Mb2dvXCIpO1xuICAgIGNvbnN0IGNsb3NlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51Q2xvc2VcIik7XG4gICAgY29uc3QgY3JlYXRlUHJvakNvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNyZWF0ZVByb2pcIik7XG4gICAgXG4gICAgY29uc3QgbWVudUljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBtZW51SWNvbi5zcmMgPSBNZW51O1xuICAgIG1lbnVJY29uLmNsYXNzTGlzdC5hZGQoJ21haW4tbWVudS1sb2dvJyk7XG5cbiAgICBjb25zdCBtYWluTG9nb0ltZyA9IG5ldyBJbWFnZSgpO1xuICAgIG1haW5Mb2dvSW1nLnNyYyA9IEJyYW5kO1xuICAgIG1haW5Mb2dvSW1nLmNsYXNzTGlzdC5hZGQoJ21haW4tbG9nbycpO1xuXG4gICAgY29uc3QgY2xvc2VJY29uID0gbmV3IEltYWdlKCk7XG4gICAgY2xvc2VJY29uLnNyYyA9IENsb3NlO1xuICAgIGNsb3NlSWNvbi5jbGFzc0xpc3QuYWRkKCdtZW51Q2xvc2UnKTtcblxuICAgIGNvbnN0IGNyZWF0ZVByb2pJY29uID0gbmV3IEltYWdlKCk7XG4gICAgY3JlYXRlUHJvakljb24uc3JjID0gQ3JlYXRlO1xuICAgIGNyZWF0ZVByb2pJY29uLmNsYXNzTGlzdC5hZGQoJ2FkZFByb2pCdXR0b24nKTtcblxuICAgIG1lbnVDb250YWluZXIuYXBwZW5kQ2hpbGQobWVudUljb24pO1xuICAgIG1haW5Mb2dvQ29udC5hcHBlbmRDaGlsZChtYWluTG9nb0ltZyk7XG4gICAgY2xvc2VDb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcbiAgICBjcmVhdGVQcm9qQ29udC5hcHBlbmRDaGlsZChjcmVhdGVQcm9qSWNvbik7XG5cbiAgICBjb25zdCBzaWRlQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW1lbnVcIik7XG4gICAgY29uc3QgcHJvak92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG4gICAgbWVudUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNpZGVCYXIuc3R5bGUuYW5pbWF0aW9uID0gJ21lbnVTbGlkZU9uIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIGNsb3NlQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlQ2xvc2UgMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgY3JlYXRlUHJvakNvbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiY3JlYXRlIHByb2plY3QgYnV0dG9uIGNsaWNrZWQhIVwiKTtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlQ2xvc2UgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIHNpZGVCYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZihlLnRhcmdldC50YWdOYW1lID09PSAnU1BBTicpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGUgZm9sbG93aW5nIGlzIGUudGFyZ2V0LnZhbHVlXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZS50YXJnZXQudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3QgZGlzcFByb2ogPSBmaW5kUHJvamVjdEluQXJyKGUudGFyZ2V0LnRleHRDb250ZW50KVxuICAgICAgICAgICAgZGlzcGxheVByb2plY3RJbk1haW4oZGlzcFByb2opO1xuICAgICAgICAgICAgLy9kaXNwbGF5VGFza0luTWFpbihkaXNwUHJvaik7Ly9USElTIE1JR0hUIEhBVkUgVE8gQkUgQ0FMTEVEIFdJVEhJTiBESVNQTEFZUFJPSkVDVElOTUFJTiBXSVRIIFRIRSBQUk9KRUNUIEFORCBVTCBQQVJBTUVURVJTXG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJpbXBvcnQgeyBtZW51RXZlbnRMaXN0ZW4sIHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgcHJvamVjdE92ZXJsYXlTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RGb3JtXCI7XG5pbXBvcnQgeyB0YXNrT3ZlcmxheUxpc3RlbmVycyB9IGZyb20gXCIuL3Rhc2tGb3JtXCI7XG4vL2ltcG9ydCB7IHByb2plY3RFTGlzdGVuZXJzIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG4vLyBpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG4vLyBpbXBvcnQgeyBjcmVhdGVQcm9qZWN0RnJvbURhdGEgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xubWVudUV2ZW50TGlzdGVuKCk7XG5wcm9qZWN0T3ZlcmxheVN0dWZmKCk7XG5kaXNwbGF5UHJvamVjdEluTWFpbih7dGl0bGU6IFwiZGVmYXVsdFByb2plY3RcIiwgZGVzY3JpcHRpb246IFwiVGhpcyBpcyBhIGRlZmF1bHQgcHJvamVjdC4gWW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biA6KVwifSk7XG5hZGRQcm9qZWN0VG9TaWRlYmFyKFwiZGVmYXVsdFByb2plY3RcIik7XG5wcm9qQXJyWzBdID0ge3RpdGxlOiBcImRlZmF1bHRQcm9qZWN0XCIsIGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBkZWZhdWx0IHByb2plY3QuIFlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gOilcIn07XG4vL3Rhc2tPdmVybGF5TGlzdGVuZXJzKCk7XG4vL3Byb2plY3RFTGlzdGVuZXJzKCk7XG4vLyBsZXQgcHJvajEgPSBuZXcgUHJvamVjdChcImNhcmxvc0JydWhcIiwgXCJhcGl1ZlwiKTtcbi8vIGNvbnNvbGUubG9nKHByb2oxLm5hbWUpO1xuLy8gY29uc29sZS5sb2cocHJvajEuZGVzY3JpcHRpb24pOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiaSIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidG9Eb3MiLCJfdGl0bGUiLCJfZGVzY3JpcHRpb24iLCJ0b0RvTGlzdCIsIl90b0RvcyIsIm5ld1RpdGxlIiwibmV3RGVzYyIsInByb2pPdmVybGF5IiwicXVlcnlTZWxlY3RvciIsImRpc3BsYXlOZWVkVGl0bGUiLCJlcnJvck92ZXJsYXkiLCJzdHlsZSIsImFuaW1hdGlvbiIsInNldFRpbWVvdXQiLCJwcm9qZWN0Rm9ybUNsZWFyIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsIlRhc2siLCJ0VGl0bGUiLCJ0RGVzYyIsInREdWUiLCJ0UHJpbyIsInRQcm9qIiwibmV3dFRpdGxlIiwiX3RUaXRsZSIsIm5ld3REZXNjIiwiX3REZXNjIiwibmV3dER1ZSIsIl90RHVlIiwibmV3dFByaW8iLCJfdFByaW8iLCJuZXd0UHJvaiIsIl90UHJvaiIsImRpc3BsYXlUYXNrSW5NYWluIiwidGFzayIsInByb2pVTCIsInRhc2tMSSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0YXNrQ2hlY2tib3giLCJ0eXBlIiwidGFza0RhdGVJbnB1dCIsImFwcGVuZENoaWxkIiwidGV4dENvbnRlbnQiLCJ0YXNrT3ZlcmxheSIsImRxcyIsInRhc2tGb3JtQ2xlYXIiLCJwcm9qT3ZlcmxheTEiLCJfdGVzdGVyaW5nIiwiZWRpdEJ1dHRvbiIsInRhcmdldCIsIm1hdGNoZXMiLCJyZW1vdmVCdXR0b24iLCJhZGRUYXNrQnV0dG9uIiwiY3VyclRpdGxlIiwiY29uc29sZSIsImxvZyIsInByb2plY3RUaXRsZSIsImEiLCJwcm9qQXJyIiwicHJvak5hbWUiLCJzaWRlYmFyUHJvaiIsInNpZGViYXJQcm9qQ2hpbGRyZW4iLCJjaGlsZHJlbiIsInJlbW92ZUNoaWxkIiwicmVtb3ZlUHJvamVjdFNpZGUiLCJzcGxpY2UiLCJyZW1vdmVQcm9qQXJyIiwiY2xlYXJNYWluIiwicHJvamVjdFBhcmFtMTIzIiwidGFza0Nsb3NlIiwidGFza1N1Ym1pdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJtYWRlVGFzayIsInByb2plY3QxMjM0IiwidGFza1RpdGxlIiwidGFza0Rlc2MiLCJ0YXNrRHVlRGF0ZSIsInRhc2tQcmlvIiwidGFza01hZGUiLCJwcm9qZWN0IiwicHVzaCIsImV4dHJhY3REYXRhRm9yVGFzayIsImN1cnJQcm9qIiwidGFza092ZXJsYXlMaXN0ZW5lcnMiLCJmaW5kUHJvamVjdEluQXJyIiwiaW5kZXgiLCJtYWluU2VjIiwiYWRkUHJvamVjdFRvU2lkZWJhciIsInByb2pTaWRlIiwicHJvalRpdGxlIiwiZGlzcGxheVByb2plY3RJbk1haW4iLCJwcm9qRGl2IiwidGFza1NlY1VMIiwicHJvakNoZWNrYm94IiwicHJvak5hbWVTcGFuIiwibWFpbk1vZFByb2pUaXRsZSIsInNsaWNlIiwiYnV0dG9uQ29udCIsImFkZERpdiIsImVkaXREaXYiLCJyZW1vdmVEaXYiLCJhZGRJY29uIiwiSW1hZ2UiLCJlZGl0SWNvbiIsInJlbUljb24iLCJwcm9qIiwiY2hlY2tGb3JUYXNrcyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmaXJzdENoaWxkIiwiYyIsIm1lbnVDb250YWluZXIiLCJtYWluTG9nb0NvbnQiLCJjbG9zZUNvbnRhaW5lciIsImNyZWF0ZVByb2pDb250IiwibWVudUljb24iLCJtYWluTG9nb0ltZyIsImNsb3NlSWNvbiIsImNyZWF0ZVByb2pJY29uIiwic2lkZUJhciIsInRhZ05hbWUiLCJtZW51RXZlbnRMaXN0ZW4iLCJjbG9zZUJ1dHRvbiIsInN1Ym1pdEJ1dHRvbiIsInByb2plY3RQYXJhbSIsInRpdGxlSW5wdXQiLCJkZXNjSW5wdXQiLCJwcm9qZWN0TWFkZSIsImV4dHJhY3REYXRhRm9yUHJvamVjdCIsInByb2plY3RPdmVybGF5U3R1ZmYiXSwic291cmNlUm9vdCI6IiJ9