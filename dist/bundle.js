(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");if(o.length)for(var c=o.length-1;c>-1&&!t;)t=o[c--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"abbfad808c2786a6a2d4.png",n=e.p+"986e98635b18601755cf.png",o=e.p+"177a54134d0bd5aefd06.png",c=e.p+"edb755c23d1ebcf9c7a4.png",i=e.p+"c9c7160b568bb10d504c.png",r=m(".projectSection");function s(e){e.slice(0,7);const t=m(".sidebarProject");let n=document.createElement("span");n.textContent=e,n.classList.add("projectNameSidebar"),t.appendChild(n)}function l(e){d();const t=document.createElement("div"),n=document.createElement("input");n.type="checkbox",n.classList.add("projectCheckbox");const s=document.createElement("span");if(e.title.length>30){let t=e.title.slice(0,31);s.textContent=t+"..."}else s.textContent=e.title;s.classList.add("projectNameMain");const l=document.createElement("div"),a=document.createElement("div"),u=document.createElement("div"),p=document.createElement("div"),m=new Image;m.src=c,m.classList.add("projAdd");const f=new Image;f.src=i,f.classList.add("projEdit");const g=new Image;g.src=o,g.classList.add("projRemove"),a.appendChild(m),u.appendChild(f),p.appendChild(g),l.appendChild(a),l.appendChild(u),l.appendChild(p),l.classList.add("projectOptions"),t.appendChild(n),t.appendChild(s),t.appendChild(l),t.classList.add("project"),r.appendChild(t)}function d(){for(;r.firstChild;)r.removeChild(r.firstChild)}m(".projAdd"),m(".projRemove");const a=document.querySelector(".newProjectOverlay");function u(e){console.log("looking for project in arr");let t=0;for(let n=0;n<p.length;n++)if(t=n,p[n].title==e)return p[n]}let p=[];function m(e){return document.querySelector(e)}class f{constructor(e,t){this.title=e,this.description=t,this.toDos=[]}get title(){return this._title}get description(){return this._description}get toDoList(){return this._toDos}set title(e){this._title=e}set description(e){this._description=e}}const g=document.querySelector(".newProjectOverlay");function h(){document.getElementById("title").value="",document.getElementById("description").value=""}!function(){const e=document.querySelector(".menuContainer"),i=document.querySelector(".mainLogo"),r=document.querySelector(".menuClose"),s=document.querySelector(".createProj"),d=new Image;d.src=t,d.classList.add("main-menu-logo");const a=new Image;a.src=n,a.classList.add("main-logo");const p=new Image;p.src=o,p.classList.add("menuClose");const m=new Image;m.src=c,m.classList.add("addProjButton"),e.appendChild(d),i.appendChild(a),r.appendChild(p),s.appendChild(m);const f=document.querySelector(".sidebar-menu"),g=document.querySelector(".newProjectOverlay");e.addEventListener("click",(function(){f.style.animation="menuSlideOn 1.5s forwards"})),r.addEventListener("click",(function(){f.style.animation="menuSlideClose 1.5s forwards"})),s.addEventListener("click",(function(){console.log("create project button clicked!!"),f.style.animation="menuSlideClose 1.5s forwards",g.style.animation="projectSlideDown 1.5s forwards"})),f.addEventListener("click",(e=>{"SPAN"===e.target.tagName&&(console.log("the following is e.target.value"),console.log(e.target.textContent),l(u(e.target.textContent)))}))}(),function(){const e=document.querySelector(".closeButton"),t=document.querySelector(".submitButton");e.addEventListener("click",(function(){g.style.animation="projectSlideUp 1.5s forwards",h()})),t.addEventListener("click",(function(){console.log("submit button clicked"),g.style.animation="projectSlideUp 1.5s forwards";const e=function(){const e=document.getElementById("title").value;let t=document.getElementById("description").value;if(e){console.log("detected title");const n=new f(e,t);return p.push(n),console.log(p[p.length-1].title),console.log(p[p.length-1].description),n}return console.log("Need a title to create a project!"),void function(){const e=document.querySelector(".errorProjectOverlay");e.style.animation="projectSlideDown 1.5s forwards",setTimeout((function(){e.style.animation="projectSlideUp 1.5s forwards"}),2500),h(),g.style.animation="projectSlideDown 1.5s forwards"}()}();e&&(console.log("project obj returned successfully"),s(e.title),l(e),document.addEventListener("click",(function(e){console.log("in projEditButton eventListener");const t=e.target.closest(".projEdit"),n=e.target.closest(".projRemove"),o=m(".projectNameMain");var c;t?(c=o.textContent,a.style.animation="projectSlideDown 1.5s forwards",m("#title").value=c,u(o)):n&&(function(e){const t=m(".sidebarProject"),n=t.children;for(let o=0;o<n.length;o++)n[o].textContent==e&&t.removeChild(n[o])}(o.textContent),function(e){for(let t=0;t<p.length;t++)p[t].title==e&&p.splice(t,1)}(o.textContent),d())}))),h()}))}(),l({title:"defaultProject",description:"This is a default project. You can also create your own :)"}),s("defaultProject"),p[0]={title:"defaultProject",description:"This is a default project. You can also create your own :)"}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ekYsR0FBR1ksYUFBZTJFLEdBQ3JDQyxFQUFZdEQsWUFBWXVELEVBQW9CekYsR0FHeEQsQ0FqQlkyRixDQUFrQkwsRUFBVTFFLGFBbUJ4QyxTQUF1QjJFLEdBQ25CLElBQUksSUFBSXZGLEVBQUksRUFBR0EsRUFBSXlDLEVBQVExQyxPQUFRQyxJQUM1QnlDLEVBQVF6QyxHQUFHdUIsT0FBU2dFLEdBQ25COUMsRUFBUW1ELE9BQU81RixFQUFHLEVBRzlCLENBeEJZNkYsQ0FBY1AsRUFBVTFFLGFBQ3hCTSxJQUlSLEtHQUlvQyxHQUNKLEdBQ0osQ0N6QkF3QyxHQUNBOUUsRUFBcUIsQ0FBQ08sTUFBTyxpQkFBa0JzQixZQUFhLCtEQUM1RHZDLEVBQW9CLGtCQUNwQm1DLEVBQVEsR0FBSyxDQUFDbEIsTUFBTyxpQkFBa0JzQixZQUFhLDZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL29kaW50b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdERPTS5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEV2ZW50TGlzdGVuZXJzLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9tZW51RXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RDbGFzcy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEZvcm0uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImltcG9ydCBSZW1vdmUgZnJvbSAnLi4vc3JjL2ltZ3MvY2xvc2UucG5nJztcbmltcG9ydCBDcmVhdGUgZnJvbSAnLi4vc3JjL2ltZ3MvYWRkLnBuZyc7XG5pbXBvcnQgRWRpdCBmcm9tICcuLi9zcmMvaW1ncy9lZGl0LnBuZyc7XG5pbXBvcnQgeyBkcXMgfSBmcm9tICcuL21lbnVFdmVudExpc3RlbmVycyc7XG5cbmNvbnN0IG1haW5TZWMgPSBkcXMoXCIucHJvamVjdFNlY3Rpb25cIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RUaXRsZSl7XG4gICAgbGV0IG5ld1Byb2pUaXRsZSA9IHByb2plY3RUaXRsZS5zbGljZSgwLDcpO1xuICAgIGNvbnN0IHByb2pTaWRlID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGxldCBwcm9qVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgcHJvalRpdGxlLnRleHRDb250ZW50ID0gcHJvamVjdFRpdGxlO1xuICAgIHByb2pUaXRsZS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0TmFtZVNpZGViYXInKTtcbiAgICBwcm9qU2lkZS5hcHBlbmRDaGlsZChwcm9qVGl0bGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVByb2plY3RJbk1haW4ocHJvamVjdCl7XG4gICAgY2xlYXJNYWluKCk7XG4gICAgY29uc3QgcHJvakRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgXG4gICAgY29uc3QgcHJvakNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBwcm9qQ2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICBwcm9qQ2hlY2tib3guY2xhc3NMaXN0LmFkZChcInByb2plY3RDaGVja2JveFwiKTtcblxuICAgIFxuICAgIGNvbnN0IHByb2pOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBpZihwcm9qZWN0LnRpdGxlLmxlbmd0aCA+IDMwKXtcbiAgICAgICAgbGV0IG1haW5Nb2RQcm9qVGl0bGUgPSBwcm9qZWN0LnRpdGxlLnNsaWNlKDAsMzEpO1xuICAgICAgICBwcm9qTmFtZVNwYW4udGV4dENvbnRlbnQgPSBtYWluTW9kUHJvalRpdGxlICsgXCIuLi5cIjtcbiAgICB9ZWxzZXtcbiAgICAgICAgcHJvak5hbWVTcGFuLnRleHRDb250ZW50ID0gcHJvamVjdC50aXRsZTtcbiAgICB9XG4gICAgcHJvak5hbWVTcGFuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0TmFtZU1haW5cIik7XG5cbiAgICBcbiAgICBjb25zdCBidXR0b25Db250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG4gICAgY29uc3QgYWRkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgZWRpdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHJlbW92ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgYWRkSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGFkZEljb24uc3JjID0gQ3JlYXRlO1xuICAgIGFkZEljb24uY2xhc3NMaXN0LmFkZCgncHJvakFkZCcpO1xuXG4gICAgY29uc3QgZWRpdEljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBlZGl0SWNvbi5zcmMgPSBFZGl0O1xuICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2pFZGl0Jyk7XG5cbiAgICBjb25zdCByZW1JY29uID0gbmV3IEltYWdlKCk7XG4gICAgcmVtSWNvbi5zcmMgPSBSZW1vdmU7XG4gICAgcmVtSWNvbi5jbGFzc0xpc3QuYWRkKCdwcm9qUmVtb3ZlJyk7XG5cbiAgICBhZGREaXYuYXBwZW5kQ2hpbGQoYWRkSWNvbik7XG4gICAgZWRpdERpdi5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG4gICAgcmVtb3ZlRGl2LmFwcGVuZENoaWxkKHJlbUljb24pO1xuICAgIFxuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQoYWRkRGl2KTtcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKGVkaXREaXYpO1xuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQocmVtb3ZlRGl2KTtcbiAgICBidXR0b25Db250LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0T3B0aW9uc1wiKTtcblxuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQocHJvakNoZWNrYm94KTtcbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKHByb2pOYW1lU3Bhbik7XG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChidXR0b25Db250KTtcbiAgICBwcm9qRGl2LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xuXG4gICAgbWFpblNlYy5hcHBlbmRDaGlsZChwcm9qRGl2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTWFpbigpe1xuICAgIHdoaWxlKG1haW5TZWMuZmlyc3RDaGlsZCl7XG4gICAgICAgIG1haW5TZWMucmVtb3ZlQ2hpbGQobWFpblNlYy5maXJzdENoaWxkKVxuICAgIH1cbn0iLCJpbXBvcnQgeyBkcXMgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGNsZWFyTWFpbiB9IGZyb20gXCIuL3Byb2plY3RET01cIjtcbi8vaW1wb3J0IHsgcHJvak92ZXJsYXkgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcblxuY29uc3QgcHJvalRhc2tBZGQgPSBkcXMoXCIucHJvakFkZFwiKTtcbmNvbnN0IHByb2pSZW1CdXR0b24gPSBkcXMoXCIucHJvalJlbW92ZVwiKTtcbmNvbnN0IHByb2pPdmVybGF5MSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0RUxpc3RlbmVycygpe1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIC8vZ28gdGhyb3VoZyBhcnJheSBjb21wYXJpbmcgdGl0bGVcbiAgICAgICAgLy93aGVuIGZvdW5kIGZpbGwgcHJvamVjdEZvcm0gYW5kIGRyb3AgZm9ybSBkb3duIGZvciB1c2VyXG4gICAgICAgIC8vaWYgc3VibWl0IHRoZW4gcmVwbGFjZSBpbmZvIHdpdGggbmV3IGluZm9cbiAgICAgICAgLy9lbHNlIGlmIGNhbmNlbCB0aGVuIGxlYXZlIHByb2plY3QgYXMgaXQgd2FzXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW4gcHJvakVkaXRCdXR0b24gZXZlbnRMaXN0ZW5lclwiKTtcbiAgICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIucHJvakVkaXRcIik7XG4gICAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIucHJvalJlbW92ZVwiKTtcbiAgICAgICAgY29uc3QgY3VyclRpdGxlID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcbiAgICAgICAgaWYoZWRpdEJ1dHRvbil7Ly90aGlzIHdpbGwgYmUgZG9uZSBvbmNlICdyZW1vdmUnIGlzIGNvbXBsZXRlZFxuICAgICAgICAgICAgZWRpdEZvcm0oY3VyclRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kUHJvaiA9IGZpbmRQcm9qZWN0SW5BcnIoY3VyclRpdGxlKTsvL3RoaXMgd2lsbCBiZSBsZWZ0IHRpbGwgdGhlIGVuZFxuICAgICAgICB9ZWxzZSBpZihyZW1vdmVCdXR0b24pe1xuICAgICAgICAgICAgLy9jb25zdCBjdXJyVGl0bGUgPSBkcXMoXCIucHJvamVjdE5hbWVNYWluXCIpO1xuICAgICAgICAgICAgcmVtb3ZlUHJvamVjdFNpZGUoY3VyclRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIHJlbW92ZVByb2pBcnIoY3VyclRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIGNsZWFyTWFpbigpO1xuICAgICAgICAgICAgLy9jb25zdCBzaWRlQmFyID0gZHFzKFwiLnNpZGViYXItbWVudVwiKTtcbiAgICAgICAgICAgIC8vc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlT24gMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIH1cbiAgICB9KVxufTtcblxuZnVuY3Rpb24gcmVtb3ZlUHJvamVjdFNpZGUocHJvak5hbWUpe1xuICAgIGNvbnN0IHNpZGViYXJQcm9qID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGNvbnN0IHNpZGViYXJQcm9qQ2hpbGRyZW4gPSBzaWRlYmFyUHJvai5jaGlsZHJlbjtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgc2lkZWJhclByb2pDaGlsZHJlbi5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKHNpZGViYXJQcm9qQ2hpbGRyZW5baV0udGV4dENvbnRlbnQgPT0gcHJvak5hbWUpe1xuICAgICAgICAgICAgc2lkZWJhclByb2oucmVtb3ZlQ2hpbGQoc2lkZWJhclByb2pDaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByb2pBcnIocHJvak5hbWUpe1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaWYocHJvakFycltpXS50aXRsZSA9PSBwcm9qTmFtZSl7XG4gICAgICAgICAgICBwcm9qQXJyLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZWRpdEZvcm0ocHJvamVjdFRpdGxlKXtcbiAgICBwcm9qT3ZlcmxheTEuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgY29uc3QgdGl0bGVJbiA9IGRxcyhcIiN0aXRsZVwiKTtcbiAgICB0aXRsZUluLnZhbHVlID0gcHJvamVjdFRpdGxlO1xuXG4gICAgLy9hZGQgZXZlbnRMaXN0ZW5lciBmb3Igc3VibWl0IGFuZCBjYW5jZWwgYnV0dG9ucyBvbiBwcm9qZWN0IGZvcm1cbiAgICAvL2hvcGVmdWxseSB0aGV5IHdpbGwgZG8gc29tZXRoaW5nIGRpZmZlcmVudD8/P1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRQcm9qZWN0SW5BcnIodGl0bGUpey8vTUlHSFQgTk9UIE5FRUQgVEhJUyBNSUdIVCBOT1QgTkVFRCBUSElTIE1JR0hUIE5PVCBORUVEIFRISVNcbiAgICBjb25zb2xlLmxvZyhcImxvb2tpbmcgZm9yIHByb2plY3QgaW4gYXJyXCIpXG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvakFyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgaWYocHJvakFycltpXS50aXRsZSA9PSB0aXRsZSl7XG4gICAgICAgICAgICByZXR1cm4gcHJvakFycltpXTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgTWVudSBmcm9tICcuLi9zcmMvaW1ncy9tZW51LnBuZydcbmltcG9ydCBCcmFuZCBmcm9tICcuLi9zcmMvaW1ncy9Xb3JrZXJBbnRzTW9kLnBuZyc7XG5pbXBvcnQgQ2xvc2UgZnJvbSAnLi4vc3JjL2ltZ3MvY2xvc2UucG5nJztcbmltcG9ydCBDcmVhdGUgZnJvbSAnLi4vc3JjL2ltZ3MvYWRkLnBuZyc7XG5pbXBvcnQgeyBkaXNwbGF5UHJvamVjdEluTWFpbiB9IGZyb20gJy4vcHJvamVjdERPTSc7XG5pbXBvcnQgeyBmaW5kUHJvamVjdEluQXJyIH0gZnJvbSAnLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnMnO1xuLy9JIE5FRUQgVE8gQUREIEEgR0xPQkFMIFZBUklBQkxFIEFSUkFZIFRIQVQgU1RPUkVTIEFMTCBUSEUgUFJPSkVDVFMgSEVSRVxuZXhwb3J0IGxldCBwcm9qQXJyID0gW107XG5cbmV4cG9ydCBmdW5jdGlvbiBkcXMoYyl7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZW51RXZlbnRMaXN0ZW4oKXtcbiAgICBjb25zdCBtZW51Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51Q29udGFpbmVyXCIpO1xuICAgIGNvbnN0IG1haW5Mb2dvQ29udCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbkxvZ29cIik7XG4gICAgY29uc3QgY2xvc2VDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVDbG9zZVwiKTtcbiAgICBjb25zdCBjcmVhdGVQcm9qQ29udCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3JlYXRlUHJvalwiKTtcbiAgICBcbiAgICBjb25zdCBtZW51SWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIG1lbnVJY29uLnNyYyA9IE1lbnU7XG4gICAgbWVudUljb24uY2xhc3NMaXN0LmFkZCgnbWFpbi1tZW51LWxvZ28nKTtcblxuICAgIGNvbnN0IG1haW5Mb2dvSW1nID0gbmV3IEltYWdlKCk7XG4gICAgbWFpbkxvZ29JbWcuc3JjID0gQnJhbmQ7XG4gICAgbWFpbkxvZ29JbWcuY2xhc3NMaXN0LmFkZCgnbWFpbi1sb2dvJyk7XG5cbiAgICBjb25zdCBjbG9zZUljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBjbG9zZUljb24uc3JjID0gQ2xvc2U7XG4gICAgY2xvc2VJY29uLmNsYXNzTGlzdC5hZGQoJ21lbnVDbG9zZScpO1xuXG4gICAgY29uc3QgY3JlYXRlUHJvakljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBjcmVhdGVQcm9qSWNvbi5zcmMgPSBDcmVhdGU7XG4gICAgY3JlYXRlUHJvakljb24uY2xhc3NMaXN0LmFkZCgnYWRkUHJvakJ1dHRvbicpO1xuXG4gICAgbWVudUNvbnRhaW5lci5hcHBlbmRDaGlsZChtZW51SWNvbik7XG4gICAgbWFpbkxvZ29Db250LmFwcGVuZENoaWxkKG1haW5Mb2dvSW1nKTtcbiAgICBjbG9zZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9zZUljb24pO1xuICAgIGNyZWF0ZVByb2pDb250LmFwcGVuZENoaWxkKGNyZWF0ZVByb2pJY29uKTtcblxuICAgIGNvbnN0IHNpZGVCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXItbWVudVwiKTtcbiAgICBjb25zdCBwcm9qT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbiAgICBtZW51Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlT24gMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgY2xvc2VDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBzaWRlQmFyLnN0eWxlLmFuaW1hdGlvbiA9ICdtZW51U2xpZGVDbG9zZSAxLjVzIGZvcndhcmRzJztcbiAgICB9KTtcbiAgICBjcmVhdGVQcm9qQ29udC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRlIHByb2plY3QgYnV0dG9uIGNsaWNrZWQhIVwiKTtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlQ2xvc2UgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIHNpZGVCYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZihlLnRhcmdldC50YWdOYW1lID09PSAnU1BBTicpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGUgZm9sbG93aW5nIGlzIGUudGFyZ2V0LnZhbHVlXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZS50YXJnZXQudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3QgZGlzcFByb2ogPSBmaW5kUHJvamVjdEluQXJyKGUudGFyZ2V0LnRleHRDb250ZW50KVxuICAgICAgICAgICAgZGlzcGxheVByb2plY3RJbk1haW4oZGlzcFByb2opO1xuICAgICAgICB9XG4gICAgfSk7XG59IiwiZXhwb3J0IGNsYXNzIFByb2plY3R7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uKXtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMudG9Eb3MgPSBbXTtcbiAgICB9XG4gICAgZ2V0IHRpdGxlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgZ2V0IHRvRG9MaXN0KCl7Ly9nZXQgYXJyYXkgdGhlbiBwdXNoIGEgdG9Eb1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9Eb3M7XG4gICAgfVxuXG4gICAgc2V0IHRpdGxlKG5ld1RpdGxlKXtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBuZXdUaXRsZTtcbiAgICB9XG4gICAgc2V0IGRlc2NyaXB0aW9uKG5ld0Rlc2Mpe1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IG5ld0Rlc2M7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RDbGFzc1wiO1xuaW1wb3J0IHsgcHJvakFyciB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgYWRkUHJvamVjdFRvU2lkZWJhciB9IGZyb20gXCIuL3Byb2plY3RET01cIjtcbmltcG9ydCB7IGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgcHJvamVjdEVMaXN0ZW5lcnMgfSBmcm9tIFwiLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnNcIjtcblxuY29uc3QgcHJvak92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdE92ZXJsYXlTdHVmZigpe1xuICAgIC8vY29uc3QgcHJvak92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG4gICAgLy9idXR0b25zXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlQnV0dG9uXCIpO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0QnV0dG9uXCIpO1xuXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSAncHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIHByb2plY3RGb3JtQ2xlYXIoKTtcbiAgICB9KVxuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3VibWl0IGJ1dHRvbiBjbGlja2VkXCIpO1xuICAgICAgICBwcm9qT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSAncHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIGNvbnN0IHByb2plY3RQYXJhbSA9IGV4dHJhY3REYXRhRm9yUHJvamVjdCgpO1xuICAgICAgICAvL2NyZWF0ZVByb2plY3RET00ocHJvamVjdFBhcmFtKTsvL3RoaXMgd2lsbCBiZSBpbiBwcm9qZWN0RE9NLmpzIGZpbGVcbiAgICAgICAgaWYocHJvamVjdFBhcmFtKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvamVjdCBvYmogcmV0dXJuZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgYWRkUHJvamVjdFRvU2lkZWJhcihwcm9qZWN0UGFyYW0udGl0bGUpLy90aGlzIHdpbGwgYmUgaW4gcHJvamVjdERPTS5qcyBmaWxlXG4gICAgICAgICAgICBkaXNwbGF5UHJvamVjdEluTWFpbihwcm9qZWN0UGFyYW0pO1xuICAgICAgICAgICAgcHJvamVjdEVMaXN0ZW5lcnMoKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZXh0cmFjdERhdGFGb3JQcm9qZWN0KCl7XG4gICAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWVcbiAgICBsZXQgZGVzY0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcblxuICAgIGlmKHRpdGxlSW5wdXQpe1xuICAgICAgICBjb25zb2xlLmxvZyhcImRldGVjdGVkIHRpdGxlXCIpOy8vZGVidWdnaW5nXG4gICAgICAgIGNvbnN0IHByb2plY3RNYWRlID0gbmV3IFByb2plY3QodGl0bGVJbnB1dCwgZGVzY0lucHV0KTtcbiAgICAgICAgcHJvakFyci5wdXNoKHByb2plY3RNYWRlKTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvakFyclsocHJvakFyci5sZW5ndGgpLTFdLnRpdGxlKTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvakFyclsocHJvakFyci5sZW5ndGgpLTFdLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RNYWRlO1xuICAgIH1lbHNle1xuICAgICAgICBjb25zb2xlLmxvZyhcIk5lZWQgYSB0aXRsZSB0byBjcmVhdGUgYSBwcm9qZWN0IVwiKTsvL2RlYnVnZ2luZ1xuICAgICAgICBkaXNwbGF5TmVlZFRpdGxlKCk7Ly8gQ0FOIElOU0VSVCBET00gTUFOSVBVTEFUSU9OIFRPIFNISUZUIERPV04gVEhFIEVSUk9SIE9WRVJMQVkgOilcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzcGxheU5lZWRUaXRsZSgpe1xuICAgIGNvbnN0IGVycm9yT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3JQcm9qZWN0T3ZlcmxheVwiKTtcbiAgICBlcnJvck92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHNcIlxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgZXJyb3JPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlVXAgMS41cyBmb3J3YXJkc1wiXG4gICAgfSwgMjUwMCk7XG4gICAgcHJvamVjdEZvcm1DbGVhcigpO1xuICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlRG93biAxLjVzIGZvcndhcmRzXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0Rm9ybUNsZWFyKCl7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG59IiwiaW1wb3J0IHsgbWVudUV2ZW50TGlzdGVuLCBwcm9qQXJyIH0gZnJvbSBcIi4vbWVudUV2ZW50TGlzdGVuZXJzXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0VG9TaWRlYmFyLCBkaXNwbGF5UHJvamVjdEluTWFpbiB9IGZyb20gXCIuL3Byb2plY3RET01cIjtcbmltcG9ydCB7IHByb2plY3RPdmVybGF5U3R1ZmYgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xuLy9pbXBvcnQgeyBwcm9qZWN0RUxpc3RlbmVycyB9IGZyb20gXCIuL3Byb2plY3RFdmVudExpc3RlbmVyc1wiO1xuLy8gaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RDbGFzc1wiO1xuLy8gaW1wb3J0IHsgY3JlYXRlUHJvamVjdEZyb21EYXRhIH0gZnJvbSBcIi4vcHJvamVjdEZvcm1cIjtcbm1lbnVFdmVudExpc3RlbigpO1xucHJvamVjdE92ZXJsYXlTdHVmZigpO1xuZGlzcGxheVByb2plY3RJbk1haW4oe3RpdGxlOiBcImRlZmF1bHRQcm9qZWN0XCIsIGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBkZWZhdWx0IHByb2plY3QuIFlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gOilcIn0pO1xuYWRkUHJvamVjdFRvU2lkZWJhcihcImRlZmF1bHRQcm9qZWN0XCIpO1xucHJvakFyclswXSA9IHt0aXRsZTogXCJkZWZhdWx0UHJvamVjdFwiLCBkZXNjcmlwdGlvbjogXCJUaGlzIGlzIGEgZGVmYXVsdCBwcm9qZWN0LiBZb3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIDopXCJ9O1xuLy9wcm9qZWN0RUxpc3RlbmVycygpO1xuLy8gbGV0IHByb2oxID0gbmV3IFByb2plY3QoXCJjYXJsb3NCcnVoXCIsIFwiYXBpdWZcIik7XG4vLyBjb25zb2xlLmxvZyhwcm9qMS5uYW1lKTtcbi8vIGNvbnNvbGUubG9nKHByb2oxLmRlc2NyaXB0aW9uKTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImkiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwibWFpblNlYyIsImRxcyIsImFkZFByb2plY3RUb1NpZGViYXIiLCJwcm9qZWN0VGl0bGUiLCJzbGljZSIsInByb2pTaWRlIiwicHJvalRpdGxlIiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5UHJvamVjdEluTWFpbiIsInByb2plY3QiLCJjbGVhck1haW4iLCJwcm9qRGl2IiwicHJvakNoZWNrYm94IiwidHlwZSIsInByb2pOYW1lU3BhbiIsInRpdGxlIiwibWFpbk1vZFByb2pUaXRsZSIsImJ1dHRvbkNvbnQiLCJhZGREaXYiLCJlZGl0RGl2IiwicmVtb3ZlRGl2IiwiYWRkSWNvbiIsIkltYWdlIiwiZWRpdEljb24iLCJyZW1JY29uIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwicHJvak92ZXJsYXkxIiwicXVlcnlTZWxlY3RvciIsImZpbmRQcm9qZWN0SW5BcnIiLCJjb25zb2xlIiwibG9nIiwiaW5kZXgiLCJwcm9qQXJyIiwiYyIsIlByb2plY3QiLCJjb25zdHJ1Y3RvciIsImRlc2NyaXB0aW9uIiwidG9Eb3MiLCJfdGl0bGUiLCJfZGVzY3JpcHRpb24iLCJ0b0RvTGlzdCIsIl90b0RvcyIsIm5ld1RpdGxlIiwibmV3RGVzYyIsInByb2pPdmVybGF5IiwicHJvamVjdEZvcm1DbGVhciIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJtZW51Q29udGFpbmVyIiwibWFpbkxvZ29Db250IiwiY2xvc2VDb250YWluZXIiLCJjcmVhdGVQcm9qQ29udCIsIm1lbnVJY29uIiwibWFpbkxvZ29JbWciLCJjbG9zZUljb24iLCJjcmVhdGVQcm9qSWNvbiIsInNpZGVCYXIiLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJhbmltYXRpb24iLCJ0YXJnZXQiLCJ0YWdOYW1lIiwibWVudUV2ZW50TGlzdGVuIiwiY2xvc2VCdXR0b24iLCJzdWJtaXRCdXR0b24iLCJwcm9qZWN0UGFyYW0iLCJ0aXRsZUlucHV0IiwiZGVzY0lucHV0IiwicHJvamVjdE1hZGUiLCJwdXNoIiwiZXJyb3JPdmVybGF5Iiwic2V0VGltZW91dCIsImRpc3BsYXlOZWVkVGl0bGUiLCJleHRyYWN0RGF0YUZvclByb2plY3QiLCJlZGl0QnV0dG9uIiwiY2xvc2VzdCIsInJlbW92ZUJ1dHRvbiIsImN1cnJUaXRsZSIsInByb2pOYW1lIiwic2lkZWJhclByb2oiLCJzaWRlYmFyUHJvakNoaWxkcmVuIiwiY2hpbGRyZW4iLCJyZW1vdmVQcm9qZWN0U2lkZSIsInNwbGljZSIsInJlbW92ZVByb2pBcnIiLCJwcm9qZWN0T3ZlcmxheVN0dWZmIl0sInNvdXJjZVJvb3QiOiIifQ==