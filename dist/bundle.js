(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&!e;)e=o[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"abbfad808c2786a6a2d4.png",n=t.p+"986e98635b18601755cf.png",o=t.p+"177a54134d0bd5aefd06.png",i=t.p+"edb755c23d1ebcf9c7a4.png",c=t.p+"c9c7160b568bb10d504c.png";class s{constructor(t,e,n,o,i){this.tTitle=t,this.tDesc=e,this.tDue=n,this.tPrio=o,this.tProj=i}set tTitle(t){this._tTitle=t}set tDesc(t){this._tDesc=t}set tDue(t){this._tDue=t}set tPrio(t){this._tPrio=t}set tProj(t){this._tProj=t}get tTitle(){return this._tTitle}get tDesc(){return this._tDesc}get tDue(){return this._tDue}get tPrio(){return this._tPrio}get tProj(){return this._tProj}}class r{constructor(t,e){this.title=t,this.description=e,this.toDos=[]}newTask(t,e,n,o,i){let c=new s(t,e,n,o,i);return this.toDos.push(c),c}get numOfTasks(){return this._toDos.length}get title(){return this._title}get description(){return this._description}get toDoList(){return this._toDos}set title(t){this._title=t}set description(t){this._description=t}}const l=document.querySelector(".newProjectOverlay");function a(){const t=document.querySelector(".errorProjectOverlay");t.style.animation="projectSlideDown 1.5s forwards",setTimeout((function(){t.style.animation="projectSlideUp 1.5s forwards"}),2500)}function d(){document.getElementById("title").value="",document.getElementById("description").value=""}function u(t){const e=document.querySelector(".todoUL"),n=document.createElement("li"),o=document.createElement("input");o.type="checkbox";const i=document.createElement("input");i.type="date",n.textContent=t.tTitle+"  "+t.tDue,n.appendChild(i),n.appendChild(o),n.classList.add("todo"),e.appendChild(n)}const m=D(".newTaskOverlay"),p=D(".taskCloseButton"),h=D(".taskSubmitButton");function f(){m.style.animation="projectSlideUp 1.5s forwards";const t=function(t){const e=document.getElementById("tTitle").value,n=document.getElementById("tDescription").value,o=document.getElementById("tDueDate").value,i=document.getElementById("tTaskPrio").value,c=D(".projectNameMain").textContent;console.log(c);const s=w(c);if(e&&o){console.log("hereiam");const t=s.newTask(e,n,o,i,s.title);return g(),t}return a(),g(),void(m.style.animation="projectSlideDown 1.5s forwards")}();t&&u(t),g(),h.removeEventListener("click",f)}function g(){document.getElementById("tTitle").value="",document.getElementById("tDescription").value="",document.getElementById("tDueDate").value="",document.getElementById("tTaskPrio").value="Select One"}const y=document.querySelector(".newProjectOverlay");var v=function(t){const e=t.target.matches(".projEdit"),n=t.target.matches(".projRemove"),o=t.target.matches(".projAdd"),i=D(".projectNameMain");if(e){console.log("editButton clicked"),c=i.textContent,y.style.animation="projectSlideDown 1.5s forwards",D("#title").value=c;for(let t=0;t<L.length;t++)console.log(t+1+" "+L[t].title)}else if(n){console.log("removeButton clicked"),function(t){const e=D(".sidebarProject"),n=e.children;for(let o=0;o<n.length;o++)n[o].textContent==t&&e.removeChild(n[o])}(i.textContent),function(t){for(let e=0;e<L.length;e++)L[e].title==t&&L.splice(e,1)}(i.textContent),S();for(let t=0;t<L.length;t++)console.log(t+1+" "+L[t].title)}else o&&(m.style.animation="projectSlideDown 1.5s forwards",p.addEventListener("click",(function(){g(),m.style.animation="projectSlideUp 1.5s forwards"})),h.addEventListener("click",f()));var c};function w(t){let e=0;for(let n=0;n<L.length;n++)if(e=n,L[n].title==t)return L[n]}const j=D(".projectSection");function C(t){const e=D(".sidebarProject");let n=document.createElement("span");n.textContent=t,n.classList.add("projectNameSidebar"),e.appendChild(n)}function E(t){S();const e=document.createElement("div"),n=document.createElement("ul");n.classList.add("todoUL");const s=document.createElement("input");s.type="checkbox",s.classList.add("projectCheckbox");const r=document.createElement("span");if(t.title.length>30){let e=t.title.slice(0,31);r.textContent=e+"..."}else r.textContent=t.title;r.classList.add("projectNameMain");const l=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),m=document.createElement("div"),p=new Image;p.src=i,p.classList.add("projAdd");const h=new Image;h.src=c,h.classList.add("projEdit");const f=new Image;f.src=o,f.classList.add("projRemove"),a.appendChild(p),d.appendChild(h),m.appendChild(f),l.appendChild(a),l.appendChild(d),l.appendChild(m),l.classList.add("projectOptions"),e.appendChild(s),e.appendChild(r),e.appendChild(l),e.classList.add("project"),j.appendChild(e),j.appendChild(n),function(t){const e=0;for(;t.toDoList;)u(t.toDoList[e]),e++}(t),document.addEventListener("click",v),console.log("this console log is after the projectElisteners it looks like its working??")}function S(){for(document.removeEventListener("click",v);j.firstChild;)j.removeChild(j.firstChild)}let L=[];function D(t){return document.querySelector(t)}!function(){const t=document.querySelector(".menuContainer"),c=document.querySelector(".mainLogo"),s=document.querySelector(".menuClose"),r=document.querySelector(".createProj"),l=new Image;l.src=e,l.classList.add("main-menu-logo");const a=new Image;a.src=n,a.classList.add("main-logo");const d=new Image;d.src=o,d.classList.add("menuClose");const u=new Image;u.src=i,u.classList.add("addProjButton"),t.appendChild(l),c.appendChild(a),s.appendChild(d),r.appendChild(u);const m=document.querySelector(".sidebar-menu"),p=document.querySelector(".newProjectOverlay");t.addEventListener("click",(function(){m.style.animation="menuSlideOn 1.5s forwards"})),s.addEventListener("click",(function(){m.style.animation="menuSlideClose 1.5s forwards"})),r.addEventListener("click",(function(){m.style.animation="menuSlideClose 1.5s forwards",p.style.animation="projectSlideDown 1.5s forwards"})),m.addEventListener("click",(t=>{"SPAN"===t.target.tagName&&(console.log("the following is e.target.value"),console.log(t.target.textContent),E(w(t.target.textContent)))}))}(),function(){const t=document.querySelector(".closeButton"),e=document.querySelector(".submitButton");t.addEventListener("click",(function(){l.style.animation="projectSlideUp 1.5s forwards",d()})),e.addEventListener("click",(function(){l.style.animation="projectSlideUp 1.5s forwards";const t=function(){const t=document.getElementById("title").value;let e=document.getElementById("description").value;if(t){const n=new r(t,e);return L.push(n),n}return a(),d(),void(l.style.animation="projectSlideDown 1.5s forwards")}();if(t){C(t.title),E(t);for(let t=0;t<L.length;t++)console.log(t+1+" "+L[t].title)}d()}))}(),E({title:"defaultProject",description:"This is a default project. You can also create your own :)"}),C("defaultProject"),L[0]={title:"defaultProject",description:"This is a default project. You can also create your own :)"}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQWEsNkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGludG9kb2xpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy90YXNrQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RDbGFzcy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvcHJvamVjdEZvcm0uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Rhc2tET00uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Rhc2tGb3JtLmpzIiwid2VicGFjazovL29kaW50b2RvbGlzdC8uL3NyYy9wcm9qZWN0RXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL3Byb2plY3RET00uanMiLCJ3ZWJwYWNrOi8vb2RpbnRvZG9saXN0Ly4vc3JjL21lbnVFdmVudExpc3RlbmVycy5qcyIsIndlYnBhY2s6Ly9vZGludG9kb2xpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAhc2NyaXB0VXJsKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiZXhwb3J0IGNsYXNzIFRhc2t7XG4gICAgY29uc3RydWN0b3IodFRpdGxlLCB0RGVzYywgdER1ZSwgdFByaW8sIHRQcm9qKXtcbiAgICAgICAgdGhpcy50VGl0bGUgPSB0VGl0bGU7XG4gICAgICAgIHRoaXMudERlc2MgPSB0RGVzYztcbiAgICAgICAgdGhpcy50RHVlID0gdER1ZTtcbiAgICAgICAgdGhpcy50UHJpbyA9IHRQcmlvO1xuICAgICAgICB0aGlzLnRQcm9qID0gdFByb2o7XG4gICAgfVxuICAgIHNldCB0VGl0bGUobmV3dFRpdGxlKXtcbiAgICAgICAgdGhpcy5fdFRpdGxlID0gbmV3dFRpdGxlO1xuICAgIH1cbiAgICBzZXQgdERlc2MobmV3dERlc2Mpe1xuICAgICAgICB0aGlzLl90RGVzYyA9IG5ld3REZXNjO1xuICAgIH1cbiAgICBzZXQgdER1ZShuZXd0RHVlKXtcbiAgICAgICAgdGhpcy5fdER1ZSA9IG5ld3REdWU7XG4gICAgfVxuICAgIHNldCB0UHJpbyhuZXd0UHJpbyl7XG4gICAgICAgIHRoaXMuX3RQcmlvID0gbmV3dFByaW87XG4gICAgfVxuICAgIHNldCB0UHJvaihuZXd0UHJvail7XG4gICAgICAgIHRoaXMuX3RQcm9qID0gbmV3dFByb2o7XG4gICAgfVxuXG4gICAgZ2V0IHRUaXRsZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdFRpdGxlO1xuICAgIH1cbiAgICBnZXQgdERlc2MoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3REZXNjO1xuICAgIH1cbiAgICBnZXQgdER1ZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5fdER1ZTtcbiAgICB9XG4gICAgZ2V0IHRQcmlvKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90UHJpbztcbiAgICB9XG4gICAgZ2V0IHRQcm9qKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90UHJvajtcbiAgICB9XG59IiwiaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL3Rhc2tDbGFzc1wiO1xuXG5leHBvcnQgY2xhc3MgUHJvamVjdHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24pe1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy50b0RvcyA9IFtdO1xuICAgIH1cbiAgICBuZXdUYXNrKFR0aXRsZSwgVGRlc2MsIFRkdWUsIFRwcmlvLCBUcHJvail7XG4gICAgICAgIGxldCB0ID0gbmV3IFRhc2soVHRpdGxlLCBUZGVzYywgVGR1ZSwgVHByaW8sIFRwcm9qKTtcbiAgICAgICAgdGhpcy50b0Rvcy5wdXNoKHQpOy8vcGxhY2VkIHVuZGVyc2NvcmVcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuXG4gICAgZ2V0IG51bU9mVGFza3MoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvRG9zLmxlbmd0aDsvL3BsYWNlZCB1bmRlcnNjb3JlXG4gICAgfVxuXG4gICAgZ2V0IHRpdGxlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgZ2V0IHRvRG9MaXN0KCl7Ly9nZXQgYXJyYXkgdGhlbiBwdXNoIGEgdG9Eb1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9Eb3M7XG4gICAgfVxuXG4gICAgc2V0IHRpdGxlKG5ld1RpdGxlKXtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBuZXdUaXRsZTtcbiAgICB9XG4gICAgc2V0IGRlc2NyaXB0aW9uKG5ld0Rlc2Mpe1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IG5ld0Rlc2M7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RDbGFzc1wiO1xuaW1wb3J0IHsgcHJvakFyciB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgYWRkUHJvamVjdFRvU2lkZWJhciB9IGZyb20gXCIuL3Byb2plY3RET01cIjtcbmltcG9ydCB7IGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuLy9pbXBvcnQgeyBwcm9qZWN0RUxpc3RlbmVycyB9IGZyb20gXCIuL3Byb2plY3RFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgX3Rlc3RlcmluZyB9IGZyb20gXCIuL3Byb2plY3RFdmVudExpc3RlbmVyc1wiO1xuXG5jb25zdCBwcm9qT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0T3ZlcmxheVN0dWZmKCl7XG4gICAgLy9jb25zdCBwcm9qT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3UHJvamVjdE92ZXJsYXlcIik7XG5cbiAgICAvL2J1dHRvbnNcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2VCdXR0b25cIik7XG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXRCdXR0b25cIik7XG5cbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzJztcbiAgICAgICAgcHJvamVjdEZvcm1DbGVhcigpO1xuICAgIH0pXG4gICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInN1Ym1pdCBidXR0b24gY2xpY2tlZFwiKTtcbiAgICAgICAgcHJvak92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHMnO1xuICAgICAgICBjb25zdCBwcm9qZWN0UGFyYW0gPSBleHRyYWN0RGF0YUZvclByb2plY3QoKTtcbiAgICAgICAgLy9jcmVhdGVQcm9qZWN0RE9NKHByb2plY3RQYXJhbSk7Ly90aGlzIHdpbGwgYmUgaW4gcHJvamVjdERPTS5qcyBmaWxlXG4gICAgICAgIGlmKHByb2plY3RQYXJhbSl7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicHJvamVjdCBvYmogcmV0dXJuZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgYWRkUHJvamVjdFRvU2lkZWJhcihwcm9qZWN0UGFyYW0udGl0bGUpLy90aGlzIHdpbGwgYmUgaW4gcHJvamVjdERPTS5qcyBmaWxlXG4gICAgICAgICAgICBkaXNwbGF5UHJvamVjdEluTWFpbihwcm9qZWN0UGFyYW0pO1xuICAgICAgICAgICAgLy9wcm9qZWN0RUxpc3RlbmVycygpO1xuICAgICAgICAgICAgZm9yKGxldCBhID0gMDsgYSA8IHByb2pBcnIubGVuZ3RoOyBhKyspe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKChhKzEpKyBcIiBcIisgcHJvakFyclthXS50aXRsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZXh0cmFjdERhdGFGb3JQcm9qZWN0KCl7XG4gICAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWVcbiAgICBsZXQgZGVzY0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcblxuICAgIGlmKHRpdGxlSW5wdXQpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiZGV0ZWN0ZWQgdGl0bGVcIik7Ly9kZWJ1Z2dpbmdcbiAgICAgICAgY29uc3QgcHJvamVjdE1hZGUgPSBuZXcgUHJvamVjdCh0aXRsZUlucHV0LCBkZXNjSW5wdXQpO1xuICAgICAgICBwcm9qQXJyLnB1c2gocHJvamVjdE1hZGUpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKHByb2pBcnJbKHByb2pBcnIubGVuZ3RoKS0xXS50aXRsZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2cocHJvakFyclsocHJvakFyci5sZW5ndGgpLTFdLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RNYWRlO1xuICAgIH1lbHNle1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiTmVlZCBhIHRpdGxlIHRvIGNyZWF0ZSBhIHByb2plY3QhXCIpOy8vZGVidWdnaW5nXG4gICAgICAgIGRpc3BsYXlOZWVkVGl0bGUoKTsvLyBDQU4gSU5TRVJUIERPTSBNQU5JUFVMQVRJT04gVE8gU0hJRlQgRE9XTiBUSEUgRVJST1IgT1ZFUkxBWSA6KVxuICAgICAgICBwcm9qZWN0Rm9ybUNsZWFyKCk7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlRG93biAxLjVzIGZvcndhcmRzXCI7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5TmVlZFRpdGxlKCl7XG4gICAgY29uc3QgZXJyb3JPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvclByb2plY3RPdmVybGF5XCIpO1xuICAgIGVycm9yT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkc1wiXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBlcnJvck92ZXJsYXkuc3R5bGUuYW5pbWF0aW9uID0gXCJwcm9qZWN0U2xpZGVVcCAxLjVzIGZvcndhcmRzXCJcbiAgICB9LCAyNTAwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RGb3JtQ2xlYXIoKXtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlID0gXCJcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlID0gXCJcIjtcbn0iLCJleHBvcnQgZnVuY3Rpb24gZGlzcGxheVRhc2tJbk1haW4odGFzayl7Ly8ocHJvamVjdCwgdWwpIG1pZ2h0IGJlIG5lZWRlZCBhcyBwYXJhbXMgYnV0IHByb2JzIG5vdFxuICAgIGNvbnN0IHByb2pVTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb1VMXCIpO1xuXG4gICAgY29uc3QgdGFza0xJID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAvL3Rhc2tMSS5jbGFzc0xpc3QuYWRkKFwidG9kb1wiKTtcblxuICAgIGNvbnN0IHRhc2tDaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgdGFza0NoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgLy90YXNrQ2hlY2tib3guY2xhc3NMaXN0LmFkZChcInRvZG9DaGVja1wiKTtcblxuICAgIGNvbnN0IHRhc2tEYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHRhc2tEYXRlSW5wdXQudHlwZSA9IFwiZGF0ZVwiO1xuICAgIC8vdGFza0RhdGVJbnB1dC5jbGFzc0xpc3QuYWRkKFwidG9kb0RhdGVcIik7XG5cbiAgICB0YXNrTEkudGV4dENvbnRlbnQgPSB0YXNrLnRUaXRsZSArIFwiICBcIiArIHRhc2sudER1ZTtcbiAgICB0YXNrTEkuYXBwZW5kQ2hpbGQodGFza0RhdGVJbnB1dCk7XG4gICAgdGFza0xJLmFwcGVuZENoaWxkKHRhc2tDaGVja2JveCk7XG5cbiAgICB0YXNrTEkuY2xhc3NMaXN0LmFkZChcInRvZG9cIik7XG5cbiAgICBwcm9qVUwuYXBwZW5kQ2hpbGQodGFza0xJKTtcbn0iLCJpbXBvcnQgeyBkcXMgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGZpbmRQcm9qZWN0SW5BcnIgfSBmcm9tIFwiLi9wcm9qZWN0RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGRpc3BsYXlOZWVkVGl0bGUgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xuLy9pbXBvcnQgeyBfdGVzdGVyaW5nIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG4vL2ltcG9ydCB7IFRhc2sgfSBmcm9tIFwiLi90YXNrQ2xhc3NcIjtcbmltcG9ydCB7IGRpc3BsYXlUYXNrSW5NYWluIH0gZnJvbSBcIi4vdGFza0RPTVwiO1xuXG5leHBvcnQgY29uc3QgdGFza092ZXJsYXkgPSBkcXMoXCIubmV3VGFza092ZXJsYXlcIik7XG4vL2NvbnN0IGN1cnJQcm9qID0ge307Ly9NSUdIVCBCRSBPSyBUTyBQTEFDRSBXSVRISU4gZXh0cmFjdERhdGFGb3JUYXNrIGZ1bmNcbmNvbnN0IHRhc2tDbG9zZSA9IGRxcyhcIi50YXNrQ2xvc2VCdXR0b25cIik7XG5jb25zdCB0YXNrU3VibWl0ID0gZHFzKFwiLnRhc2tTdWJtaXRCdXR0b25cIik7XG5cbmV4cG9ydCBmdW5jdGlvbiB0YXNrT3ZlcmxheUxpc3RlbmVycygpe1xuICAgIC8vIGNvbnN0IHRhc2tDbG9zZSA9IGRxcyhcIi50YXNrQ2xvc2VCdXR0b25cIik7XG4gICAgLy8gY29uc3QgdGFza1N1Ym1pdCA9IGRxcyhcIi50YXNrU3VibWl0QnV0dG9uXCIpO1xuXG4gICAgdGFza0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgdGFza0Zvcm1DbGVhcigpO1xuICAgICAgICB0YXNrT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHNcIlxuICAgIH0pO1xuICAgIHRhc2tTdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGFza1N1Ym1pdCgpKTtcbn1cblxuZnVuY3Rpb24gX3Rhc2tTdWJtaXQoKXtcbiAgICB0YXNrT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZVVwIDEuNXMgZm9yd2FyZHNcIlxuICAgIGNvbnN0IG1hZGVUYXNrID0gZXh0cmFjdERhdGFGb3JUYXNrKCk7XG4gICAgaWYobWFkZVRhc2spe1xuICAgICAgICBkaXNwbGF5VGFza0luTWFpbihtYWRlVGFzayk7Ly9jdXJyZW50IHByb2plY3QgaXMgYWxyZWFkeSBkZXRlY3RlZCBpbiBleHRyYWN0RGF0YUZvclRhc2sgZnVuYy4ubWF5IG5vdCBuZWVkIHByb2ogYW5kIHVsIGFzIHBhcmFtc1xuICAgICAgICAvLyBmb3IobGV0IGEgPSAwOyBhIDwgY3VyclByb2oudG9Eb0xpc3QubGVuZ3RoOyBhKyspeyAgIFRSWSBUTyBESVNQTEFZIEFMTCBUQVNLU1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coKGErMSkrIFwiIFwiKyBjdXJyUHJvai50b0RvTGlzdFthXS50aXRsZSk7XG4gICAgICAgIC8vIH1cbiAgICB9XG4gICAgdGFza0Zvcm1DbGVhcigpO1xuICAgIGNsZWFyRXZMaXMoKTtcbiAgICAvL1BMQUNFIFRISVMgSU5TSURFIEEgU0VQRVJBVEUgRlVOQ1RJT04gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiBpbnNpZGUgZXZlbnRMaXN0ZW5lciBmb3Igc3VibWl0IHRhc2sgZm9ybSkmJSYlJiUmJSYlJiVcbn1cblxuZnVuY3Rpb24gY2xlYXJFdkxpcygpe1xuICAgIHRhc2tTdWJtaXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGFza1N1Ym1pdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0RGF0YUZvclRhc2socHJvail7XG4gICAgY29uc3QgdGFza1RpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0VGl0bGVcIikudmFsdWU7XG4gICAgY29uc3QgdGFza0Rlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInREZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidER1ZURhdGVcIikudmFsdWU7XG4gICAgY29uc3QgdGFza1ByaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRUYXNrUHJpb1wiKS52YWx1ZTtcbiAgICBcbiAgICBjb25zdCB0ZW1wID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTsvL1NIT1VMRCBOT1QgQkUgTkVFREVEIEdJVkVOIFBBUkFNXG4gICAgY29uc3QgdGFza1Byb2ogPSB0ZW1wLnRleHRDb250ZW50O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKHRhc2tQcm9qKTtcblxuICAgIGNvbnN0IGZuZFByb2ogPSBmaW5kUHJvamVjdEluQXJyKHRhc2tQcm9qKTtcblxuICAgIGlmKHRhc2tUaXRsZSAmJiB0YXNrRHVlRGF0ZSl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaGVyZWlhbVwiKTtcbiAgICAgICAgY29uc3QgdGFza01hZGUgPSBmbmRQcm9qLm5ld1Rhc2sodGFza1RpdGxlLCB0YXNrRGVzYywgdGFza0R1ZURhdGUsIHRhc2tQcmlvLCBmbmRQcm9qLnRpdGxlKTtcbiAgICAgICAgLy9jb25zdCB0YXNrTWFkZSA9IG5ldyBUYXNrKHRhc2tUaXRsZSwgdGFza0Rlc2MsIHRhc2tEdWVEYXRlLCB0YXNrUHJpbywgcHJvai50aXRsZSk7Ly90YXNrUHJvaiBhcyBsYXN0IHBhcmFtXG4gICAgICAgIC8vY29uc3QgY3VyclByb2ogPSBmaW5kUHJvamVjdEluQXJyKHRhc2tQcm9qKTtcbiAgICAgICAgLy9wcm9qZWN0LnRvRG9MaXN0LnB1c2godGFza01hZGUpOy8vY3VyclByb2oudG9Eb0xpc3QucHVzaCh0YXNrTWFkZSk7IEVSUk9SIElTIEhBUFBFTklORyBIRVJFIE5FRUQgVE8gRklORCBBIFdBWSBUTyBBQ0NFUyBUSEUgQVJSQVkgQU5EIFBVU0ggSU5UTyBJVFxuICAgICAgICB0YXNrRm9ybUNsZWFyKCk7XG4gICAgICAgIHJldHVybiB0YXNrTWFkZTtcbiAgICB9ZWxzZXtcbiAgICAgICAgZGlzcGxheU5lZWRUaXRsZSgpO1xuICAgICAgICB0YXNrRm9ybUNsZWFyKCk7XG4gICAgICAgIHRhc2tPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9IFwicHJvamVjdFNsaWRlRG93biAxLjVzIGZvcndhcmRzXCI7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0YXNrRm9ybUNsZWFyKCl7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0VGl0bGVcIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidERlc2NyaXB0aW9uXCIpLnZhbHVlID0gXCJcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInREdWVEYXRlXCIpLnZhbHVlID0gXCJcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRUYXNrUHJpb1wiKS52YWx1ZSA9IFwiU2VsZWN0IE9uZVwiO1xufSIsImltcG9ydCB7IGRxcyB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgcHJvakFyciB9IGZyb20gXCIuL21lbnVFdmVudExpc3RlbmVyc1wiO1xuaW1wb3J0IHsgY2xlYXJNYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgdGFza092ZXJsYXksIHRhc2tPdmVybGF5TGlzdGVuZXJzIH0gZnJvbSBcIi4vdGFza0Zvcm1cIjtcbi8vaW1wb3J0IHsgcHJvak92ZXJsYXkgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcblxuLy9jb25zdCBwcm9qVGFza0FkZCA9IGRxcyhcIi5wcm9qQWRkXCIpO1xuLy9jb25zdCBwcm9qUmVtQnV0dG9uID0gZHFzKFwiLnByb2pSZW1vdmVcIik7XG5jb25zdCBwcm9qT3ZlcmxheTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdEVMaXN0ZW5lcnMoKXtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90ZXN0ZXJpbmcpXG59O1xuXG5leHBvcnQgdmFyIF90ZXN0ZXJpbmcgPSBmdW5jdGlvbihlKXtcbiAgICAvL2dvIHRocm91aGcgYXJyYXkgY29tcGFyaW5nIHRpdGxlXG4gICAgICAgIC8vd2hlbiBmb3VuZCBmaWxsIHByb2plY3RGb3JtIGFuZCBkcm9wIGZvcm0gZG93biBmb3IgdXNlclxuICAgICAgICAvL2lmIHN1Ym1pdCB0aGVuIHJlcGxhY2UgaW5mbyB3aXRoIG5ldyBpbmZvXG4gICAgICAgIC8vZWxzZSBpZiBjYW5jZWwgdGhlbiBsZWF2ZSBwcm9qZWN0IGFzIGl0IHdhc1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiaW4gcHJvakVkaXRCdXR0b24gZXZlbnRMaXN0ZW5lclwiKTtcbiAgICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvakVkaXRcIik7XG4gICAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvalJlbW92ZVwiKTtcbiAgICAgICAgY29uc3QgYWRkVGFza0J1dHRvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoXCIucHJvakFkZFwiKTtcbiAgICAgICAgY29uc3QgY3VyclRpdGxlID0gZHFzKFwiLnByb2plY3ROYW1lTWFpblwiKTtcbiAgICAgICAgaWYoZWRpdEJ1dHRvbil7Ly90aGlzIHdpbGwgYmUgZG9uZSBvbmNlICdyZW1vdmUnIGlzIGNvbXBsZXRlZFxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlZGl0QnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICAgICAgICBlZGl0Rm9ybShjdXJyVGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgLy9jb25zdCBmb3VuZFByb2ogPSBmaW5kUHJvamVjdEluQXJyKGN1cnJUaXRsZSk7Ly90aGlzIHdpbGwgYmUgbGVmdCB0aWxsIHRoZSBlbmRcbiAgICAgICAgICAgIGZvcihsZXQgYSA9IDA7IGEgPCBwcm9qQXJyLmxlbmd0aDsgYSsrKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygoYSsxKSsgXCIgXCIrIHByb2pBcnJbYV0udGl0bGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNlIGlmKHJlbW92ZUJ1dHRvbil7XG4gICAgICAgICAgICAvL2NvbnN0IGN1cnJUaXRsZSA9IGRxcyhcIi5wcm9qZWN0TmFtZU1haW5cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbW92ZUJ1dHRvbiBjbGlja2VkXCIpO1xuICAgICAgICAgICAgcmVtb3ZlUHJvamVjdFNpZGUoY3VyclRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIHJlbW92ZVByb2pBcnIoY3VyclRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIGNsZWFyTWFpbigpO1xuICAgICAgICAgICAgLy9jb25zdCBzaWRlQmFyID0gZHFzKFwiLnNpZGViYXItbWVudVwiKTtcbiAgICAgICAgICAgIC8vc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlT24gMS41cyBmb3J3YXJkcyc7XG4gICAgICAgICAgICBmb3IobGV0IGEgPSAwOyBhIDwgcHJvakFyci5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coKGErMSkrIFwiIFwiKyBwcm9qQXJyW2FdLnRpdGxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoYWRkVGFza0J1dHRvbil7XG4gICAgICAgICAgICB0YXNrT3ZlcmxheS5zdHlsZS5hbmltYXRpb24gPSBcInByb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkc1wiO1xuICAgICAgICAgICAgLy9jb25zdCBmb3VuZFByb2ogPSBmaW5kUHJvamVjdEluQXJyKGN1cnJUaXRsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiZm91bmRQcm9qZWN0SW5BcnI6IFwiICsgZm91bmRQcm9qLnRpdGxlKTtcbiAgICAgICAgICAgIHRhc2tPdmVybGF5TGlzdGVuZXJzKCk7Ly9hZGQgcHJvaiBhcyBwYXJhbSBoZXJlISEhIGZpbmQgcHJvaiBvbiBsaW5lIGJlZm9yZSB0aGlzXG4gICAgICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJvamVjdFNpZGUocHJvak5hbWUpe1xuICAgIGNvbnN0IHNpZGViYXJQcm9qID0gZHFzKFwiLnNpZGViYXJQcm9qZWN0XCIpO1xuICAgIGNvbnN0IHNpZGViYXJQcm9qQ2hpbGRyZW4gPSBzaWRlYmFyUHJvai5jaGlsZHJlbjtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgc2lkZWJhclByb2pDaGlsZHJlbi5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKHNpZGViYXJQcm9qQ2hpbGRyZW5baV0udGV4dENvbnRlbnQgPT0gcHJvak5hbWUpe1xuICAgICAgICAgICAgc2lkZWJhclByb2oucmVtb3ZlQ2hpbGQoc2lkZWJhclByb2pDaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByb2pBcnIocHJvak5hbWUpe1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaWYocHJvakFycltpXS50aXRsZSA9PSBwcm9qTmFtZSl7XG4gICAgICAgICAgICBwcm9qQXJyLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZWRpdEZvcm0ocHJvamVjdFRpdGxlKXtcbiAgICBwcm9qT3ZlcmxheTEuc3R5bGUuYW5pbWF0aW9uID0gJ3Byb2plY3RTbGlkZURvd24gMS41cyBmb3J3YXJkcyc7XG4gICAgY29uc3QgdGl0bGVJbiA9IGRxcyhcIiN0aXRsZVwiKTtcbiAgICB0aXRsZUluLnZhbHVlID0gcHJvamVjdFRpdGxlO1xuXG4gICAgLy9hZGQgZXZlbnRMaXN0ZW5lciBmb3Igc3VibWl0IGFuZCBjYW5jZWwgYnV0dG9ucyBvbiBwcm9qZWN0IGZvcm1cbiAgICAvL2hvcGVmdWxseSB0aGV5IHdpbGwgZG8gc29tZXRoaW5nIGRpZmZlcmVudD8/P1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRQcm9qZWN0SW5BcnIodGl0bGUpey8vTUlHSFQgTk9UIE5FRUQgVEhJUyBNSUdIVCBOT1QgTkVFRCBUSElTIE1JR0hUIE5PVCBORUVEIFRISVNcbiAgICAvL2NvbnNvbGUubG9nKFwibG9va2luZyBmb3IgcHJvamVjdCBpbiBhcnJcIilcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qQXJyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICBpZihwcm9qQXJyW2ldLnRpdGxlID09IHRpdGxlKXtcbiAgICAgICAgICAgIHJldHVybiBwcm9qQXJyW2ldO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBSZW1vdmUgZnJvbSAnLi4vc3JjL2ltZ3MvY2xvc2UucG5nJztcbmltcG9ydCBDcmVhdGUgZnJvbSAnLi4vc3JjL2ltZ3MvYWRkLnBuZyc7XG5pbXBvcnQgRWRpdCBmcm9tICcuLi9zcmMvaW1ncy9lZGl0LnBuZyc7XG5pbXBvcnQgeyBkcXMgfSBmcm9tICcuL21lbnVFdmVudExpc3RlbmVycyc7XG5pbXBvcnQgeyBwcm9qZWN0RUxpc3RlbmVycyB9IGZyb20gJy4vcHJvamVjdEV2ZW50TGlzdGVuZXJzJztcbmltcG9ydCB7IF90ZXN0ZXJpbmcgfSBmcm9tICcuL3Byb2plY3RFdmVudExpc3RlbmVycyc7XG5pbXBvcnQgeyBkaXNwbGF5VGFza0luTWFpbiB9IGZyb20gJy4vdGFza0RPTSc7XG5cbmNvbnN0IG1haW5TZWMgPSBkcXMoXCIucHJvamVjdFNlY3Rpb25cIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0VG9TaWRlYmFyKHByb2plY3RUaXRsZSl7XG4gICAgY29uc3QgcHJvalNpZGUgPSBkcXMoXCIuc2lkZWJhclByb2plY3RcIik7XG4gICAgbGV0IHByb2pUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBwcm9qVGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0VGl0bGU7XG4gICAgcHJvalRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3ROYW1lU2lkZWJhcicpO1xuICAgIHByb2pTaWRlLmFwcGVuZENoaWxkKHByb2pUaXRsZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5UHJvamVjdEluTWFpbihwcm9qZWN0KXtcbiAgICBjbGVhck1haW4oKTtcbiAgICBjb25zdCBwcm9qRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBjb25zdCB0YXNrU2VjVUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRhc2tTZWNVTC5jbGFzc0xpc3QuYWRkKFwidG9kb1VMXCIpXG4gICAgXG4gICAgY29uc3QgcHJvakNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBwcm9qQ2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICBwcm9qQ2hlY2tib3guY2xhc3NMaXN0LmFkZChcInByb2plY3RDaGVja2JveFwiKTtcblxuICAgIFxuICAgIGNvbnN0IHByb2pOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBpZihwcm9qZWN0LnRpdGxlLmxlbmd0aCA+IDMwKXtcbiAgICAgICAgbGV0IG1haW5Nb2RQcm9qVGl0bGUgPSBwcm9qZWN0LnRpdGxlLnNsaWNlKDAsMzEpO1xuICAgICAgICBwcm9qTmFtZVNwYW4udGV4dENvbnRlbnQgPSBtYWluTW9kUHJvalRpdGxlICsgXCIuLi5cIjtcbiAgICB9ZWxzZXtcbiAgICAgICAgcHJvak5hbWVTcGFuLnRleHRDb250ZW50ID0gcHJvamVjdC50aXRsZTtcbiAgICB9XG4gICAgcHJvak5hbWVTcGFuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0TmFtZU1haW5cIik7XG5cbiAgICBcbiAgICBjb25zdCBidXR0b25Db250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG4gICAgY29uc3QgYWRkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgZWRpdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHJlbW92ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgYWRkSWNvbiA9IG5ldyBJbWFnZSgpO1xuICAgIGFkZEljb24uc3JjID0gQ3JlYXRlO1xuICAgIGFkZEljb24uY2xhc3NMaXN0LmFkZCgncHJvakFkZCcpO1xuXG4gICAgY29uc3QgZWRpdEljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBlZGl0SWNvbi5zcmMgPSBFZGl0O1xuICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2pFZGl0Jyk7XG5cbiAgICBjb25zdCByZW1JY29uID0gbmV3IEltYWdlKCk7XG4gICAgcmVtSWNvbi5zcmMgPSBSZW1vdmU7XG4gICAgcmVtSWNvbi5jbGFzc0xpc3QuYWRkKCdwcm9qUmVtb3ZlJyk7XG5cbiAgICBhZGREaXYuYXBwZW5kQ2hpbGQoYWRkSWNvbik7XG4gICAgZWRpdERpdi5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG4gICAgcmVtb3ZlRGl2LmFwcGVuZENoaWxkKHJlbUljb24pO1xuICAgIFxuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQoYWRkRGl2KTtcbiAgICBidXR0b25Db250LmFwcGVuZENoaWxkKGVkaXREaXYpO1xuICAgIGJ1dHRvbkNvbnQuYXBwZW5kQ2hpbGQocmVtb3ZlRGl2KTtcbiAgICBidXR0b25Db250LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0T3B0aW9uc1wiKTtcblxuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQocHJvakNoZWNrYm94KTtcbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKHByb2pOYW1lU3Bhbik7XG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChidXR0b25Db250KTtcbiAgICBwcm9qRGl2LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xuXG4gICAgbWFpblNlYy5hcHBlbmRDaGlsZChwcm9qRGl2KTtcbiAgICBtYWluU2VjLmFwcGVuZENoaWxkKHRhc2tTZWNVTCk7XG4gICAgXG4gICAgLy9jaGVjayBmb3IgdGFza3Mgd2l0aCBhIGxvb3AgYW5kIGRpc3BsYXkgZWFjaFxuICAgIGNoZWNrRm9yVGFza3MocHJvamVjdCk7XG5cbiAgICAvL2NhbGwgZXZlbnRMaXN0ZW5lciBoZXJlXG4gICAgcHJvamVjdEVMaXN0ZW5lcnMoKTsvL1dJTEwgSEFWRSBUTyBBREQgRVZFTlQgTElTVEVORVJTIEZPUiBUQVNLUyBIRVJFPz8/XG4gICAgY29uc29sZS5sb2coXCJ0aGlzIGNvbnNvbGUgbG9nIGlzIGFmdGVyIHRoZSBwcm9qZWN0RWxpc3RlbmVycyBpdCBsb29rcyBsaWtlIGl0cyB3b3JraW5nPz9cIik7XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yVGFza3MocHJvail7XG4gICAgLy9naXZlbiBwcm9qIGFzIHBhcmFtIHdlIHdpbGwgY2hlY2sgaWYgaXQgY29udGFpbnMgYW55IHRhc2tzIHRoYXQgbmVlZCB0byBiZSBjcmVhdGVkXG4gICAgY29uc3QgaSA9IDA7XG4gICAgd2hpbGUocHJvai50b0RvTGlzdCl7XG4gICAgICAgIGRpc3BsYXlUYXNrSW5NYWluKHByb2oudG9Eb0xpc3RbaV0pO1xuICAgICAgICBpKys7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJNYWluKCl7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGVzdGVyaW5nKTtcbiAgICB3aGlsZShtYWluU2VjLmZpcnN0Q2hpbGQpe1xuICAgICAgICBtYWluU2VjLnJlbW92ZUNoaWxkKG1haW5TZWMuZmlyc3RDaGlsZClcbiAgICB9XG59IiwiaW1wb3J0IE1lbnUgZnJvbSAnLi4vc3JjL2ltZ3MvbWVudS5wbmcnXG5pbXBvcnQgQnJhbmQgZnJvbSAnLi4vc3JjL2ltZ3MvV29ya2VyQW50c01vZC5wbmcnO1xuaW1wb3J0IENsb3NlIGZyb20gJy4uL3NyYy9pbWdzL2Nsb3NlLnBuZyc7XG5pbXBvcnQgQ3JlYXRlIGZyb20gJy4uL3NyYy9pbWdzL2FkZC5wbmcnO1xuaW1wb3J0IHsgZGlzcGxheVByb2plY3RJbk1haW4gfSBmcm9tICcuL3Byb2plY3RET00nO1xuaW1wb3J0IHsgZmluZFByb2plY3RJbkFyciB9IGZyb20gJy4vcHJvamVjdEV2ZW50TGlzdGVuZXJzJztcbi8vSSBORUVEIFRPIEFERCBBIEdMT0JBTCBWQVJJQUJMRSBBUlJBWSBUSEFUIFNUT1JFUyBBTEwgVEhFIFBST0pFQ1RTIEhFUkVcbmV4cG9ydCBsZXQgcHJvakFyciA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gZHFzKGMpe1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVudUV2ZW50TGlzdGVuKCl7XG4gICAgY29uc3QgbWVudUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudUNvbnRhaW5lclwiKTtcbiAgICBjb25zdCBtYWluTG9nb0NvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5Mb2dvXCIpO1xuICAgIGNvbnN0IGNsb3NlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51Q2xvc2VcIik7XG4gICAgY29uc3QgY3JlYXRlUHJvakNvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNyZWF0ZVByb2pcIik7XG4gICAgXG4gICAgY29uc3QgbWVudUljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICBtZW51SWNvbi5zcmMgPSBNZW51O1xuICAgIG1lbnVJY29uLmNsYXNzTGlzdC5hZGQoJ21haW4tbWVudS1sb2dvJyk7XG5cbiAgICBjb25zdCBtYWluTG9nb0ltZyA9IG5ldyBJbWFnZSgpO1xuICAgIG1haW5Mb2dvSW1nLnNyYyA9IEJyYW5kO1xuICAgIG1haW5Mb2dvSW1nLmNsYXNzTGlzdC5hZGQoJ21haW4tbG9nbycpO1xuXG4gICAgY29uc3QgY2xvc2VJY29uID0gbmV3IEltYWdlKCk7XG4gICAgY2xvc2VJY29uLnNyYyA9IENsb3NlO1xuICAgIGNsb3NlSWNvbi5jbGFzc0xpc3QuYWRkKCdtZW51Q2xvc2UnKTtcblxuICAgIGNvbnN0IGNyZWF0ZVByb2pJY29uID0gbmV3IEltYWdlKCk7XG4gICAgY3JlYXRlUHJvakljb24uc3JjID0gQ3JlYXRlO1xuICAgIGNyZWF0ZVByb2pJY29uLmNsYXNzTGlzdC5hZGQoJ2FkZFByb2pCdXR0b24nKTtcblxuICAgIG1lbnVDb250YWluZXIuYXBwZW5kQ2hpbGQobWVudUljb24pO1xuICAgIG1haW5Mb2dvQ29udC5hcHBlbmRDaGlsZChtYWluTG9nb0ltZyk7XG4gICAgY2xvc2VDb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcbiAgICBjcmVhdGVQcm9qQ29udC5hcHBlbmRDaGlsZChjcmVhdGVQcm9qSWNvbik7XG5cbiAgICBjb25zdCBzaWRlQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW1lbnVcIik7XG4gICAgY29uc3QgcHJvak92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld1Byb2plY3RPdmVybGF5XCIpO1xuXG4gICAgbWVudUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNpZGVCYXIuc3R5bGUuYW5pbWF0aW9uID0gJ21lbnVTbGlkZU9uIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIGNsb3NlQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlQ2xvc2UgMS41cyBmb3J3YXJkcyc7XG4gICAgfSk7XG4gICAgY3JlYXRlUHJvakNvbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiY3JlYXRlIHByb2plY3QgYnV0dG9uIGNsaWNrZWQhIVwiKTtcbiAgICAgICAgc2lkZUJhci5zdHlsZS5hbmltYXRpb24gPSAnbWVudVNsaWRlQ2xvc2UgMS41cyBmb3J3YXJkcyc7XG4gICAgICAgIHByb2pPdmVybGF5LnN0eWxlLmFuaW1hdGlvbiA9ICdwcm9qZWN0U2xpZGVEb3duIDEuNXMgZm9yd2FyZHMnO1xuICAgIH0pO1xuICAgIHNpZGVCYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZihlLnRhcmdldC50YWdOYW1lID09PSAnU1BBTicpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGUgZm9sbG93aW5nIGlzIGUudGFyZ2V0LnZhbHVlXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZS50YXJnZXQudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3QgZGlzcFByb2ogPSBmaW5kUHJvamVjdEluQXJyKGUudGFyZ2V0LnRleHRDb250ZW50KVxuICAgICAgICAgICAgZGlzcGxheVByb2plY3RJbk1haW4oZGlzcFByb2opO1xuICAgICAgICAgICAgLy9kaXNwbGF5VGFza0luTWFpbihkaXNwUHJvaik7Ly9USElTIE1JR0hUIEhBVkUgVE8gQkUgQ0FMTEVEIFdJVEhJTiBESVNQTEFZUFJPSkVDVElOTUFJTiBXSVRIIFRIRSBQUk9KRUNUIEFORCBVTCBQQVJBTUVURVJTXG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJpbXBvcnQgeyBtZW51RXZlbnRMaXN0ZW4sIHByb2pBcnIgfSBmcm9tIFwiLi9tZW51RXZlbnRMaXN0ZW5lcnNcIjtcbmltcG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGRpc3BsYXlQcm9qZWN0SW5NYWluIH0gZnJvbSBcIi4vcHJvamVjdERPTVwiO1xuaW1wb3J0IHsgcHJvamVjdE92ZXJsYXlTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RGb3JtXCI7XG5pbXBvcnQgeyB0YXNrT3ZlcmxheUxpc3RlbmVycyB9IGZyb20gXCIuL3Rhc2tGb3JtXCI7XG4vL2ltcG9ydCB7IHByb2plY3RFTGlzdGVuZXJzIH0gZnJvbSBcIi4vcHJvamVjdEV2ZW50TGlzdGVuZXJzXCI7XG4vLyBpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdENsYXNzXCI7XG4vLyBpbXBvcnQgeyBjcmVhdGVQcm9qZWN0RnJvbURhdGEgfSBmcm9tIFwiLi9wcm9qZWN0Rm9ybVwiO1xubWVudUV2ZW50TGlzdGVuKCk7XG5wcm9qZWN0T3ZlcmxheVN0dWZmKCk7XG5kaXNwbGF5UHJvamVjdEluTWFpbih7dGl0bGU6IFwiZGVmYXVsdFByb2plY3RcIiwgZGVzY3JpcHRpb246IFwiVGhpcyBpcyBhIGRlZmF1bHQgcHJvamVjdC4gWW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biA6KVwifSk7XG5hZGRQcm9qZWN0VG9TaWRlYmFyKFwiZGVmYXVsdFByb2plY3RcIik7XG5wcm9qQXJyWzBdID0ge3RpdGxlOiBcImRlZmF1bHRQcm9qZWN0XCIsIGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBkZWZhdWx0IHByb2plY3QuIFlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gOilcIn07XG4vL3Rhc2tPdmVybGF5TGlzdGVuZXJzKCk7XG4vL3Byb2plY3RFTGlzdGVuZXJzKCk7XG4vLyBsZXQgcHJvajEgPSBuZXcgUHJvamVjdChcImNhcmxvc0JydWhcIiwgXCJhcGl1ZlwiKTtcbi8vIGNvbnNvbGUubG9nKHByb2oxLm5hbWUpO1xuLy8gY29uc29sZS5sb2cocHJvajEuZGVzY3JpcHRpb24pOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiaSIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJUYXNrIiwiY29uc3RydWN0b3IiLCJ0VGl0bGUiLCJ0RGVzYyIsInREdWUiLCJ0UHJpbyIsInRQcm9qIiwibmV3dFRpdGxlIiwiX3RUaXRsZSIsIm5ld3REZXNjIiwiX3REZXNjIiwibmV3dER1ZSIsIl90RHVlIiwibmV3dFByaW8iLCJfdFByaW8iLCJuZXd0UHJvaiIsIl90UHJvaiIsIlByb2plY3QiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidG9Eb3MiLCJuZXdUYXNrIiwiVHRpdGxlIiwiVGRlc2MiLCJUZHVlIiwiVHByaW8iLCJUcHJvaiIsInQiLCJwdXNoIiwibnVtT2ZUYXNrcyIsIl90b0RvcyIsIl90aXRsZSIsIl9kZXNjcmlwdGlvbiIsInRvRG9MaXN0IiwibmV3VGl0bGUiLCJuZXdEZXNjIiwicHJvak92ZXJsYXkiLCJxdWVyeVNlbGVjdG9yIiwiZGlzcGxheU5lZWRUaXRsZSIsImVycm9yT3ZlcmxheSIsInN0eWxlIiwiYW5pbWF0aW9uIiwic2V0VGltZW91dCIsInByb2plY3RGb3JtQ2xlYXIiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwiZGlzcGxheVRhc2tJbk1haW4iLCJ0YXNrIiwicHJvalVMIiwidGFza0xJIiwiY3JlYXRlRWxlbWVudCIsInRhc2tDaGVja2JveCIsInR5cGUiLCJ0YXNrRGF0ZUlucHV0IiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImNsYXNzTGlzdCIsImFkZCIsInRhc2tPdmVybGF5IiwiZHFzIiwidGFza0Nsb3NlIiwidGFza1N1Ym1pdCIsIl90YXNrU3VibWl0IiwibWFkZVRhc2siLCJwcm9qIiwidGFza1RpdGxlIiwidGFza0Rlc2MiLCJ0YXNrRHVlRGF0ZSIsInRhc2tQcmlvIiwidGFza1Byb2oiLCJjb25zb2xlIiwibG9nIiwiZm5kUHJvaiIsImZpbmRQcm9qZWN0SW5BcnIiLCJ0YXNrTWFkZSIsInRhc2tGb3JtQ2xlYXIiLCJleHRyYWN0RGF0YUZvclRhc2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJvak92ZXJsYXkxIiwiX3Rlc3RlcmluZyIsImVkaXRCdXR0b24iLCJ0YXJnZXQiLCJtYXRjaGVzIiwicmVtb3ZlQnV0dG9uIiwiYWRkVGFza0J1dHRvbiIsImN1cnJUaXRsZSIsInByb2plY3RUaXRsZSIsImEiLCJwcm9qQXJyIiwicHJvak5hbWUiLCJzaWRlYmFyUHJvaiIsInNpZGViYXJQcm9qQ2hpbGRyZW4iLCJjaGlsZHJlbiIsInJlbW92ZUNoaWxkIiwicmVtb3ZlUHJvamVjdFNpZGUiLCJzcGxpY2UiLCJyZW1vdmVQcm9qQXJyIiwiY2xlYXJNYWluIiwiYWRkRXZlbnRMaXN0ZW5lciIsImluZGV4IiwibWFpblNlYyIsImFkZFByb2plY3RUb1NpZGViYXIiLCJwcm9qU2lkZSIsInByb2pUaXRsZSIsImRpc3BsYXlQcm9qZWN0SW5NYWluIiwicHJvamVjdCIsInByb2pEaXYiLCJ0YXNrU2VjVUwiLCJwcm9qQ2hlY2tib3giLCJwcm9qTmFtZVNwYW4iLCJtYWluTW9kUHJvalRpdGxlIiwic2xpY2UiLCJidXR0b25Db250IiwiYWRkRGl2IiwiZWRpdERpdiIsInJlbW92ZURpdiIsImFkZEljb24iLCJJbWFnZSIsImVkaXRJY29uIiwicmVtSWNvbiIsImNoZWNrRm9yVGFza3MiLCJmaXJzdENoaWxkIiwiYyIsIm1lbnVDb250YWluZXIiLCJtYWluTG9nb0NvbnQiLCJjbG9zZUNvbnRhaW5lciIsImNyZWF0ZVByb2pDb250IiwibWVudUljb24iLCJtYWluTG9nb0ltZyIsImNsb3NlSWNvbiIsImNyZWF0ZVByb2pJY29uIiwic2lkZUJhciIsInRhZ05hbWUiLCJtZW51RXZlbnRMaXN0ZW4iLCJjbG9zZUJ1dHRvbiIsInN1Ym1pdEJ1dHRvbiIsInByb2plY3RQYXJhbSIsInRpdGxlSW5wdXQiLCJkZXNjSW5wdXQiLCJwcm9qZWN0TWFkZSIsImV4dHJhY3REYXRhRm9yUHJvamVjdCIsInByb2plY3RPdmVybGF5U3R1ZmYiXSwic291cmNlUm9vdCI6IiJ9